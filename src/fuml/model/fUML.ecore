<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="fUML" nsURI="http://www.omg.org/spec/FUML/20180501" nsPrefix="fUML_Semantics">
  <eSubpackages name="Semantics" nsURI="http:///fUML_Semantics/Semantics.ecore" nsPrefix="fUML_Semantics.Semantics">
    <eSubpackages name="Classification" nsURI="http:///fUML_Semantics/Semantics/Classification.ecore"
        nsPrefix="fUML_Semantics.Semantics.Classification">
      <eClassifiers xsi:type="ecore:EClass" name="InstanceValueEvaluation" eSuperTypes="#//Semantics/Values/Evaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/DataValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/EnumerationValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/Execution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Executor.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Object.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/Classifier.hpp&quot;&#xA;#include &quot;uml/DataType.hpp&quot;&#xA;#include &quot;uml/Enumeration.hpp&quot;&#xA;#include &quot;uml/EnumerationLiteral.hpp&quot;&#xA;#include &quot;uml/InstanceSpecification.hpp&quot;&#xA;#include &quot;uml/InstanceValue.hpp&quot;&#xA;#include &quot;uml/Slot.hpp&quot;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::InstanceSpecification> instance = (std::dynamic_pointer_cast&lt;uml::InstanceValue>(this->getSpecification()))->getInstance();&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > types = instance->getClassifier();&#xA;&#x9;std::shared_ptr&lt;uml::Classifier> myType = types->at(0);&#xA;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt;(&quot;[evaluate] type = &quot; + myType->getName())&lt;&lt;std::endl;)&#xA;&#xA;    std::shared_ptr&lt;fUML::Semantics::Values::Value> value;&#xA;    std::shared_ptr&lt;uml::EnumerationLiteral> literal = std::dynamic_pointer_cast&lt;uml::EnumerationLiteral>(instance);&#xA;    if(literal != nullptr)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::EnumerationValue> enumerationValue(FUMLFactory::eInstance()->createEnumerationValue());&#xA;        enumerationValue->setType(std::dynamic_pointer_cast&lt;uml::Enumeration>(myType));&#xA;        enumerationValue->setLiteral(literal);&#xA;        value = enumerationValue;&#xA;    }&#xA;    else&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StructuredValue> structuredValue = nullptr;&#xA;    &#x9;std::shared_ptr&lt;uml::DataType> type = std::dynamic_pointer_cast&lt;uml::DataType>(myType);&#xA;        if(type != nullptr)&#xA;        {&#xA;            // Debug.println(&quot;[evaluate] Type is a data type.&quot;);&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::DataValue> dataValue(FUMLFactory::eInstance()->createDataValue());&#xA;            dataValue->setType(type);&#xA;            structuredValue = dataValue;&#xA;        }&#xA;        else&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> object = nullptr;&#xA;        &#x9;std::shared_ptr&lt;uml::Behavior> behavior = std::dynamic_pointer_cast&lt;uml::Behavior>(myType);&#xA;            if(behavior != nullptr)&#xA;            {&#xA;                // Debug.println(&quot;[evaluate] Type is a behavior.&quot;);&#xA;                object = this->getLocus()->getFactory()->createExecution(behavior, nullptr);&#xA;            }&#xA;            else&#xA;            {&#xA;                // Debug.println(&quot;[evaluate] Type is a class.&quot;);&#xA;                object = FUMLFactory::eInstance()->createObject();&#xA;                for(unsigned int i = 0; i &lt; types->size(); i++)&#xA;                {&#xA;                &#x9;std::shared_ptr&lt;uml::Classifier> type = types->at(i);&#xA;                    object->getTypes()->push_back(std::dynamic_pointer_cast&lt;uml::Class>(type));&#xA;                }&#xA;            }&#xA;&#xA;            this->getLocus()->add(object);&#xA;&#xA;            std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference(FUMLFactory::eInstance()->createReference());&#xA;            reference->setReferent(object);&#xA;            structuredValue = reference;&#xA;        }&#xA;&#xA;        structuredValue->createFeatureValues();&#xA;&#xA;        std::shared_ptr&lt;Bag&lt;uml::Slot> > instanceSlots = instance->getSlot();&#xA;        for(unsigned int i = 0; i &lt; instanceSlots->size(); i++)&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;uml::Slot> slot = instanceSlots->at(i);&#xA;        &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values(new Bag&lt;fUML::Semantics::Values::Value>());&#xA;&#xA;        &#x9;std::shared_ptr&lt;Bag&lt;uml::ValueSpecification> > slotValues = slot->getValue();&#xA;            for(unsigned int j = 0; j &lt; slotValues->size(); j++)&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;uml::ValueSpecification> slotValue = slotValues->at(j);&#xA;                values->push_back(this->getLocus()->getExecutor()->evaluate(slotValue));&#xA;            }&#xA;            structuredValue->assignFeatureValue(slot->getDefiningFeature(), values, 0);&#xA;        }&#xA;&#xA;        value = structuredValue;&#xA;    }&#xA;&#xA;    return value;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
    </eSubpackages>
    <eSubpackages name="Values" nsURI="http:///fUML_Semantics/Semantics/Values.ecore"
        nsPrefix="fUML_Semantics.Semantics.Values">
      <eClassifiers xsi:type="ecore:EClass" name="Evaluation" abstract="true" eSuperTypes="#//Semantics/Loci/SemanticVisitor">
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="specification" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="locus" ordered="false"
            lowerBound="1" eType="#//Semantics/Loci/Locus"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralBooleanEvaluation" eSuperTypes="#//Semantics/Values/LiteralEvaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/BooleanValue.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/LiteralBoolean.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralBoolean> literal = std::dynamic_pointer_cast&lt;uml::LiteralBoolean>(getSpecification());&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::BooleanValue> booleanValue(FUMLFactory::eInstance()->createBooleanValue());&#xA;    booleanValue->setType(this->getType(&quot;Boolean&quot;));&#xA;    booleanValue->setValue(literal->getValue());&#xA;    return booleanValue;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralEvaluation" abstract="true"
          eSuperTypes="#//Semantics/Values/Evaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;uml/ValueSpecification.hpp&quot;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xA;#include &quot;uml/Type.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getType" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//PrimitiveType">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::PrimitiveType> type = std::dynamic_pointer_cast&lt;uml::PrimitiveType>(this->getSpecification()->getType());&#xD;&#xA;&#xD;&#xA;    if(type == nullptr)&#xD;&#xA;    {&#xD;&#xA;        type = this->getLocus()->getFactory()->getBuiltInType(builtInTypeName);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return type;"/>
          </eAnnotations>
          <eParameters name="builtInTypeName" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralIntegerEvaluation" eSuperTypes="#//Semantics/Values/LiteralEvaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/IntegerValue.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/LiteralInteger.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralInteger> literal = std::dynamic_pointer_cast&lt;uml::LiteralInteger>(getSpecification());&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::IntegerValue> integerValue(FUMLFactory::eInstance()->createIntegerValue());&#xA;    integerValue ->setType(this->getType(&quot;Integer&quot;));&#xA;    integerValue ->setValue(literal->getValue());&#xA;&#xA;    return integerValue ;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralNullEvaluation" eSuperTypes="#//Semantics/Values/LiteralEvaluation">
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return nullptr;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralRealEvaluation" eSuperTypes="#//Semantics/Values/LiteralEvaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/RealValue.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/LiteralReal.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralReal> literal = std::dynamic_pointer_cast&lt;uml::LiteralReal>(this->getSpecification());&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::RealValue> realValue(fUML::FUMLFactory::eInstance()->createRealValue());&#xA;&#x9;realValue->setType(this->getType(&quot;Real&quot;));&#xA;&#x9;realValue->setValue(literal->getValue());&#xA;&#x9;return realValue;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralStringEvaluation" eSuperTypes="#//Semantics/Values/LiteralEvaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/StringValue.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/LiteralString.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralString> literal = std::dynamic_pointer_cast&lt;uml::LiteralString>(getSpecification());&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StringValue> stringValue(FUMLFactory::eInstance()->createStringValue());&#xA;    stringValue->setType(this->getType(&quot;String&quot;));&#xA;    stringValue->setValue(literal->getValue());&#xA;    return stringValue ;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LiteralUnlimitedNaturalEvaluation"
          eSuperTypes="#//Semantics/Values/LiteralEvaluation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/UnlimitedNaturalValue.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/LiteralUnlimitedNatural.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralUnlimitedNatural> literal = std::dynamic_pointer_cast&lt;uml::LiteralUnlimitedNatural>(getSpecification());&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::UnlimitedNaturalValue> unlimitedNaturalValue(FUMLFactory::eInstance()->createUnlimitedNaturalValue());&#xA;    unlimitedNaturalValue->setType(this->getType(&quot;UnlimitedNatural&quot;));&#xA;    unlimitedNaturalValue->setValue(literal->getValue());&#xA;    return unlimitedNaturalValue;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Value" abstract="true" eSuperTypes="#//Semantics/Loci/SemanticVisitor">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xD;&#xA;#include &quot;uml/Classifier.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > myTypes = this->getTypes();&#xD;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > otherTypes = otherValue->getTypes();&#xD;&#xA;&#xD;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;in Value&quot;&lt;&lt;std::endl;)&#xD;&#xA;    bool isEqual = true;&#xD;&#xA;&#xD;&#xA;    if(myTypes->size() != otherTypes->size())&#xD;&#xA;    {&#xD;&#xA;        isEqual = false;&#xD;&#xA;    }&#xD;&#xA;    else&#xD;&#xA;    {&#xD;&#xA;        unsigned int i = 0;&#xD;&#xA;        while(isEqual &amp;&amp; i &lt; myTypes->size())&#xD;&#xA;        {&#xD;&#xA;            bool matched = false;&#xD;&#xA;            unsigned int j = 0;&#xD;&#xA;            while(!matched &amp;&amp; j &lt; otherTypes->size())&#xD;&#xA;            {&#xD;&#xA;                matched = (otherTypes->at(j) == myTypes->at(i));&#xD;&#xA;                j = j + 1;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            isEqual = matched;&#xD;&#xA;            i = i + 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="getTypes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="const"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="hasTypes" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > types = this->getTypes();&#xD;&#xA;&#xD;&#xA;    bool found = false;&#xD;&#xA;    unsigned int i = 0;&#xD;&#xA;    while(!found &amp;&amp; i &lt; types->size())&#xD;&#xA;    {&#xD;&#xA;        found = (types->at(i) == type);&#xD;&#xA;        i = i + 1;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return found;"/>
          </eAnnotations>
          <eParameters name="type" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
        </eOperations>
        <eOperations name="objectId" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return &quot;SemanticVisitor&quot;;//typename(SemanticVisitor); //return super.toString();&#xD;&#xA;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="checkAllParents" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="type" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
          <eParameters name="classifier" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
        </eOperations>
      </eClassifiers>
    </eSubpackages>
    <eSubpackages name="SimpleClassifiers" nsURI="http:///fUML_Semantics/Semantics/SimpleClassifiers.ecore"
        nsPrefix="fUML_Semantics.Semantics.SimpleClassifiers">
      <eClassifiers xsi:type="ecore:EClass" name="BooleanValue" eSuperTypes="#//Semantics/SimpleClassifiers/PrimitiveValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/Class.hpp&quot;&#xD;&#xA;#include &quot;uml/LiteralBoolean.hpp&quot;&#xD;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xD;&#xA;#include &quot;uml/Type.hpp&quot;&#xD;&#xA;#include &quot;uml/UmlFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralBoolean> literal = uml::UmlFactory::eInstance()->createLiteralBoolean_in_Namespace(std::shared_ptr&lt;uml::Class>());    &#xD;&#xA;    literal->setType(this->getType());&#xD;&#xA;    literal->setValue(this->isValue());&#xD;&#xA;    return literal;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool isEqual = false;&#xA;&#xA;&#x9;if(otherValue != nullptr &amp;&amp; otherValue->eClass()->getClassifierID() == fUML::FUMLPackage::BOOLEANVALUE_CLASS)&#xA;    {&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::BooleanValue> otherBooleanValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::BooleanValue>(otherValue);&#xA;    &#x9;isEqual = otherBooleanValue->isValue() == this->isValue();&#xA;    }&#xA;&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    std::string stringValue = &quot;false&quot;;&#xD;&#xA;&#xD;&#xA;    if(this->isValue())&#xD;&#xA;    {&#xD;&#xA;        stringValue = &quot;true&quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return stringValue;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="value" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CompoundValue" abstract="true" eSuperTypes="#//Semantics/SimpleClassifiers/StructuredValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;algorithm>&#xD;&#xA;#include &quot;uml/Classifier.hpp&quot;&#xD;&#xA;#include &lt;fUML/FUMLFactory.hpp>&#xD;&#xA;#include &lt;cstdio>&#xD;&#xA;&#xD;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="removeFeatureValues" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::remove_if(this->getFeatureValues()->begin(),this->getFeatureValues()->end(),[classifier](std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue){return featureValue->getFeature()->getType()==classifier;});"/>
          </eAnnotations>
          <eParameters name="classifier" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::CompoundValue> otherCompoundValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::CompoundValue>(otherValue);&#xA;&#x9;bool isEqual = (otherCompoundValue != nullptr);&#xA;    if (isEqual)&#xA;    {&#xA;        isEqual = fUML::Semantics::SimpleClassifiers::StructuredValueImpl::equals(otherValue)&#xA;                &amp;&amp; otherCompoundValue->getFeatureValues()->size() == this->getFeatureValues()->size();&#xA;&#xA;        unsigned int i = 0;&#xA;        while (isEqual &amp;&amp; i &lt; this->getFeatureValues()->size())&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> thisFeatureValue = this->getFeatureValues()->at(i);&#xA;&#xA;            bool matched = false;&#xA;            unsigned int j = 0;&#xA;            while (!matched &amp;&amp; j &lt; otherCompoundValue->getFeatureValues()->size())&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> otherFeatureValue = otherCompoundValue->getFeatureValues()->at(j);&#xA;                if (thisFeatureValue->getFeature() == otherFeatureValue->getFeature())&#xA;                {&#xA;                    matched = thisFeatureValue->hasEqualValues(otherFeatureValue);&#xA;                }&#xA;                j = j + 1;&#xA;            }&#xA;&#xA;            isEqual = matched;&#xA;            i = i + 1;&#xA;        }&#xA;    }&#xA;&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::string buffer = &quot;(&quot; + this->objectId() + &quot;:&quot;;&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > types = this->getTypes();&#xA;&#xA;    unsigned int i = 0;&#xA;    while(i &lt; types->size())&#xA;    {&#xA;        buffer = buffer + &quot; &quot; + types->at(i)->getName();&#xA;        i = i + 1;&#xA;    }&#xA;&#xA;    unsigned int k = 0;&#xA;    while(k &lt; this->getFeatureValues()->size())&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue = this->getFeatureValues()->at(k);&#xA;        char buf [11];&#xA;        std::sprintf(buf, &quot;%d&quot;, featureValue->getPosition());&#xA;        buffer = buffer + &quot;\n\t\t&quot; + featureValue->getFeature()->getName() + &quot;[&quot; + std::string(buf) + &quot;]  =&quot;;&#xA;&#xA;        unsigned int j = 0;&#xA;        while(j &lt; featureValue->getValues()->size())&#xA;        {&#xA;            buffer = buffer + &quot; &quot; + featureValue->getValues()->at(j)->toString();&#xA;            j = j + 1;&#xA;        }&#xA;&#xA;        k = k + 1;&#xA;    }&#xA;&#xA;    return buffer + &quot;)&quot;;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="retrieveFeatureValue" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue = nullptr;&#xA;    unsigned int i = 0;&#xA;    while(featureValue == nullptr &amp;&amp; i &lt; this->getFeatureValues()->size())&#xA;    {&#xA;        if(this->getFeatureValues()->at(i)->getFeature() == feature)&#xA;        {&#xA;            featureValue = this->getFeatureValues()->at(i);&#xA;        }&#xA;        i = i + 1;&#xA;    }&#xA;    return featureValue;"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
        </eOperations>
        <eOperations name="assignFeatureValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue = this->retrieveFeatureValue(feature);&#xA;    if(featureValue == nullptr)&#xA;    {&#xA;        featureValue = FUMLFactory::eInstance()->createFeatureValue();&#xA;        this->getFeatureValues()->push_back(featureValue);&#xA;    }&#xA;    featureValue->setFeature(feature);&#xA;    std::vector&lt;std::shared_ptr&lt;fUML::Semantics::Values::Value>>::iterator i;&#xA;    for(i=values->begin();i!=values->end();++i)&#xA;    {&#xA;    &#x9;featureValue->getValues()->push_back(*i);&#xA;    }&#xA;    featureValue->setPosition(position);"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
          <eParameters name="position" ordered="false" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="retrieveFeatureValues" ordered="false" upperBound="-1"
            eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=" return this->getFeatureValues();"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="featureValues" ordered="false"
            upperBound="-1" eType="#//Semantics/SimpleClassifiers/FeatureValue" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="DataValue" eSuperTypes="#//Semantics/SimpleClassifiers/CompoundValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/DataValue.hpp&quot;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/CompoundValue.hpp&quot;&#xA;#include &quot;uml/DataType.hpp&quot;&#xA;#include &quot;uml/Classifier.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="new_" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::shared_ptr&lt;fUML::Semantics::Values::Value>(FUMLFactory::eInstance()->createDataValue());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getTypes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::Classifier> > types(new Bag&lt;uml::Classifier>());&#xD;&#xA;    types->push_back(std::dynamic_pointer_cast&lt;uml::Classifier>(this->getType()));&#xD;&#xA;    return types;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="type" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//DataType"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="EnumerationValue" eSuperTypes="#//Semantics/Values/Value">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/Enumeration.hpp&quot;&#xA;#include &quot;uml/EnumerationLiteral.hpp&quot;&#xA;#include &quot;uml/InstanceSpecification.hpp&quot;&#xA;#include &quot;uml/InstanceValue.hpp&quot;&#xA;#include &quot;uml/UmlFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::InstanceValue> instanceValue(uml::UmlFactory::eInstance()->createInstanceValue_in_Namespace(std::shared_ptr&lt;uml::Class>()));&#xD;&#xA;    //Remark: instance is so defined in the specification, but even there is not used.&#xD;&#xA;    //uml::InstanceSpecification * instance = uml::UmlFactory::eInstance()->createInstanceSpecification(std::shared_ptr&lt;uml::Class>());&#xD;&#xA;&#xD;&#xA;    instanceValue->setType(this->getType());&#xD;&#xA;    instanceValue->setInstance(this->getLiteral());&#xD;&#xA;&#xD;&#xA;    return instanceValue;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="bool isEqual = false;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::EnumerationValue> value = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::EnumerationValue>(otherValue);&#xA;    if(value != nullptr)&#xA;    {&#xA;        isEqual = (value->getLiteral() == this->getLiteral());&#xA;    }&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="new_" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::shared_ptr&lt;fUML::Semantics::Values::Value>(FUMLFactory::eInstance()->createEnumerationValue());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    return this->getLiteral()->getName();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getTypes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::Classifier> > types(new Bag&lt;uml::Classifier>());&#xD;&#xA;    types->push_back(std::dynamic_pointer_cast&lt;uml::Classifier>(this->getType()));&#xD;&#xA;    return types;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="literal" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//EnumerationLiteral"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="type" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Enumeration"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="FeatureValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;&#xD;&#xA;"/>
        </eAnnotations>
        <eOperations name="hasEqualValues" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool equal = true;&#xA;&#xA;    if(this->getValues()->size() != other->getValues()->size())&#xA;    {&#xA;        equal = false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::StructuralFeature> feature = this->getFeature();&#xA;        if(feature->getIsOrdered())&#xA;        {&#xA;            unsigned int i = 0;&#xA;            while(equal &amp;&amp; (i &lt; this->getValues()->size()))&#xA;            {&#xA;                equal = this->getValues()->at(i)->equals(other->getValues()->at(i));&#xA;                i = i + 1;&#xA;            }&#xA;&#xA;        }&#xA;        else&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> otherFeatureValues(FUMLFactory::eInstance()->createFeatureValue());&#xA;        &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values = other->getValues();&#xA;            for(unsigned int i = 0; i &lt; values->size(); i++)&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = values->at(i);&#xA;                otherFeatureValues->getValues()->push_back(value);&#xA;            }&#xA;&#xA;            unsigned int i = 0;&#xA;            while(equal &amp;&amp; (i &lt; this->getValues()->size()))&#xA;            {&#xA;                bool matched = false;&#xA;                unsigned int j = 0;&#xA;                while(!matched &amp;&amp; (j &lt; otherFeatureValues->getValues()->size()))&#xA;                {&#xA;                    if(this->getValues()->at(i)->equals(otherFeatureValues->getValues()->at(j)))&#xA;                    {&#xA;                        matched = true;&#xA;                        otherFeatureValues->getValues()->erase(otherFeatureValues->getValues()->begin() + j);&#xA;                    }&#xA;                    j = j + 1;&#xA;                }&#xA;&#xA;                equal = matched;&#xA;                i = i + 1;&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    return equal;"/>
          </eAnnotations>
          <eParameters name="other" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/FeatureValue"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="values" ordered="false"
            upperBound="-1" eType="#//Semantics/Values/Value" containment="true"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="position" ordered="false"
            eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt" defaultValueLiteral="0"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="feature" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="IntegerValue" eSuperTypes="#//Semantics/SimpleClassifiers/PrimitiveValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;cstdio>&#xD;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/Class.hpp&quot;&#xD;&#xA;#include &quot;uml/LiteralInteger.hpp&quot;&#xD;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xD;&#xA;#include &quot;uml/Type.hpp&quot;&#xD;&#xA;#include &quot;uml/UmlFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralInteger> literal = uml::UmlFactory::eInstance()->createLiteralInteger_in_Namespace(std::shared_ptr&lt;uml::Classifier>());&#xD;&#xA;&#xD;&#xA;    literal->setType(this->getType());&#xD;&#xA;    literal->setValue(this->getValue());&#xD;&#xA;&#xD;&#xA;    return literal;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool isEqual = false;&#xA;&#xA;&#xA;    if(otherValue != nullptr &amp;&amp; otherValue->eClass()->getClassifierID() == fUML::FUMLPackage::INTEGERVALUE_CLASS)&#xA;    {&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::IntegerValue> otherIntegerValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::IntegerValue>(otherValue);&#xA;        isEqual = (otherIntegerValue->getValue() == this->getValue());&#xA;    }&#xA;&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    char buf [11];&#xD;&#xA;    std::sprintf(buf, &quot;%d&quot;, this->getValue());&#xD;&#xA;    return std::string(buf);"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="value" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="PrimitiveValue" abstract="true"
          eSuperTypes="#//Semantics/Values/Value">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xD;&#xA;#include &quot;uml/Classifier.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getTypes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::Classifier> > types(new Bag&lt;uml::Classifier>());&#xD;&#xA;&#x9;std::shared_ptr&lt;uml::PrimitiveType> type = this->getType();&#xD;&#xA;&#x9;if (type != nullptr)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;types->push_back(std::dynamic_pointer_cast&lt;uml::Classifier>(type));&#xD;&#xA;&#x9;}&#xD;&#xA;    return types;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="type" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//PrimitiveType"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="RealValue" eSuperTypes="#//Semantics/SimpleClassifiers/PrimitiveValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;sstream>&#xD;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/Class.hpp&quot;&#xD;&#xA;#include &quot;uml/LiteralReal.hpp&quot;&#xD;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xD;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/Type.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralReal> literal = uml::UmlFactory::eInstance()->createLiteralReal_in_Namespace(std::shared_ptr&lt;uml::Class>());&#xD;&#xA;&#x9;literal->setType(this->getType());&#xD;&#xA;    literal->setValue(this->getValue());&#xD;&#xA;    return literal;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool isEqual = false;&#xA;&#xA;    if(otherValue != nullptr &amp;&amp; otherValue->eClass()->getClassifierID() == fUML::FUMLPackage::REALVALUE_CLASS)&#xA;    {&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::RealValue> otherRealValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::RealValue>(otherValue);&#xA;        isEqual = (otherRealValue->getValue() == this->getValue());&#xA;    }&#xA;&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    std::ostringstream o;&#xD;&#xA;     if (!(o &lt;&lt; this->getValue()))&#xD;&#xA;       return &quot;&quot;;&#xD;&#xA;     return o.str();"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="value" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="SignalInstance" eSuperTypes="#//Semantics/SimpleClassifiers/CompoundValue">
        <eStructuralFeatures xsi:type="ecore:EReference" name="type" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Signal"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="StringValue" eSuperTypes="#//Semantics/SimpleClassifiers/PrimitiveValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/Class.hpp&quot;&#xD;&#xA;#include &quot;uml/LiteralString.hpp&quot;&#xD;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xD;&#xA;#include &quot;uml/Type.hpp&quot;&#xD;&#xA;#include &quot;uml/UmlFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralString> literal = uml::UmlFactory::eInstance()->createLiteralString_in_Namespace(std::shared_ptr&lt;uml::Class>());&#xD;&#xA;&#x9;literal->setType(this->getType());&#xD;&#xA;    literal->setValue(this->getValue());&#xD;&#xA;    return literal;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="bool isEqual = false;&#xA;    &#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StringValue> otherStringValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::StringValue>(otherValue);&#xA;    if(otherStringValue != nullptr)&#xA;    {&#xA;        isEqual = otherStringValue->getValue() == this->getValue();&#xA;    }&#xA;    &#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getValue();"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="value" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="StructuredValue" abstract="true"
          eSuperTypes="#//Semantics/Values/Value">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xD;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;#include &quot;uml/Class.hpp&quot;&#xD;&#xA;#include &quot;uml/Classifier.hpp&quot;&#xD;&#xA;#include &quot;uml/InstanceSpecification.hpp&quot;&#xD;&#xA;#include &quot;uml/InstanceValue.hpp&quot;&#xD;&#xA;#include &quot;uml/NamedElement.hpp&quot;&#xD;&#xA;#include &quot;uml/Slot.hpp&quot;&#xD;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;&#xD;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xD;&#xA;"/>
        </eAnnotations>
        <eOperations name="retrieveFeatureValue" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
        </eOperations>
        <eOperations name="assignFeatureValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=""/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
          <eParameters name="position" ordered="false" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="retrieveFeatureValues" ordered="false" upperBound="-1"
            eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
        </eOperations>
        <eOperations name="createFeatureValues">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::Classifier> > types = this->getTypes();&#xA;&#xA;    if(types!= nullptr)&#xA;    {&#xA;    &#x9;for(unsigned int i = 0; i &lt; types->size(); i++)&#xA;    &#x9;{&#xA;    &#x9;&#x9;std::shared_ptr&lt;uml::Classifier> type = types->at(i);&#xA;    &#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::NamedElement> > members = type->getMember();&#xA;&#xA;    &#x9;&#x9;for(unsigned int j = 0; j &lt; members->size(); j++)&#xA;    &#x9;&#x9;{&#xA;    &#x9;&#x9;&#x9;std::shared_ptr&lt;uml::NamedElement> member = members->at(j);&#xA;    &#x9;&#x9;&#x9;std::shared_ptr&lt;uml::StructuralFeature> structuralFeature = std::dynamic_pointer_cast&lt;uml::StructuralFeature>(member);&#xA;    &#x9;&#x9;&#x9;if(structuralFeature != nullptr)&#xA;    &#x9;&#x9;&#x9;{&#xA;    &#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > valueList(new Bag&lt;fUML::Semantics::Values::Value>());&#xA;    &#x9;&#x9;&#x9;&#x9;this->assignFeatureValue(structuralFeature, valueList, 0);&#xA;    &#x9;&#x9;&#x9;}&#xA;    &#x9;&#x9;}&#xA;    &#x9;}&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::InstanceValue> instanceValue = uml::UmlFactory::eInstance()->createInstanceValue_in_Namespace(std::shared_ptr&lt;uml::Class>());&#xA;&#x9;std::shared_ptr&lt;uml::InstanceSpecification> instance = uml::UmlFactory::eInstance()->createInstanceSpecification_in_Namespace(std::shared_ptr&lt;uml::Class>());&#xA;&#xA;    instanceValue->setType(nullptr);&#xA;    instanceValue->setInstance(instance);&#xA;&#xA;    instance->getClassifier();//->push_back(this->getTypes());&#xA;&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> > featureValues = this->retrieveFeatureValues();&#xA;    // Debug.println(&quot;[specify] &quot; + featureValues.size() + &quot; feature(s).&quot;);&#xA;&#xA;    for(unsigned int i = 0; i &lt; featureValues->size(); i++)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue = featureValues->at(i);&#xA;&#xA;    &#x9;std::shared_ptr&lt;uml::Slot> slot = uml::UmlFactory::eInstance()->createSlot_in_OwningInstance(std::shared_ptr&lt;uml::InstanceSpecification>());&#xA;        slot->setDefiningFeature(featureValue->getFeature());&#xA;&#xA;        // Debug.println(&quot;[specify] feature = &quot; + featureValue.feature.name&#xA;        // + &quot;, &quot; + featureValue.values.size() + &quot; value(s).&quot;);&#xA;&#xA;        std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values = featureValue->getValues();&#xA;        for(unsigned int j = 0; j &lt; values->size(); j++)&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = values->at(j);&#xA;            // Debug.println(&quot;[specify] value = &quot; + value);&#xA;            slot->getValue()->push_back(value->specify());&#xA;        }&#xA;&#xA;        instance->getSlot()->push_back(slot);&#xA;    }&#xA;&#xA;    return instanceValue;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="setFeatureValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=""/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
          <eParameters name="position" ordered="false" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="getValues" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="featureValues" ordered="false" upperBound="-1" eType="#//Semantics/SimpleClassifiers/FeatureValue"/>
        </eOperations>
        <eOperations name="removeValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="UnlimitedNaturalValue" eSuperTypes="#//Semantics/SimpleClassifiers/PrimitiveValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/IntegerValue.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/LiteralUnlimitedNatural.hpp&quot;&#xA;#include &quot;uml/PrimitiveType.hpp&quot;&#xA;#include &quot;uml/Type.hpp&quot;&#xA;#include &quot;uml/UmlFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="specify" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::LiteralUnlimitedNatural> literal = uml::UmlFactory::eInstance()->createLiteralUnlimitedNatural_in_Namespace(std::shared_ptr&lt;uml::Class>());&#xD;&#xA;    literal->setType(this->getType());&#xD;&#xA;    literal->setValue(this->getValue());&#xD;&#xA;    return literal;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;//generated from body annotation&#xA;&#x9;bool isEqual = false;&#xA;&#xA;    if(otherValue != nullptr &amp;&amp; otherValue->eClass()->getClassifierID() == fUML::FUMLPackage::UNLIMITEDNATURALVALUE_CLASS)&#xA;    {&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::UnlimitedNaturalValue> unValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::UnlimitedNaturalValue>(otherValue);&#xA;        isEqual = (unValue->getValue() == this->getValue());&#xA;    }&#xA;&#xA;    return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    std::string stringValue = &quot;*&quot;;&#xD;&#xA;&#xD;&#xA;    if(this->getValue() >= 0)&#xD;&#xA;    {&#xD;&#xA;        auto integerValue = FUMLFactory::eInstance()->createIntegerValue();&#xD;&#xA;        integerValue->setValue(this->getValue());&#xD;&#xA;        stringValue = integerValue->toString();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return stringValue;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="value" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
      </eClassifiers>
    </eSubpackages>
    <eSubpackages name="StructuredClassifiers" nsURI="http:///fUML_Semantics/Semantics/StructuredClassifiers.ecore"
        nsPrefix="fUML_Semantics.Semantics.StructuredClassifiers">
      <eClassifiers xsi:type="ecore:EClass" name="DispatchStrategy" eSuperTypes="#//Semantics/Loci/SemanticStrategy">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Bag.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="dispatch" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    return object->getLocus()->getFactory()->createExecution(this->retrieveMethod(object,operation),object);"/>
          </eAnnotations>
          <eParameters name="object" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object"/>
          <eParameters name="operation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
        <eOperations name="retrieveMethod" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Behavior">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    return operation->getMethod()->front();"/>
          </eAnnotations>
          <eParameters name="object" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object"/>
          <eParameters name="operation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
        <eOperations name="getName" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return &quot;dispatch&quot;;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ExtensionalValue" abstract="true"
          eSuperTypes="#//Semantics/SimpleClassifiers/CompoundValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="destroy" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if(this->getLocus() != nullptr)&#xD;&#xA;    {&#xD;&#xA;        this->getLocus()->remove(getThisExtensionalValuePtr());&#xD;&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="locus" ordered="false"
            eType="#//Semantics/Loci/Locus"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Link" eSuperTypes="#//Semantics/StructuredClassifiers/ExtensionalValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/SubsetUnion.hpp&quot;&#xD;&#xA;#include &quot;uml/Property.hpp&quot;&#xD;&#xA;#include &quot;uml/Association.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getTypes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::Classifier> > types(new Bag&lt;uml::Classifier>());&#xD;&#xA;&#xD;&#xA;&#x9;if( this->getType() != nullptr)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;types->push_back(std::dynamic_pointer_cast&lt;uml::Classifier>(this->getType()));&#xD;&#xA;&#x9;}&#xD;&#xA;    return types;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isMatchingLink" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;uml::Property> > ends = this->getType()->getMemberEnd();&#xD;&#xA;&#xD;&#xA;&#x9;bool matches = true;&#xD;&#xA;&#x9;unsigned int i = 0;&#xD;&#xA;&#x9;while (matches &amp;&amp; i &lt; ends->size()) &#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::Property> otherEnd = ends->at(i);&#xD;&#xA;&#x9;&#x9;if (otherEnd != end&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&amp;&amp; !this->retrieveFeatureValue(otherEnd)->getValues()->at(0)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;->equals(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;link->retrieveFeatureValue(otherEnd)->getValues()->at(0))) {&#xD;&#xA;&#x9;&#x9;&#x9;matches = false;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;i = i + 1;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;return matches;"/>
          </eAnnotations>
          <eParameters name="link" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
          <eParameters name="end" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Property"/>
        </eOperations>
        <eOperations name="addTo">
          <eParameters name="locus" eType="#//Semantics/Loci/Locus">
            <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          </eParameters>
        </eOperations>
        <eOperations name="getOtherFeatureValues" upperBound="-1" eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eParameters name="extent" upperBound="-1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
          <eParameters name="end" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Property"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="type" ordered="false"
            eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Association"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Object" eSuperTypes="#//Semantics/StructuredClassifiers/ExtensionalValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/StructuredClassifiers/DispatchStrategy.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/Classifier.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="startBehavior" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if(this->getObjectActivation() == nullptr)&#xA;    {&#xA;        this->setObjectActivation(std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ObjectActivation>(fUML::FUMLFactory::eInstance()->createObjectActivation()));&#xA;        this->getObjectActivation()->setObject(getThisObjectPtr());&#xA;    }&#xA;&#xA;    this->getObjectActivation()->startBehavior(classifier, inputs);"/>
          </eAnnotations>
          <eParameters name="classifier" ordered="false" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
          <eParameters name="inputs" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="dispatch" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="static std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::DispatchStrategy> strategy = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::DispatchStrategy>(this->getLocus()->getFactory()->getStrategy(&quot;dispatch&quot;));&#xA;&#x9;return strategy->dispatch(getThisObjectPtr(), operation);"/>
          </eAnnotations>
          <eParameters name="operation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
        <eOperations name="send" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if( this->getObjectActivation() != nullptr)&#xA;    {&#xA;        this->getObjectActivation()->send(signalInstance);&#xA;    }"/>
          </eAnnotations>
          <eParameters name="signalInstance" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance"/>
        </eOperations>
        <eOperations name="_register" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if( this->getObjectActivation() != nullptr)&#xD;&#xA;    {&#xD;&#xA;        this->getObjectActivation()->_register(accepter);&#xD;&#xA;    }"/>
          </eAnnotations>
          <eParameters name="accepter" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/EventAccepter"/>
        </eOperations>
        <eOperations name="unregister" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if( this->getObjectActivation() != nullptr)&#xD;&#xA;    {&#xD;&#xA;        this->getObjectActivation()->unregister(accepter);&#xD;&#xA;    }"/>
          </eAnnotations>
          <eParameters name="accepter" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/EventAccepter"/>
        </eOperations>
        <eOperations name="new_" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::shared_ptr&lt;fUML::Semantics::Values::Value>(FUMLFactory::eInstance()->createObject());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="destroy" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if(this->getObjectActivation() != nullptr)&#xA;    {&#xA;        this->getObjectActivation()->stop();&#xA;        this->setObjectActivation(nullptr);&#xA;    }&#xA;&#xA;    this->getTypes()->clear();&#xA;    fUML::Semantics::StructuredClassifiers::ExtensionalValueImpl::destroy();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="send" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body"/>
          </eAnnotations>
          <eParameters name="eventOccurrence" lowerBound="1" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="types" ordered="false"
            upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations>
            <details key="note" value="This Property is a Class in the OMG standard"/>
          </eAnnotations>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EReference" name="objectActivation" ordered="false"
            eType="#//Semantics/CommonBehavior/ObjectActivation" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="RedefinitionBasedDispatchStrategy"
          eSuperTypes="#//Semantics/StructuredClassifiers/DispatchStrategy">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xD;&#xA;#include &quot;uml/NamedElement.hpp&quot;&#xD;&#xA;#include &quot;uml/Class.hpp&quot;&#xD;&#xA;#include &quot;uml/Operation.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="operationsMatch" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool matches = false;&#xA;&#x9;if(ownedOperation == baseOperation)&#xA;&#x9;{&#xA;&#x9;&#x9;matches = true;&#xA;&#x9;}&#xA;&#x9;else&#xA;    {&#xA;&#x9;&#x9;unsigned int i = 0;&#xA;&#x9;&#x9;while(!matches &amp;&amp; i &lt; ownedOperation->getRedefinedOperation()->size())&#xA;        {&#xA;&#x9;&#x9;&#x9;matches = this->operationsMatch(ownedOperation->getRedefinedOperation()->at(i), baseOperation);&#xA;&#x9;&#x9;&#x9;i = i + 1;&#xA;        }&#xA;    }&#xA;&#x9;return matches;"/>
          </eAnnotations>
          <eParameters name="ownedOperation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
          <eParameters name="baseOperation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
        <eOperations name="retrieveMethod" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Behavior">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::Behavior> method = nullptr;&#xD;&#xA;&#x9;unsigned int i = 0;&#xD;&#xA;&#x9;while(method == nullptr &amp;&amp; (i &lt; object->getTypes()->size()))&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::Class> type = std::dynamic_pointer_cast&lt;uml::Class>(object->getTypes()->at(i));&#xD;&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::NamedElement> > members = type->getMember();&#xD;&#xA;&#x9;&#x9;unsigned int j = 0;&#xD;&#xA;&#x9;&#x9;while(method == nullptr &amp;&amp; (j &lt; members->size()))&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::NamedElement> member = members->at(j);&#xD;&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Operation> memberOperation = std::dynamic_pointer_cast&lt;uml::Operation>(member);&#xD;&#xA;&#x9;&#x9;&#x9;if(memberOperation != nullptr)&#xD;&#xA;&#x9;&#x9;&#x9;{&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if(this->operationsMatch(memberOperation, operation))&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;method = memberOperation->getMethod()->at(0);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;j = j + 1;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;i = i + 1;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;return method;"/>
          </eAnnotations>
          <eParameters name="object" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object"/>
          <eParameters name="operation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Reference" eSuperTypes="#//Semantics/SimpleClassifiers/StructuredValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;uml/Classifier.hpp>&#xD;&#xA;    #include &quot;fUML/FUMLFactory.hpp&quot;&#xD;&#xA;    #include &quot;uml/Class.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="startBehavior" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getReferent()->startBehavior(classifier,inputs);"/>
          </eAnnotations>
          <eParameters name="classifier" ordered="false" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
          <eParameters name="inputs" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="dispatch" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getReferent()->dispatch(operation);"/>
          </eAnnotations>
          <eParameters name="operation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
        <eOperations name="send" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getReferent()->send(signalInstance);"/>
          </eAnnotations>
          <eParameters name="signalInstance" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance"/>
        </eOperations>
        <eOperations name="destroy" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getReferent()->destroy();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool isEqual = false;&#xA;&#x9;if (otherValue->eClass()->getClassifierID() == fUML::FUMLPackage::REFERENCE_CLASS) {&#xA;&#x9;&#x9;auto other = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Reference>(otherValue);&#xA;&#x9;&#x9;if (this->getReferent() == nullptr) {&#xA;&#x9;&#x9;&#x9;isEqual = other->getReferent() == nullptr;&#xA;&#x9;&#x9;} else {&#xA;&#x9;&#x9;&#x9;isEqual = this->getReferent()->equals(other->getReferent());&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="new_" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::shared_ptr&lt;fUML::Semantics::Values::Value>(FUMLFactory::eInstance()->createReference());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getTypes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;return  this->getReferent()->getTypes();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="retrieveFeatureValue" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getReferent()->retrieveFeatureValue(feature);"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
        </eOperations>
        <eOperations name="assignFeatureValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getReferent()->assignFeatureValue(feature,values,position);"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
          <eParameters name="position" ordered="false" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="retrieveFeatureValues" ordered="false" upperBound="-1"
            eType="#//Semantics/SimpleClassifiers/FeatureValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getReferent()->retrieveFeatureValues();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="toString" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return &quot;Reference to &quot; + this->getReferent()->toString();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="send" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body"/>
          </eAnnotations>
          <eParameters name="eventOccurrence" lowerBound="1" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
        <eOperations name="setFeatureValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getReferent()->setFeatureValue(feature,values,position);"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
          <eParameters name="position" ordered="false" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="getValues" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getReferent()->getValues(feature,featureValues);"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="featureValues" ordered="false" upperBound="-1" eType="#//Semantics/SimpleClassifiers/FeatureValue"/>
        </eOperations>
        <eOperations name="removeValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getReferent()->removeValue(feature, value);"/>
          </eAnnotations>
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="referent" ordered="false"
            lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ExtensionalValueList" eSuperTypes="#//Semantics/StructuredClassifiers/ExtensionalValue">
        <eOperations name="getValue" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
        <eOperations name="addValue" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
        </eOperations>
        <eOperations name="addValue" ordered="false" lowerBound="1">
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
          <eParameters name="i" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="setValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
          <eParameters name="i" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="removeValue" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eParameters name="i" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
      </eClassifiers>
    </eSubpackages>
    <eSubpackages name="CommonBehavior" nsURI="http:///fUML_Semantics/Semantics/CommonBehavior.ecore"
        nsPrefix="fUML_Semantics.Semantics.CommonBehavior">
      <eClassifiers xsi:type="ecore:EClass" name="CallEventBehavior">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/UmlFactory.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="assignOperation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Set the operation for this call event behavior and construct&#xA;// the behavior signature based on the operation signature.&#xA;&#xA;m_operation = operation;&#xA;for(int i = 0; i &lt; operation->getOwnedParameter()->size(); i++)&#xA;{&#xA;&#x9;std::shared_ptr&lt;uml::Parameter> operationParameter = operation->getOwnedParameter()->at(i);&#xA;&#x9;std::shared_ptr&lt;uml::Parameter> parameter = uml::UmlFactory::eInstance()->createParameter();&#xA;&#x9;parameter->setName(operationParameter->getName());&#xA;&#x9;parameter->setType(operationParameter->getType());&#xA;&#x9;parameter->setLowerValue(operationParameter->getLowerValue());&#xA;&#x9;parameter->setLower(operationParameter->getLower());&#xA;&#x9;parameter->setUpperValue(operationParameter->getUpperValue());&#xA;&#x9;parameter->setUpper(operationParameter->getUpper());&#xA;&#x9;parameter->setDirection(operationParameter->getDirection());&#xA;&#x9;parameter->setOwner(operationParameter->getOwner());&#xA;&#x9;parameter->setNamespace(operationParameter->getNamespace());&#xA;&#xA;&#x9;this->getOwnedElement()->add(parameter);&#xA;&#x9;this->getOwnedMember()->add(parameter);&#xA;&#x9;this->getMember()->add(parameter);&#xA;&#x9;this->getOwnedParameter()->add(parameter);&#xA;}&#xA;&#xA;this->setIsReentrant(true);&#xA;this->setName(&quot;CallEventBehavior&quot;);&#xA;if(operation->getName != &quot;&quot;)&#xA;{&#xA;&#x9;this->setName(this->getName() + &quot;(&quot; + operation->getName() + &quot;)&quot;);&#xA;}"/>
            <details key="doNotGenerate" value="true"/>
          </eAnnotations>
          <eParameters name="operation" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="operation" lowerBound="1"
            eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CallEventExecution" eSuperTypes="#//Semantics/CommonBehavior/Execution">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/CommonBehavior/CallEventOccurrence.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/CallEventBehavior.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;uml/ParameterDirectionKind.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="copy" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="//Create a new call event execution that is a copy of this execution, with the&#xA;// caller initially not suspended.&#xA;&#xA;//CallEventExecution copy = (CallEventExecution)super.copy();&#xA;//copy.callerSuspended = false;&#xA;//return copy;"/>
            <details key="doNotGenerate" value="true"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="createEventOccurrence" lowerBound="1" eType="#//Semantics/CommonBehavior/EventOccurrence">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::CommonBehavior::CallEventOccurrence> eventOccurrence = fUML::FUMLFactory::eInstance()->createCallEventOccurrence();&#xA;&#x9;eventOccurrence->setExecution(getThisCallEventExecutionPtr());&#xA;&#x9;return eventOccurrence;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="execute">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Make the call on the target object (which is the context of this execution)&#xA;// and suspend the caller until the call is completed.&#xA;// Note: The callerSuspended flag needs to be set before the call is made,&#xA;// in case the call is immediately handled and returned, even before the&#xA;// suspend loop is started.&#xA;&#xA;this->setCallerSuspended(true);&#xA;this->makeCall();&#xA;this->suspendCaller();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getInputParameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return input parameter values for this execution.&#xA;&#xA;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>> parameterValues(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;for(unsigned int i = 0; i &lt; this->getParameterValues()->size(); i++)&#xA;{&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue = this->getParameterValues()->at(i);&#xA;&#x9;if((parameterValue->getParameter()->getDirection() == uml::ParameterDirectionKind::IN) || (parameterValue->getParameter()->getDirection() == uml::ParameterDirectionKind::INOUT))&#xA;&#x9;{&#xA;&#x9;&#x9;parameterValues->add(parameterValue);&#xA;&#x9;}&#xA;}&#xA;&#xA;return parameterValues;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getOperation" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return the operation being called by this call event execution.&#xA;return (std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::CallEventBehavior>(this->getBehavior()))->getOperation();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isCallerSuspended" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;_beginIsolation();&#xA;&#x9;bool isSuspended = m_callerSuspended;&#xA;&#x9;_endIsolation();&#xA;&#xA;&#x9;return isSuspended;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="makeCall">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Make the call on the target object (which is the context of this execution)&#xA;// by sending a call event occurrence. (Note that the call will never be&#xA;// completed if the target is not an active object, since then the object&#xA;// would then have no event pool in which the event occurrence could be placed.)&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference = fUML::FUMLFactory::eInstance()->createReference();&#xA;&#x9;reference->setReferent(this->getContext());&#xA;&#x9;this->createEventOccurrence()->sendTo(reference);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="new_" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return fUML::FUMLFactory::eInstance()->createCallEventExecution();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="releaseCaller">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="setCallerSuspended(false);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="setOutputParameterValues">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Set the output parameter values for this execution.&#xA;&#xA;std::shared_ptr&lt;Bag&lt;uml::Parameter>> parameters = this->getBehavior()->getOwnedParameter();&#xA;unsigned int i = 1;&#xA;unsigned int j = 1;&#xA;&#xA;while(i &lt;= parameters->size())&#xA;{&#xA;&#x9;std::shared_ptr&lt;uml::Parameter> parameter = parameters->at(i-1);&#xA;&#x9;if((parameter->getDirection() == uml::ParameterDirectionKind::INOUT) || (parameter->getDirection() == uml::ParameterDirectionKind::OUT) || (parameter->getDirection() == uml::ParameterDirectionKind::RETURN))&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue = getParameterValues()->at(j-1);&#xA;&#x9;&#x9;parameterValue->setParameter(parameter);&#xA;&#x9;&#x9;this->setParameterValue(parameterValue);&#xA;&#x9;&#x9;j += 1;&#xA;&#x9;}&#xA;&#x9;i += 1;&#xA;}"/>
          </eAnnotations>
          <eParameters name="parameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="suspendCaller">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="while(isCallerSuspended())&#xA;&#x9;{&#xA;&#x9;&#x9;wait_();&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="wait_">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Wait for an indeterminate amount of time to allow other concurrent&#xA;// executions to proceed&#xA;&#xA;// [There is no further formal specification for this operation.]."/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="callerSuspended" eType="ecore:EDataType http://www.eclipse.org/uml2/5.0.0/Types#//Boolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="keySetterBody" value="_beginIsolation();&#xA;this.callerSuspended = callerSuspended;&#xA;_endIsolation();"/>
          </eAnnotations>
        </eStructuralFeatures>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CallEventOccurrence" eSuperTypes="#//Semantics/CommonBehavior/EventOccurrence">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;memory>&#xA;#include &quot;uml/Trigger.hpp&quot;&#xA;#include &quot;uml/CallEvent.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getOperation" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return m_execution->getOperation();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getParameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return m_execution->getInputParameterValues();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="match" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool matches = false;&#xA;&#x9;std::shared_ptr&lt;uml::CallEvent> callEvent = std::dynamic_pointer_cast&lt;uml::CallEvent>(trigger->getEvent());&#xA;&#x9;if (callEvent != nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;matches = callEvent->getOperation() == getOperation();&#xA;&#x9;}&#xA;&#x9;return matches;"/>
          </eAnnotations>
          <eParameters name="trigger" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Trigger"/>
        </eOperations>
        <eOperations name="releaseCaller">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="m_execution->releaseCaller();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="setOutputParameterValues">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="m_execution->setOutputParameterValues(parameterValues);"/>
          </eAnnotations>
          <eParameters name="parameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="execution" lowerBound="1"
            eType="#//Semantics/CommonBehavior/CallEventExecution"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ClassifierBehaviorInvocationEventAccepter"
          eSuperTypes="#//Semantics/CommonBehavior/EventAccepter">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ObjectActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/InvocationEventOccurrence.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="accept">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Accept an invocation event occurrence. Execute the execution of this&#xA;// classifier behavior invocation event accepter.&#xA;&#xA;if(std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::InvocationEventOccurrence>(eventOccurrence) != nullptr)&#xA;{&#xA;&#x9;this->getExecution()->execute();&#xA;}"/>
          </eAnnotations>
          <eParameters name="eventOccurrence" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
        <eOperations name="invokeBehavior">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Set the classifier for this classifier behavior execution to the given class.&#xA;// If the given class is a behavior, set the execution to be the object of the object activation of the classifier behavior execution.&#xA;// Otherwise the class must be an active class, so get an execution object for the classifier behavior for the class.&#xA;// Set the input parameters for the execution to the given values.&#xA;// Then register this event accepter with the object activation.&#xA;&#xA;this->setClassifier(classifier);&#xA;&#xA;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> object = this->getObjectActivation()->getObject();&#xA;&#xA;if(std::dynamic_pointer_cast&lt;uml::Behavior>(classifier) != nullptr)&#xA;{&#xA;&#x9;this->setExecution(std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::Execution>(object));&#xA;}&#xA;else &#xA;{&#xA;&#x9;this->setExecution(object->getLocus()->getFactory()->createExecution(classifier->getClassifierBehavior(), object));&#xA;}&#xA;&#xA;if(inputs != nullptr)&#xA;{&#xA;&#x9;for(int i = 0; i &lt; inputs->size(); i++)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> input= inputs->at(i);&#xA;&#x9;&#x9;this->getExecution()->setParameterValue(input);&#xA;&#x9;}&#xA;}&#xA;&#xA;this->getObjectActivation()->_register(std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::EventAccepter>(this));"/>
            <details key="doNotGenerate" value="true"/>
          </eAnnotations>
          <eParameters name="classifier" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
          <eParameters name="inputs" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="match" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return true if the given event occurrence is an invocation event&#xA;// occurrence for the execution of this classifier behavior invocation&#xA;// event accepter.&#xA;&#xA;bool matches = false;&#xA;&#xA;if(std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::InvocationEventOccurrence>(eventOccurrence) != nullptr)&#xA;{&#xA;&#x9;matches = (std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::InvocationEventOccurrence>(eventOccurrence))->getExecution() == this->getExecution();&#xA;}&#xA;&#xA;return matches;"/>
          </eAnnotations>
          <eParameters name="eventOccurrence" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
        <eOperations name="terminate">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Terminate the associated execution.&#xA;// If the execution is not itself the object of the object activation, then destroy it.&#xA;&#xA;this->getExecution()->terminate();&#xA;&#xA;if(this->getExecution() != this->getObjectActivation()->getObject())&#xA;{&#xA;&#x9;this->getExecution()->destroy();&#xA;}"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="classifier" lowerBound="1"
            eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="execution" lowerBound="1"
            eType="#//Semantics/CommonBehavior/Execution"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="objectActivation" eType="#//Semantics/CommonBehavior/ObjectActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ClassifierBehaviorExecution">
        <eOperations name="execute" ordered="false" lowerBound="1">
          <eParameters name="classifier" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
          <eParameters name="inputs" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1"/>
        <eOperations name="_startObjectBehavior" ordered="false" lowerBound="1"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="execution" ordered="false"
            lowerBound="1" eType="#//Semantics/CommonBehavior/Execution"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="classifier" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="objectActivation" ordered="false"
            eType="#//Semantics/CommonBehavior/ObjectActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="EventAccepter" abstract="true">
        <eOperations name="accept" ordered="false" lowerBound="1">
          <eParameters name="signalInstance" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance"/>
        </eOperations>
        <eOperations name="match" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="signalInstance" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="EventOccurrence">
        <eOperations name="doSend" lowerBound="1"/>
        <eOperations name="getParameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        <eOperations name="match" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="trigger" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Trigger"/>
        </eOperations>
        <eOperations name="matchAny" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="triggers" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Trigger"/>
        </eOperations>
        <eOperations name="sendTo" lowerBound="1">
          <eParameters name="target" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Reference"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="target" eType="#//Semantics/StructuredClassifiers/Reference"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Execution" abstract="true" eSuperTypes="#//Semantics/StructuredClassifiers/Object">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;algorithm>&#xA;#include &lt;uml/Parameter.hpp>&#xA;#include &lt;uml/ParameterDirectionKind.hpp>&#xA;#include &lt;fUML/Semantics/CommonBehavior/ParameterValue.hpp>&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/Classifier.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/impl/ObjectImpl.hpp&quot;&#xA;"/>
        </eAnnotations>
        <eOperations name="execute" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=""/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="setParameterValue" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> existingParameterValue = this->getParameterValue(parameterValue->getParameter());&#xA;&#xA;&#x9;if (existingParameterValue == nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;this->getParameterValues()->push_back(parameterValue);&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;existingParameterValue->getValues()->clear(); // memory Leak&#xA;&#x9;&#x9;auto vec = parameterValue->getValues();&#xA;&#x9;&#x9;existingParameterValue->getValues()->insert(existingParameterValue->getValues()->end(),vec->begin(),vec->end());&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="parameterValue" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="getParameterValue" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/ParameterValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue = nullptr;&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > list = this->getParameterValues();&#xA;&#x9;std::vector&lt;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue>>::iterator it = std::find_if(list->begin(), list->end(), [parameter] (std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> p) { return p->getParameter() == parameter; } );&#xA;    if(it!= this->getParameterValues()->end() )&#xA;    {&#xA;        parameterValue  = *it;&#xA;    }&#xA;    return parameterValue;"/>
          </eAnnotations>
          <eParameters name="parameter" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Parameter"/>
        </eOperations>
        <eOperations name="getOutputParameterValues" ordered="false" upperBound="-1"
            eType="#//Semantics/CommonBehavior/ParameterValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > outputs(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > outputParameterValueList = this->getParameterValues();&#xA;    for (std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue : *outputParameterValueList)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::Parameter> parameter = parameterValue->getParameter();&#xA;        if((parameter->getDirection() == uml::ParameterDirectionKind::INOUT)&#xA;                || (parameter->getDirection() == uml::ParameterDirectionKind::OUT)&#xA;                || (parameter->getDirection() == uml::ParameterDirectionKind::RETURN))&#xA;        {&#xA;            outputs->push_back(parameterValue);&#xA;        }&#xA;    }&#xA;&#xA;    return outputs;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getBehavior" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Behavior">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::dynamic_pointer_cast&lt;uml::Behavior>(this->getTypes()->front());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="new_" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="context" ordered="false"
            lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="parameterValues" ordered="false"
            upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="FIFOGetNextEventStrategy" eSuperTypes="#//Semantics/CommonBehavior/GetNextEventStrategy"/>
      <eClassifiers xsi:type="ecore:EClass" name="GetNextEventStrategy" abstract="true"
          eSuperTypes="#//Semantics/Loci/SemanticStrategy">
        <eOperations name="retrieveNextEvent" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance">
          <eParameters name="objectActivation" ordered="false" eType="#//Semantics/CommonBehavior/ObjectActivation"/>
        </eOperations>
        <eOperations name="getName" eType="ecore:EDataType http://www.eclipse.org/uml2/5.0.0/Types#//String">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Get next event strategies are always named &quot;getNextEvent&quot;.&#xA;return &quot;getNextEvent&quot;;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="InvocationEventOccurrence" eSuperTypes="#//Semantics/CommonBehavior/EventOccurrence">
        <eOperations name="getParameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// An invocation event occurrence does not have any associated data.&#xA;&#xA;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>> parameterValueList(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#xA;return parameterValueList;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="match" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// An invocation event occurrence does not match any triggers.&#xA;&#xA;return false;"/>
          </eAnnotations>
          <eParameters name="trigger" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Trigger"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="execution" lowerBound="1"
            eType="#//Semantics/CommonBehavior/Execution"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ObjectActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/CommonBehavior/ClassifierBehaviorExecution.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="startBehavior" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->_startObjectBehavior();&#xA;&#xA;&#x9;if (classifier == nullptr)&#xA;&#x9;{&#xA;    &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[startBehavior] Starting behavior for all classifiers...&quot;&lt;&lt;std::endl;)&#xA;&#x9;&#x9;// *** Start all classifier behaviors concurrently. ***&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > types = this->getObject()->getTypes();&#xA;        std::vector&lt;std::shared_ptr&lt;uml::Classifier>>::iterator i;&#xA;        for (i = types->begin(); i!=types->end(); ++i) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;uml::Class> type = std::dynamic_pointer_cast&lt;uml::Class> (*i);&#xA;        &#x9;if ((std::dynamic_pointer_cast&lt;uml::Behavior>(type) != nullptr) || (type->getClassifierBehavior() != nullptr))&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > parameterValue(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;            &#x9;this->startBehavior(type, parameterValue);&#xA;            }&#xA;        }&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;    &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[startBehavior] Starting behavior for &quot;&lt;&lt; classifier->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#xA;&#x9;&#x9;bool notYetStarted = true;&#xA;        unsigned int i = 0;&#xA;        while (notYetStarted &amp;&amp; i &lt; this->getClassifierBehaviorExecutions()->size())&#xA;        {&#xA;        &#x9;notYetStarted = (this->getClassifierBehaviorExecutions()->at(i)->getClassifier() != classifier);&#xA;            i = i + 1;&#xA;        }&#xA;&#xA;        if (notYetStarted)&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ClassifierBehaviorExecution> newExecution(fUML::FUMLFactory::eInstance()->createClassifierBehaviorExecution());&#xA;        &#x9;newExecution->setObjectActivation(getThisObjectActivationPtr());&#xA;        &#x9;this->getClassifierBehaviorExecutions()->push_back(newExecution);&#xA;        &#x9;//newExecution->execute(classifier, inputs);&#xA;        }&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="classifier" ordered="false" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
          <eParameters name="inputs" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="stop" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ClassifierBehaviorExecution> > classifierBehaviorExecutions = this->getClassifierBehaviorExecutions();&#xA;    for (unsigned int i = 0; i &lt; classifierBehaviorExecutions->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ClassifierBehaviorExecution> classifierBehaviorExecution = classifierBehaviorExecutions->at(i);&#xA;        classifierBehaviorExecution->terminate();&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="_register" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[register] object = &quot; &lt;&lt; this->getObject()&lt;&lt;std::endl;)&#xD;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[register] accepter = &quot; &lt;&lt; accepter&lt;&lt;std::endl;)&#xD;&#xA;&#xD;&#xA;    this->getWaitingEventAccepters()->push_back(accepter);"/>
          </eAnnotations>
          <eParameters name="accepter" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/EventAccepter"/>
        </eOperations>
        <eOperations name="unregister" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[unregister] object = &quot; &lt;&lt; this->getObject()&lt;&lt;std::endl;)&#xD;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[unregister] accepter = &quot; &lt;&lt; accepter&lt;&lt;std::endl;)&#xD;&#xA;&#xD;&#xA;    bool notFound = true;&#xD;&#xA;    unsigned int i = 0;&#xD;&#xA;    while (notFound &amp;&amp; i &lt; this->getWaitingEventAccepters()->size()) {&#xD;&#xA;        if (this->getWaitingEventAccepters()->at(i) == accepter) {&#xD;&#xA;            this->getWaitingEventAccepters()->erase(this->getWaitingEventAccepters()->begin() + i);&#xD;&#xA;            notFound = false;&#xD;&#xA;        }&#xD;&#xA;        i = i + 1;&#xD;&#xA;    }"/>
          </eAnnotations>
          <eParameters name="accepter" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/EventAccepter"/>
        </eOperations>
        <eOperations name="send" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getEventPool()->push_back(std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::SignalInstance>(signalInstance->copy()));&#xA;    //_send(new ArrivalSignal());"/>
          </eAnnotations>
          <eParameters name="signalInstance" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance"/>
        </eOperations>
        <eOperations name="dispatchNextEvent" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=""/>
          </eAnnotations>
        </eOperations>
        <eOperations name="retrieveNextEvent" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/SignalInstance">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
        </eOperations>
        <eOperations name="_startObjectBehavior" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="//this->behavior._startObjectBehavior();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="_send" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=""/>
          </eAnnotations>
          <eParameters name="signal" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaObject"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="waitingEventAccepters"
            ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/EventAccepter"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="eventPool" ordered="false"
            upperBound="-1" eType="#//Semantics/SimpleClassifiers/SignalInstance"
            containment="true"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="object" ordered="false"
            lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="classifierBehaviorExecutions"
            ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ClassifierBehaviorExecution"
            containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="EventDispatchLoop"/>
      <eClassifiers xsi:type="ecore:EClass" name="OpaqueBehaviorExecution" abstract="true"
          eSuperTypes="#//Semantics/CommonBehavior/Execution">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;&#xA;#include &quot;uml/ParameterDirectionKind.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doBody" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          <eParameters name="inputParameters" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
          <eParameters name="outputParameters" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="execute" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[execute] Opaque behavior &quot; &lt;&lt; this->getBehavior()->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > inputs(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > outputs(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::Parameter> > parameterList = this->getBehavior()->getOwnedParameter();&#xA;    for(std::shared_ptr&lt;uml::Parameter> parameter : *parameterList) &#xA;    {&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;parameter->getName()&lt;&lt; &quot; Parameter Direction: &quot; &lt;&lt; parameter->getDirection()&lt;&lt;std::endl;)&#xA;        if ((parameter->getDirection() == uml::ParameterDirectionKind::IN)&#xA;                || (parameter->getDirection() == uml::ParameterDirectionKind::INOUT)) &#xA;        {&#xA;            inputs->push_back(this->getParameterValue(parameter));&#xA;        }&#xA;&#xA;        if ((parameter->getDirection() == uml::ParameterDirectionKind::INOUT)&#xA;                || (parameter->getDirection() == uml::ParameterDirectionKind::OUT)&#xA;                || (parameter->getDirection() == uml::ParameterDirectionKind::RETURN)) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue(fUML::FUMLFactory::eInstance()->createParameterValue());&#xA;            parameterValue->setParameter(parameter);&#xA;&#xA;            if(parameter->getDirection() != uml::ParameterDirectionKind::INOUT)&#xA;            {&#xA;                //Otherwise the input parameter is removed (memory leak).&#xA;                this->setParameterValue(parameterValue);&#xA;            }&#xA;&#xA;            outputs->push_back(parameterValue);&#xA;        }&#xA;    }&#xA;&#xA;    this->doBody(inputs, outputs);"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ParameterValue">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="parameter" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Parameter"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="values" ordered="false"
            upperBound="-1" eType="#//Semantics/Values/Value" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="SignalEventOccurrence" eSuperTypes="#//Semantics/CommonBehavior/EventOccurrence">
        <eOperations name="getParameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        <eOperations name="match" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="trigger" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Trigger"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="signalInstance" lowerBound="1"
            eType="#//Semantics/SimpleClassifiers/SignalInstance"/>
      </eClassifiers>
    </eSubpackages>
    <eSubpackages name="Actions" nsURI="http:///fUML_Semantics/Semantics/Actions.ecore"
        nsPrefix="fUML_Semantics.Semantics.Actions">
      <eClassifiers xsi:type="ecore:EClass" name="AcceptEventActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eOperations name="accept" ordered="false" lowerBound="1">
          <eParameters name="eventOccurrence" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
        <eOperations name="match" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="eventOccurrence" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
        <eOperations name="doAction" lowerBound="1"/>
        <eOperations name="fire" lowerBound="1">
          <eParameters name="incomingTokens" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="initialize" lowerBound="1">
          <eParameters name="node" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
          <eParameters name="group" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivationGroup"/>
        </eOperations>
        <eOperations name="isReady" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
        <eOperations name="run" lowerBound="1"/>
        <eOperations name="terminate" lowerBound="1"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="eventAccepter" ordered="false"
            eType="#//Semantics/Actions/AcceptEventActionEventAccepter"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="waiting" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="AcceptEventActionEventAccepter"
          eSuperTypes="#//Semantics/CommonBehavior/EventAccepter">
        <eStructuralFeatures xsi:type="ecore:EReference" name="actionActivation" ordered="false"
            lowerBound="1" eType="#//Semantics/Actions/AcceptEventActionActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="AcceptCallActionActivation" eSuperTypes="#//Semantics/Actions/AcceptEventActionActivation">
        <eOperations name="accept" lowerBound="1">
          <eParameters name="eventOccurrence" lowerBound="1" eType="#//Semantics/CommonBehavior/EventOccurrence"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ActionActivation" abstract="true"
          eSuperTypes="#//Semantics/Activities/ActivityNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;algorithm>&#xA;#include &lt;iterator>&#xA;#include &quot;abstractDataTypes/SubsetUnion.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityExecution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ControlToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Executor.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/FeatureValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ForkNodeActivation.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Link.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/PinActivation.hpp&quot;&#xA;#include &quot;uml/Action.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/DataStoreNode.hpp&quot;&#xA;#include &quot;uml/LiteralBoolean.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/OutputPin.hpp&quot;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xA;#include &quot;uml/ForkNode.hpp&quot;&#xA;#include &quot;uml/Activity.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="isFirng" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    return this->isFiring();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="doAction" ordered="false" lowerBound="1"/>
        <eOperations name="sendOffers" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    // *** Send offers from all output pins concurrently. ***&#xA;&#x9;std::shared_ptr&lt;Subset&lt;fUML::Semantics::Actions::OutputPinActivation, fUML::Semantics::Actions::PinActivation > > outputPins=this->getOutputPinActivation();&#xA;&#x9;for(std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> pin: *outputPins)&#xA;&#x9;{&#xA;&#x9;&#x9;pin->sendUnofferedTokens();&#xA;&#x9;}&#xA;&#xA;    // Send offers on all outgoing control flows.&#xA;    if (!this->getOutgoingEdges()->empty()) {&#xA;    &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;        tokens->push_back(std::shared_ptr&lt;fUML::Semantics::Activities::Token>(fUML::FUMLFactory::eInstance()->createControlToken()));&#xA;        this->addTokens(tokens);&#xA;        //front ok - because of adding anonymus fork node instead of multiple outgoing edges&#xA;        this->getOutgoingEdges()->front()->sendOffer(tokens);&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="addPinActivation" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="pinActivation->setActionActivation(getThisActionActivationPtr());&#xA;&#xA;&#x9;switch(pinActivation->eClass()->getClassifierID())&#xA;&#x9;{&#xA;&#x9;&#x9;case FUMLPackage::INPUTPINACTIVATION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::InputPinActivation> inPinActivation= std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::InputPinActivation> (pinActivation);&#xA;&#x9;&#x9;&#x9;this->getInputPinActivation()->push_back(inPinActivation);&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;case FUMLPackage::OUTPUTPINACTIVATION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> outPinActivation= std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::OutputPinActivation> (pinActivation);&#xA;&#x9;&#x9;&#x9;this->getOutputPinActivation()->push_back(outPinActivation);&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;default:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;throw &quot;fUML::Semantics::Actions::ActionActivationImpl::addPinActivation: unknown pin type.&quot;;&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="pinActivation" ordered="false" lowerBound="1" eType="#//Semantics/Actions/PinActivation"/>
        </eOperations>
        <eOperations name="retrievePinActivation" ordered="false" lowerBound="1" eType="#//Semantics/Actions/PinActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation = nullptr;&#xA;&#xA;    Bag&lt;fUML::Semantics::Actions::PinActivation>* pinActivationListPtr = this->getPinActivation().get();&#xA;    const int size = pinActivationListPtr->size();&#xA;    std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation>thisPinActivation;&#xA;    for(int i=0; i&lt; size; i++)&#xA;    {&#xA;        thisPinActivation = (*pinActivationListPtr)[i];&#xA;        if (thisPinActivation->getNode() == pin) {&#xA;            pinActivation = thisPinActivation;&#xA;            break;&#xA;        }&#xA;    }&#xA;&#xA;    return pinActivation;"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Pin"/>
        </eOperations>
        <eOperations name="putToken" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    DEBUG_MESSAGE(std::cout&lt;&lt;(&quot;[putToken] node = &quot; + this->getNode()->getName())&lt;&lt;std::endl;)&#xA;&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> token = fUML::FUMLFactory::eInstance()->createObjectToken();&#xA;    token->setValue(value);&#xA;&#xA;    std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation = this->retrievePinActivation(pin);&#xA;    pinActivation->addToken(token);&#xA;    ACT_DEBUG(std::cout&lt;&lt;&quot;SET_TOKEN;NODE:&quot;&lt;&lt; this->getNode()->getQualifiedName() &lt;&lt;&quot;;TOKEN:&quot;&lt;&lt;token->getValue() &lt;&lt; &quot;;CURRENT_TOKENS:&quot;&lt;&lt; (this->getHeldTokens()->size()+1) &lt;&lt;&quot;;DIRECTION:add&quot;&lt;&lt;std::endl;)"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//OutputPin"/>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="putTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="for (std::shared_ptr&lt;fUML::Semantics::Values::Value> value : *values)&#xA;    {&#xA;        this->putToken(pin,value);&#xA;    }"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//OutputPin"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="getTokens" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[getTokens] node = &quot;  &lt;&lt; this->getNode()->getName()  &lt;&lt; &quot;, pin = &quot;  &lt;&lt; pin->getName()&lt;&lt;std::endl;)&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation(this->retrievePinActivation(pin));&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values(new Bag&lt;fUML::Semantics::Values::Value>());&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokenList = pinActivation->getUnofferedTokens();&#xA;    for(std::shared_ptr&lt;fUML::Semantics::Activities::Token> token : *tokenList)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> objToken = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ObjectToken>(token);&#xA;        if(objToken!=nullptr)&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = objToken->getValue();&#xA;            if(value != nullptr)&#xA;            {&#xA;                values->push_back(value);&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    return values;"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//InputPin"/>
        </eOperations>
        <eOperations name="takeTokens" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[takeTokens] node = &quot;  &lt;&lt; this->getNode()->getName()  &lt;&lt; &quot;, pin = &quot;  &lt;&lt; pin->getName()&lt;&lt;std::endl;)&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation = this->retrievePinActivation(pin);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values(new Bag&lt;fUML::Semantics::Values::Value>());&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokenList = pinActivation->takeUnofferedTokens();&#xA;&#x9;for(std::shared_ptr&lt;fUML::Semantics::Activities::Token> token : *tokenList)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = token->getValue();&#xA;        if(value != nullptr)&#xA;        {&#xA;        &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;ActionActivation - takeTokens value&quot;&lt;&lt;value->toString()&lt;&lt;std::endl;)&#xA;            values->push_back(value);&#xA;        }&#xA;    }&#xA;    return values;"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//InputPin"/>
        </eOperations>
        <eOperations name="valueParticipatesInLink" ordered="false" lowerBound="1"
            eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="bool participates = false;&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> > featureValueList = link->getFeatureValues();&#xA;    for (std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue : *featureValueList)&#xA;    {&#xA;        if(featureValue->getValues()->front()->equals(value))&#xA;        {&#xA;            participates = true;&#xA;            break;&#xA;        }&#xA;    }&#xA;&#xA;    return participates;"/>
          </eAnnotations>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
          <eParameters name="link" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Link"/>
        </eOperations>
        <eOperations name="makeBooleanValue" ordered="false" lowerBound="1" eType="#//Semantics/SimpleClassifiers/BooleanValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=" std::shared_ptr&lt;uml::LiteralBoolean> booleanValue = uml::UmlFactory::eInstance()->createLiteralBoolean_in_Namespace(std::shared_ptr&lt;uml::Class>());&#xA;    booleanValue->setValue(value);&#xA;    return std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::BooleanValue>(this->getExecutionLocus()->getExecutor()->evaluate(booleanValue));"/>
          </eAnnotations>
          <eParameters name="value" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
        </eOperations>
        <eOperations name="run" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;    fUML::Semantics::Activities::ActivityNodeActivationImpl::run();&#xA;&#xA;    if (!this->getOutgoingEdges()->empty()) {&#xA;    &#x9;auto target=this->getOutgoingEdges()->front()->getTarget().lock();&#xA;    &#x9;if(target)&#xA;    &#x9;{&#xA;    &#x9;&#x9;target->run();&#xA;    &#x9;}&#xA;    }&#xA;&#xA;    this->setFiring( false);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::Action> action = std::dynamic_pointer_cast&lt;uml::Action> (this->getNode());&#xA;&#xA;    if(action != nullptr)&#xA;    {&#xA;        this->setFiring(!action->getIsLocallyReentrant());&#xA;    }&#xA;&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > offeredTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > incomingEdgeList = this->getIncomingEdges();&#xA;    for(std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> incomingEdge : *incomingEdgeList)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokenList = incomingEdge->takeOfferedTokens();&#xA;        for(std::shared_ptr&lt;fUML::Semantics::Activities::Token> token: *tokenList)&#xA;        {&#xA;            token->withdraw();&#xA;            offeredTokens->push_back(token);&#xA;        }&#xA;    }&#xA;&#xA;    // *** Fire all input pins concurrently. ***&#xA;    if(action != nullptr)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;Subset&lt;fUML::Semantics::Actions::InputPinActivation, fUML::Semantics::Actions::PinActivation > > inputPinActivations = this->getInputPinActivation();&#xA;        for (std::shared_ptr&lt;fUML::Semantics::Actions::InputPinActivation> pinActivation : *inputPinActivations)&#xA;        {&#xA;            if(pinActivation!=nullptr)&#xA;&#x9;&#x9;&#x9;{&#xA;            &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = pinActivation->takeOfferedTokens();&#xA;            &#x9;pinActivation->fire(tokens);&#xA;            &#x9;offeredTokens->insert(offeredTokens->end(), tokens->begin(), tokens->end());&#xA;            }&#xA;            else&#xA;            {&#xA;                DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Warning! Firing: A Pin was null!&quot;&lt;&lt;std::endl;)&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    return offeredTokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    do {&#xD;&#xA;&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Action &quot;  &lt;&lt; this->getNode()->getName()  &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[event] Fire activity=&quot; &lt;&lt; this->getActivityExecution()->getBehavior()->getName() &lt;&lt; &quot; action=&quot;  &lt;&lt; this->getNode()->getName()&lt;&lt;std::endl;)&#xD;&#xA;&#xD;&#xA;        this->doAction();&#xD;&#xA;        this->sendOffers();&#xD;&#xA;        incomingTokens = this->completeAction();&#xD;&#xA;&#xD;&#xA;    } while (incomingTokens->size() > 0);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;    fUML::Semantics::Activities::ActivityNodeActivationImpl::terminate();&#xA;&#xA;    if (!this->getOutgoingEdges()->empty())&#xA;    {&#xA;    &#x9;auto target=this->getOutgoingEdges()->front()->getTarget().lock();&#xA;    &#x9;if(target)&#xA;    &#x9;{&#xA;    &#x9;&#x9;target->terminate();&#xA;    &#x9;}&#xA;    }&#xA;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::Action> actionNode = std::dynamic_pointer_cast&lt;uml::Action>(this->getNode());&#xA;    bool ready = false;&#xA;    if(actionNode != nullptr)&#xA;    {&#xA;        ready = fUML::Semantics::Activities::ActivityNodeActivationImpl::isReady()&#xA;                 &amp;&amp; ((actionNode->getIsLocallyReentrant()) || !this->isFiring());&#xA;&#xA;         //Has any Edge Offers?&#xA;         if(ready)&#xA;         {&#xA;        &#x9; std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > edgeList = this->getIncomingEdges();&#xA;             ready = std::all_of(edgeList->begin(),edgeList->end(),[](std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edge ){return edge->hasOffer();});&#xA;         }&#xA;&#xA;         //Have all Inputpin an Activation?&#xA;         if(ready)&#xA;         {&#xA;        &#x9; std::shared_ptr&lt;Subset&lt;fUML::Semantics::Actions::InputPinActivation, fUML::Semantics::Actions::PinActivation > > activations = this->getInputPinActivation();&#xA;             ready = std::all_of(activations->begin(),activations->end(),[this]( std::shared_ptr&lt;fUML::Semantics::Actions::InputPinActivation> pin){return pin->isReady();});&#xA;         }&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::DataStoreNode> dActivation = std::dynamic_pointer_cast&lt;uml::DataStoreNode>(this->getNode());&#xA;        if(dActivation != nullptr)&#xA;        {&#xA;            ready = true; //TODO&#xA;            //Has any Edge Offers?&#xA;            if(ready)&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > edgeList = this->getIncomingEdges();&#xA;                ready = std::all_of(edgeList->begin(),edgeList->end(),[](std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edge ){return edge->hasOffer();});&#xA;            }&#xA;&#xA;            if(!ready)&#xA;            {&#xA;&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    return ready;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="completeAction" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Checking if &quot; &lt;&lt; this->getNode()->getName() &lt;&lt; &quot; should fire again...&quot;&lt;&lt;std::endl;)&#xA;&#xA;    _beginIsolation();&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > incomingTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#xA;    this->setFiring(false);&#xA;    if (this->isReady()) {&#xA;        incomingTokens = this->takeOfferedTokens();&#xA;        this->setFiring(this->isFirng() &amp;&amp; !incomingTokens->empty());&#xA;    }&#xA;    _endIsolation();&#xA;&#xA;    return incomingTokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="createNodeActivations" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::Action> action = std::dynamic_pointer_cast&lt;uml::Action> (this->getNode());&#xA;&#xA;    //createinputpin activation&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ActivityNode> > inputPinNodes(new Bag&lt;uml::ActivityNode>());&#xA;    if(action)&#xA;    {&#xA;    &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Found&quot;&lt;&lt;action->getInput()->size()&lt;&lt;&quot;input pin(s).&quot;&lt;&lt;std::endl;)&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::InputPin> > inputPins = action->getInput();&#xA;    &#x9;for(std::shared_ptr&lt;uml::InputPin> pin : *inputPins)&#xA;    &#x9;{&#xA;    &#x9;&#x9;if(pin!=nullptr)&#xA;    &#x9;&#x9;{&#xA;    &#x9;&#x9;&#x9;inputPinNodes->push_back(pin);&#xA;    &#x9;&#x9;}&#xA;    &#x9;&#x9;else&#xA;    &#x9;&#x9;{&#xA;    &#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Warning! Found null Input pin&quot;&lt;&lt;std::endl;)&#xA;    &#x9;&#x9;}&#xA;    &#x9;}&#xA;    }&#xA;&#xA;    //create outputpin activation&#xA;    std::shared_ptr&lt;Bag&lt;uml::ActivityNode> > outputPinNodes(new Bag&lt;uml::ActivityNode>());&#xA;    if(action)&#xA;    {&#xA;    &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Found&quot;&lt;&lt;action->getOutput()->size()&lt;&lt;&quot;output pin(s).&quot;&lt;&lt;std::endl;)&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::OutputPin> > outputPins = action->getOutput();&#xA;    &#x9;for(std::shared_ptr&lt;uml::OutputPin> pin : *outputPins)&#xA;    &#x9;{&#xA;    &#x9;&#x9;if(pin!=nullptr)&#xA;            {&#xA;    &#x9;&#x9;&#x9;outputPinNodes->push_back(pin);&#xA;            }&#xA;    &#x9;&#x9;else&#xA;    &#x9;&#x9;{&#xA;    &#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Warning! Found null Output pin&quot;&lt;&lt;std::endl;)&#xA;    &#x9;&#x9;}&#xA;    &#x9;}&#xA;    }&#xA;&#xA;    auto group = this->getGroup().lock();&#xA;    if(group )&#xA;    {&#xA;    &#x9;group->createNodeActivations(inputPinNodes);&#xA;&#xA;&#x9;&#x9;for(std::shared_ptr&lt;uml::ActivityNode> node : *inputPinNodes)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;this->addPinActivation(std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::PinActivation> (group->getNodeActivation(node)));&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;group->createNodeActivations(outputPinNodes);&#xA;&#xA;&#x9;&#x9;for(std::shared_ptr&lt;uml::ActivityNode> node : *outputPinNodes)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;this->addPinActivation(std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::PinActivation> (group->getNodeActivation(node)));&#xA;&#x9;&#x9;}&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="addOutgoingEdge" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> forkNodeActivation;&#xA;&#xA;    if (this->getOutgoingEdges()->empty()) &#xA;    {&#xA;    &#x9;//Create anonymousFork&#xA;&#xA;    &#x9;std::shared_ptr&lt;uml::Activity> activity; // need Activity 2 create anonymousFork&#xA;    &#x9;std::shared_ptr&lt;uml::UmlFactory> factory = uml::UmlFactory::eInstance();&#xA;&#xA;    &#x9;auto group=this->getGroup().lock();&#xA;    &#x9;if(group)&#xA;    &#x9;{&#xA;    &#x9;&#x9;auto execution = group->getActivityExecution().lock();&#xA;    &#x9;&#x9;if(execution)&#xA;    &#x9;&#x9;{&#xA;    &#x9;    &#x9;activity= std::dynamic_pointer_cast&lt;uml::Activity>(execution->getBehavior());&#xA;    &#x9;&#x9;}&#xA;    &#x9;}&#xA;&#xA;    &#x9;if(activity)&#xA;    &#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::ForkNode> newForkNode = factory->createForkNode_in_Activity(activity);&#xA;&#x9;&#x9;&#x9;newForkNode->setName(this->getNode()->getName()+&quot;anonymousFork&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;forkNodeActivation = this->getGroup().lock()->createNodeActivation(newForkNode);&#xA;&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> newEdge(fUML::FUMLFactory::eInstance()->createActivityEdgeInstance());&#xA;&#x9;&#x9;&#x9;fUML::Semantics::Activities::ActivityNodeActivationImpl::addOutgoingEdge(newEdge);&#xA;&#x9;&#x9;&#x9;forkNodeActivation->addIncomingEdge(newEdge);&#xA;&#x9;&#x9;&#x9;edge->setSource(forkNodeActivation);&#xA;    &#x9;}&#xA;    &#x9;else&#xA;    &#x9;{&#xA;&#x9;&#x9;&#x9;throw &quot;fUML::Semantics::Actions::ActionActivationImpl::addOutgoingEdge: unknown Activity to create anonymousFork.&quot;;&#xA;    &#x9;}&#xA;    } &#xA;    else &#xA;    {&#xA;        forkNodeActivation = this->getOutgoingEdges()->front()->getTarget().lock();&#xA;    }&#xA;    &#xA;    forkNodeActivation->addOutgoingEdge(edge);"/>
          </eAnnotations>
          <eParameters name="edge" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eOperations name="isSourceFor" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;    bool isSource = false;&#xD;&#xA;    if (this->getOutgoingEdges()->size() > 0)&#xD;&#xA;    {&#xD;&#xA;    &#x9;auto target=this->getOutgoingEdges()->at(0)->getTarget().lock();&#xD;&#xA;    &#x9;if(target)&#xD;&#xA;    &#x9;{&#xD;&#xA;    &#x9;&#x9;isSource = target->isSourceFor(edgeInstance);&#xD;&#xA;    &#x9;}&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return isSource;"/>
          </eAnnotations>
          <eParameters name="edgeInstance" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="pinActivation" ordered="false"
            upperBound="-1" eType="#//Semantics/Actions/PinActivation" eOpposite="#//Semantics/Actions/PinActivation/actionActivation">
          <eAnnotations source="union"/>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="firing" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
            defaultValueLiteral="false"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="inputPinActivation"
            ordered="false" upperBound="-1" eType="#//Semantics/Actions/InputPinActivation">
          <eAnnotations source="subsets" references="#//Semantics/Actions/ActionActivation/pinActivation"/>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EReference" name="outputPinActivation"
            ordered="false" upperBound="-1" eType="#//Semantics/Actions/OutputPinActivation">
          <eAnnotations source="subsets" references="#//Semantics/Actions/ActionActivation/pinActivation"/>
        </eStructuralFeatures>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="AddStructuralFeatureValueActionActivation"
          eSuperTypes="#//Semantics/Actions/WriteStructuralFeatureActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/StructuredValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/UnlimitedNaturalValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;uml/AddStructuralFeatureValueAction.hpp&quot;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::AddStructuralFeatureValueAction> action = std::dynamic_pointer_cast&lt;uml::AddStructuralFeatureValueAction>(m_node);&#xA;&#x9;std::shared_ptr&lt;uml::StructuralFeature> feature = action->getStructuralFeature();&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = takeTokens(action->getObject())->at(0);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value>> inputValues = takeTokens(action->getValue());&#xA;&#xA;&#x9;int insertAt = -1;&#xA;&#x9;if (action->getInsertAt() != nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> insertValue = takeTokens(action->getInsertAt())->at(0);&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::UnlimitedNaturalValue> unlimitedValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::UnlimitedNaturalValue>(insertValue);&#xA;&#x9;&#x9;if (unlimitedValue != nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;insertAt = unlimitedValue->getValue();&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#xA;&#x9;// TODO handle isRemoveAll&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StructuredValue> structuredValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::StructuredValue>(value);&#xA;&#x9;if (structuredValue)&#xA;&#x9;{&#xA;&#x9;&#x9;structuredValue->setFeatureValue(feature, inputValues, insertAt);&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;throw &quot;unhandled fUML::Value instance&quot;;&#xA;&#x9;}&#xA;&#x9;putToken(action->getResult(), value);"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CallActionActivation" abstract="true"
          eSuperTypes="#//Semantics/Actions/InvocationActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/CommonBehavior/Execution.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/OutputPin.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;&#xA;#include &quot;uml/CallAction.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getCallExecution" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    //TODO verify!&#xD;&#xA;    return this->m_callExecutions->front();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="removeCallExecution" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    bool notFound = true;&#xD;&#xA;    unsigned int i = 0;&#xD;&#xA;    while (notFound &amp;&amp; (i &lt; this->getCallExecutions()->size())) {&#xD;&#xA;        if (this->getCallExecutions()->at(i) == execution) {&#xD;&#xA;            this->getCallExecutions()->erase(this->getCallExecutions()->begin() + i);&#xD;&#xA;            notFound = false;&#xD;&#xA;        }&#xD;&#xA;    }"/>
          </eAnnotations>
          <eParameters name="execution" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution"/>
        </eOperations>
        <eOperations name="doAction" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::Execution> callExecution = this->getCallExecution();&#xA;&#xA;    if (callExecution != nullptr)&#xA;    {&#xA;        this->getCallExecutions()->push_back(callExecution);&#xA;&#xA;        std::shared_ptr&lt;uml::CallAction> callAction = std::dynamic_pointer_cast&lt;uml::CallAction> (this->getNode());&#xA;        std::shared_ptr&lt;Bag&lt;uml::InputPin> > argumentPins = callAction->getArgument();&#xA;        std::shared_ptr&lt;Subset&lt;fUML::Semantics::Actions::InputPinActivation, fUML::Semantics::Actions::PinActivation>> inputActivationList=this->getInputPinActivation();&#xA;&#xA;        unsigned int pinNumber = 0;&#xA;        std::shared_ptr&lt;uml::Behavior> beh = callExecution->getBehavior();&#xA;        std::shared_ptr&lt;Bag&lt;uml::Parameter> > parameterList = beh->getOwnedParameter();&#xA;        for (std::shared_ptr&lt;uml::Parameter> parameter : *parameterList)&#xA;        {&#xA;        &#x9;uml::ParameterDirectionKind direction=parameter->getDirection();&#xA;            if (direction == uml::ParameterDirectionKind::IN || direction == uml::ParameterDirectionKind::INOUT)&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue(fUML::FUMLFactory::eInstance()->createParameterValue());&#xA;                parameterValue->setParameter(parameter);&#xA;&#xA;                std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values = parameterValue->getValues();&#xA;                std::shared_ptr&lt;fUML::Semantics::Actions::InputPinActivation> activation =inputActivationList->at(pinNumber);&#xA;            &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokenList = activation->takeUnofferedTokens();&#xA;            &#x9;for(std::shared_ptr&lt;fUML::Semantics::Activities::Token> token : *tokenList)&#xA;                {&#xA;                &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = token->getValue();&#xA;                    if(value != nullptr)&#xA;                    {&#xA;                    &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;ActionActivation - takeTokens value&quot;&lt;&lt;value->toString()&lt;&lt;std::endl;)&#xA;                        values->push_back(value);&#xA;                    }&#xA;                }&#xA;                callExecution->setParameterValue(parameterValue);&#xA;                pinNumber++;&#xA;            }&#xA;        }&#xA;&#xA;        callExecution->execute();&#xA;&#xA;&#xA;        std::shared_ptr&lt;Bag&lt;uml::OutputPin> > resultPins = callAction->getResult();&#xA;        std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > outputParameterValues = callExecution->getOutputParameterValues();&#xA;        std::shared_ptr&lt;Subset&lt;fUML::Semantics::Actions::OutputPinActivation, fUML::Semantics::Actions::PinActivation>> outputActivationList=this->getOutputPinActivation();&#xA;        pinNumber = 0;&#xA;        parameterList = callExecution->getBehavior()->getOwnedParameter();&#xA;        for (std::shared_ptr&lt;uml::Parameter> parameter : *parameterList)&#xA;        {&#xA;            if (!(parameter->getDirection() == uml::ParameterDirectionKind::IN))&#xA;            {&#xA;                for (std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> outputParameterValue : *outputParameterValues)&#xA;                {&#xA;                    if (outputParameterValue->getParameter() == parameter)&#xA;                    {&#xA;    &#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> resultPinActivation = outputActivationList->at(pinNumber);&#xA;        &#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values = outputParameterValue->getValues();&#xA;&#xA;        &#x9;&#x9;&#x9;&#x9;for (std::shared_ptr&lt;fUML::Semantics::Values::Value> value : *values)&#xA;        &#x9;&#x9;&#x9;    {&#xA;        &#x9;&#x9;&#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;(&quot;[putToken] node = &quot; + this->getNode()->getName())&lt;&lt;std::endl;)&#xA;&#xA;        &#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> token = fUML::FUMLFactory::eInstance()->createObjectToken();&#xA;        &#x9;&#x9;&#x9;&#x9;&#x9;token->setValue(value);&#xA;&#xA;        &#x9;&#x9;&#x9;&#x9;&#x9;resultPinActivation->addToken(token);&#xA;        &#x9;&#x9;&#x9;&#x9;&#x9;ACT_DEBUG(std::cout&lt;&lt;&quot;SET_TOKEN;NODE:&quot;&lt;&lt; resultPinActivation->getNode()->getQualifiedName() &lt;&lt;&quot;;TOKEN:&quot;&lt;&lt;token->getValue() &lt;&lt; &quot;;CURRENT_TOKENS:&quot;&lt;&lt; (this->getHeldTokens()->size()+1) &lt;&lt;&quot;;DIRECTION:add&quot;&lt;&lt;std::endl;)&#xA;        &#x9;&#x9;&#x9;    }&#xA;            &#x9;&#x9;&#x9;pinNumber++;&#xA;        &#x9;&#x9;&#x9;&#x9;break;&#xA;        &#x9;&#x9;&#x9;}&#xA;        &#x9;&#x9;}&#xA;            }&#xA;        }&#xA;&#xA;        callExecution->destroy();&#xA;        this->removeCallExecution(callExecution);&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::Execution> > executionList = this->getCallExecutions();&#xA;&#x9;for (std::shared_ptr&lt;fUML::Semantics::CommonBehavior::Execution>  execution: *executionList)&#xA;    {&#xA;        execution->terminate();&#xA;    }&#xA;&#xA;    fUML::Semantics::Actions::InvocationActionActivationImpl::terminate();"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="callExecutions" ordered="false"
            upperBound="-1" eType="#//Semantics/CommonBehavior/Execution" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CallBehaviorActionActivation" eSuperTypes="#//Semantics/Actions/CallActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/CallBehaviorAction.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getCallExecution" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::CallBehaviorAction> callBehaviorAction = std::dynamic_pointer_cast&lt;uml::CallBehaviorAction> (this->getNode());&#xA;    if(callBehaviorAction != nullptr)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::Behavior> behavior = callBehaviorAction->getBehavior();&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> context = nullptr;&#xA;&#xA;        if(behavior!=nullptr)&#xA;        {&#xA;            if (behavior->getContext()!= nullptr) &#xA;            {&#xA;                DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[getCallExecution] behavior context = &quot; &lt;&lt; behavior->getContext()->getName()&lt;&lt;std::endl;)&#xA;                context = this->getExecutionContext();&#xA;            }&#xA;            return this->getExecutionLocus()->getFactory()->createExecution(behavior,context);&#xA;        }&#xA;    }&#xA;    return nullptr;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CallOperationActionActivation" eSuperTypes="#//Semantics/Actions/CallActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ActivityExecution.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/Execution.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;uml/CallOperationAction.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/Property.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getCallExecution" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::Execution> execution = nullptr;&#xA;&#x9;std::shared_ptr&lt;uml::CallOperationAction> action = std::dynamic_pointer_cast&lt;uml::CallOperationAction> (this->getNode());&#xA;&#x9;if(action != nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;//Pin name&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::InputPin> targetPin = action->getTarget();&#xA;&#x9;&#x9;std::string name = targetPin->getName();&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> target = nullptr;&#xA;&#x9;&#x9;std::string attributeName = &quot;&quot;;&#xA;&#xA;&#x9;&#x9;if(name.empty() || name.find(&quot;self&quot;) == 0)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> context = this->getActivityExecution()->getContext();&#xA;&#x9;&#x9;&#x9;if(nullptr != context)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;execution = context->dispatch(action->getOperation());&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;//&#x9;&#x9;else if(name.find(&quot;self&quot;) == 0)&#xA;//&#x9;&#x9;{&#xA;//&#x9;&#x9;&#x9;std::cout &lt;&lt; &quot;starts with&quot; &lt;&lt; std::endl;&#xA;//&#x9;&#x9;&#x9;attributeName = name.substr (5, std::string::npos);&#xA;//&#xA;//&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Classifier> context = action->getContext();&#xA;//&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::Property> > attributes = context->getAllAttributes();&#xA;//&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Property> attribute = nullptr;&#xA;//&#xA;//&#x9;&#x9;&#x9;for(unsigned int i=0; i&lt;attributes->size(); i++)&#xA;//&#x9;&#x9;&#x9;{&#xA;//&#x9;&#x9;&#x9;&#x9;if((*attributes)[i]->getName() == attributeName)&#xA;//&#x9;&#x9;&#x9;&#x9;{&#xA;//&#x9;&#x9;&#x9;&#x9;&#x9;attribute = (*attributes)[i];&#xA;//&#x9;&#x9;&#x9;&#x9;&#x9;break;&#xA;//&#x9;&#x9;&#x9;&#x9;}&#xA;//&#x9;&#x9;&#x9;}&#xA;//&#xA;//&#x9;&#x9;&#x9;if(nullptr == attribute)&#xA;//&#x9;&#x9;&#x9;{&#xA;//&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;Could not find the attribute in the current context for the target pin &quot; &lt;&lt; attributeName &lt;&lt; std::endl;&#xA;//&#x9;&#x9;&#x9;&#x9;exit(EXIT_FAILURE);&#xA;//&#x9;&#x9;&#x9;}&#xA;//&#x9;&#x9;&#x9;else&#xA;//&#x9;&#x9;&#x9;{&#xA;//&#x9;&#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout &lt;&lt; &quot;Self attribute found for the target pin&quot; &lt;&lt;std::endl;)&#xA;//&#x9;&#x9;&#x9;}&#xA;//&#x9;&#x9;}&#xA;&#x9;&#x9;else&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::InputPin> t = action->getTarget();&#xA;&#x9;&#x9;&#x9;if(nullptr==t)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;[getCallExecution] Target is null&quot; &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pa = this->retrievePinActivation(t);&#xA;&#x9;&#x9;&#x9;&#x9;if(nullptr==pa)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;[getCallExecution] PinActivation is null&quot; &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > unofferedTokens = pa->getUnofferedTokens();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if(nullptr == unofferedTokens)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;[getCallExecution] UnofferedTokens are null&quot; &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> firstToken = unofferedTokens->front();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(nullptr==firstToken)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;[getCallExecution] FirstToken is null&quot; &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;target  = firstToken->getValue();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> ref = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Reference>(target);&#xA;&#x9;&#x9;&#x9;if(nullptr != ref)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;execution = ref->dispatch(action->getOperation());&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;return execution;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ClauseActivation">
        <eOperations name="recieveControl" ordered="false" lowerBound="1"/>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
        <eOperations name="runTest" ordered="false" lowerBound="1"/>
        <eOperations name="selectBody" ordered="false" lowerBound="1"/>
        <eOperations name="getDecision" ordered="false" eType="#//Semantics/SimpleClassifiers/BooleanValue"/>
        <eOperations name="getPredecessors" ordered="false" upperBound="-1" eType="#//Semantics/Actions/ClauseActivation"/>
        <eOperations name="getSuccessors" ordered="false" upperBound="-1" eType="#//Semantics/Actions/ClauseActivation"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="clause" ordered="false"
            lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Clause"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="conditionalNodeActivation"
            ordered="false" lowerBound="1" eType="#//Semantics/Actions/ConditionalNodeActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ClearAssociationActionActivation"
          eSuperTypes="#//Semantics/Actions/ActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="ClearStructuralFeatureActionActivation"
          eSuperTypes="#//Semantics/Actions/StructuralFeatureActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/FeatureValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/StructuredValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;uml/ClearStructuralFeatureAction.hpp&quot;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ClearStructuralFeatureAction> action = std::dynamic_pointer_cast&lt;uml::ClearStructuralFeatureAction>(m_node);&#xA;&#x9;std::shared_ptr&lt;uml::StructuralFeature> feature = action->getStructuralFeature();&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> objectValue = takeTokens(action->getObject())->at(0);&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StructuredValue> structuredValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::StructuredValue>(objectValue);&#xA;&#x9;if (structuredValue)&#xA;&#x9;{&#xA;&#x9;&#x9;structuredValue->removeValue(feature, nullptr);&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;throw &quot;unhandled fUML::Value instance&quot;;&#xA;&#x9;}&#xA;&#x9;putToken(action->getResult(), objectValue);"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ConditionalNodeActivation" eSuperTypes="#//Semantics/Actions/StructuredActivityNodeActivation">
        <eOperations name="getClauseActivation" ordered="false" lowerBound="1" eType="#//Semantics/Actions/ClauseActivation">
          <eParameters name="clause" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Clause"/>
        </eOperations>
        <eOperations name="runTest" ordered="false" lowerBound="1">
          <eParameters name="clause" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Clause"/>
        </eOperations>
        <eOperations name="selectBody" ordered="false" lowerBound="1">
          <eParameters name="clause" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Clause"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="clauseActivations"
            ordered="false" upperBound="-1" eType="#//Semantics/Actions/ClauseActivation"
            containment="true"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="selectedClauses" ordered="false"
            upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Clause"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CreateLinkActionActivation" eSuperTypes="#//Semantics/Actions/WriteLinkActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="CreateObjectActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/CreateObjectAction.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Create an object with the given classifier (which must be a class) as its type, at the same locus as the action activation.&#xA;// Place a reference to the object on the result pin of the action.&#xA;&#xA;std::shared_ptr&lt;uml::CreateObjectAction> action = std::dynamic_pointer_cast&lt;uml::CreateObjectAction>(this->m_node);&#xA;if(action)&#xA;{&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference= fUML::FUMLFactory::eInstance()->createReference();&#xA;&#x9;std::shared_ptr&lt;uml::Class> type= std::dynamic_pointer_cast&lt;uml::Class> (action->getClassifier());&#xA;&#x9;if(type)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> newObject=this->getExecutionLocus()->instantiate(type);&#xA;&#x9;&#x9;if(newObject)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;reference->setReferent(newObject);&#xA;&#x9;&#x9;&#x9;this->putToken(action->getResult(), reference);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;else&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;throw &quot;Can't instantiate object&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;throw &quot;Unexpected invalid Classifier&quot;;&#xA;&#x9;}&#xA;}&#xA;else&#xA;{&#xA;&#x9;throw &quot;Unexpected invalid CreateObjectAction&quot;;&#xA;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="DestroyLinkActionActivation" eSuperTypes="#//Semantics/Actions/WriteLinkActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="DestroyObjectActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/Property.hpp&quot;&#xA;#include &quot;uml/DestroyObjectAction.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/FeatureValue.hpp&quot;&#xA;"/>
        </eAnnotations>
        <eOperations name="destroyObject" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;// If the given value is a reference, then destroy the referenced object, per the given&#x9;destroy action attribute values.&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference= std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Reference> (value);&#xA;&#x9;if(reference)&#xA;&#x9;{&#xA;&#x9;&#x9;if (isDestroyLinks || isDestroyOwnedObjects)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::StructuredClassifiers::ExtensionalValue> > extensionalValues = this->getExecutionLocus()->getExtensionalValues();&#xA;&#x9;&#x9;&#x9;for(std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::ExtensionalValue> extensionalValue : *extensionalValues)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Link> link = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Link> (extensionalValue);&#xA;&#x9;&#x9;&#x9;&#x9;if (link)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (this->valueParticipatesInLink(reference, link))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isDestroyLinks | this->objectIsComposite(reference, link))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;link->destroy();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;if (isDestroyOwnedObjects)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> > objectFeatureValues = reference->retrieveFeatureValues();&#xA;&#x9;&#x9;&#x9;for(std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue : *objectFeatureValues)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Property> property = std::dynamic_pointer_cast&lt;uml::Property> (featureValue->getFeature());&#xA;&#x9;&#x9;&#x9;&#x9;if(property)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (property->getAggregation() == uml::AggregationKind::COMPOSITE)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value>> values = featureValue->getValues();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;for(std::shared_ptr&lt;fUML::Semantics::Values::Value> ownedValue : *values)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;this->destroyObject(ownedValue, isDestroyLinks, isDestroyOwnedObjects);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;reference->destroy();&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
          <eParameters name="isDestroyLinks" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
          <eParameters name="isDestroyOwnedObjects" ordered="false" lowerBound="1"
              eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
        </eOperations>
        <eOperations name="objectIsComposite" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;// Test whether the given reference participates in the given link as a composite.&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::SimpleClassifiers::FeatureValue>> linkFeatureValues = link->getFeatureValues();&#xA;&#x9;for(std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::FeatureValue> featureValue : *linkFeatureValues)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value>> values= featureValue->getValues();&#xA;&#x9;&#x9;for(std::shared_ptr&lt;fUML::Semantics::Values::Value> value : *values)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;value->equals(reference);&#xA;&#xA;&#x9;&#x9;&#x9;if(!(value->equals(reference)))&#xA;&#x9;&#x9;&#x9;{&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Property> property = std::dynamic_pointer_cast&lt;uml::Property> (featureValue->getFeature());&#xA;&#x9;&#x9;&#x9;&#x9;if(property)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (property->getAggregation() == uml::AggregationKind::COMPOSITE)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return true;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;return false;"/>
          </eAnnotations>
          <eParameters name="reference" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Reference"/>
          <eParameters name="link" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Link"/>
        </eOperations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;//generated from body annotation&#xA;&#x9;&#x9;// Get the value on the target input pin.&#xA;&#x9;// If the value is not a reference, then the action has no effect. Otherwise, do the following.&#xA;&#x9;// If isDestroyLinks is true, destroy all links in which the referent participates.&#xA;&#x9;// If isDestroyOwnedObjects is true, destroy all objects owned by the referent via composition links.&#xA;&#x9;// Destroy the referent object.&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::DestroyObjectAction> action = std::dynamic_pointer_cast&lt;uml::DestroyObjectAction>(this->getNode());&#xA;&#x9;if(action)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::InputPin > destroyTarget=action->getTarget();&#xA;&#x9;&#x9;if(destroyTarget)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > tokens=this->takeTokens(destroyTarget);&#xA;&#x9;&#x9;&#x9;for(std::shared_ptr&lt;fUML::Semantics::Values::Value> value : *tokens)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;this->destroyObject(value,action->getIsDestroyLinks(), action->getIsDestroyOwnedObjects());&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;else&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;throw &quot;invalid target pin&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="InputPinActivation" eSuperTypes="#//Semantics/Actions/PinActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Actions/ActionActivation.hpp&quot;&#xA;#include &quot;uml/Pin.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="receiveOffer" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->getActionActivation().lock()->receiveOffer();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool ready = fUML::Semantics::Activities::ActivityNodeActivationImpl::isReady();&#xA;&#x9;if (getNode()->getName().find(&quot;self&quot;) == 0)&#xA;&#x9;{&#xA;&#x9;&#x9;return true;&#xA;&#x9;}&#xA;&#x9;if (ready) &#xA;&#x9;{&#xA;&#x9;&#x9;int totalValueCount = this->countUnofferedTokens() + this->countOfferedValues();&#xA;&#x9;&#x9;int minimum = std::dynamic_pointer_cast&lt;uml::Pin>(this->getNode())->getLower();&#xA;&#x9;&#x9;ready = (totalValueCount >= minimum);&#x9;&#xA;&#x9;}&#xA;&#x9;return ready;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="InvocationActionActivation" abstract="true"
          eSuperTypes="#//Semantics/Actions/ActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="LinkActionActivation" abstract="true"
          eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eOperations name="linkMatchesEndData" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="link" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Link"/>
          <eParameters name="endDataList" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//LinkEndData"/>
        </eOperations>
        <eOperations name="endMatchesEndData" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="link" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Link"/>
          <eParameters name="endData" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//LinkEndData"/>
        </eOperations>
        <eOperations name="getAssociation" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Association"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="LoopNodeActivation" eSuperTypes="#//Semantics/Actions/StructuredActivityNodeActivation">
        <eOperations name="runTest" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
        <eOperations name="runBody" ordered="false" lowerBound="1"/>
        <eOperations name="runLoopVariables" ordered="false" lowerBound="1"/>
        <eOperations name="makeLoopVariableList" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="bodyOutputLists" ordered="false"
            upperBound="-1" eType="#//Semantics/Actions/Values" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="OutputPinActivation" eSuperTypes="#//Semantics/Actions/PinActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="PinActivation" abstract="true" eSuperTypes="#//Semantics/Activities/ObjectNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/ActivityNode.hpp&quot;&#xD;&#xA;#include &quot;uml/Pin.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Pin &quot; &lt;&lt; (this->getNode() == nullptr ? &quot;&quot; : this->getNode()->getName() + &quot;...&quot;)&lt;&lt;std::endl;)&#xD;&#xA;&#xD;&#xA;    this->addTokens(incomingTokens);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="int count = this->countUnofferedTokens();&#xA;&#x9;int upper = -1;&#xA;&#xA;&#x9;//Note: A pin activation used in an expansion activation group will have this.node == null&#xA;&#x9;if (this->getNode() != nullptr) &#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::Pin> pin = std::dynamic_pointer_cast&lt;uml::Pin>(this->getNode());&#xA;&#x9;&#x9;if (pin != nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;upper = pin->getUpper();&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#xA;&#x9;if (upper &lt; 0 || count &lt; upper) &#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > incomingEdges = this->getIncomingEdges();&#xA;&#x9;&#x9;for (unsigned int i = 0; i &lt; incomingEdges->size(); i++) &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edge = incomingEdges->at(i);&#xA;&#x9;&#x9;&#x9;int incomingCount = edge->countOfferedValue();&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > incomingTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;&#x9;&#x9;if (upper &lt; 0 || incomingCount &lt; upper - count) &#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;incomingTokens = edge->takeOfferedTokens();&#xA;&#x9;&#x9;&#x9;&#x9;count = count + incomingCount;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;else if (count &lt; upper) &#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;incomingTokens = edge->takeOfferedTokens(upper - count);&#xA;&#x9;&#x9;&#x9;&#x9;count = upper;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;for (unsigned int j = 0; j &lt; incomingTokens->size(); j++) &#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = incomingTokens->at(j);&#xA;&#x9;&#x9;&#x9;&#x9;tokens->push_back(token);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#xA;&#x9;return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="actionActivation" ordered="false"
            eType="#//Semantics/Actions/ActionActivation" eOpposite="#//Semantics/Actions/ActionActivation/pinActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="AggregationKind" value="shared"/>
          </eAnnotations>
        </eStructuralFeatures>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ReadExtentActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="ReadIsClassifiedObjectActionActivation"
          eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eOperations name="checkAllParents" ordered="false" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eParameters name="type" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
          <eParameters name="classifier" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ReadLinkActionActivation" eSuperTypes="#//Semantics/Actions/LinkActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="ReadSelfActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/ReadSelfAction.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Get the context object of the activity execution containing this action activation and place a reference to it on the result output pin.&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::ReadSelfAction> action = std::dynamic_pointer_cast&lt;uml::ReadSelfAction>(this->m_node);&#xA;&#x9;if(action)&#xA;&#x9;{&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference= fUML::FUMLFactory::eInstance()->createReference();&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> context=this->getExecutionContext();&#x9;&#xA;&#x9;&#x9;if(context)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;reference->setReferent(context);&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::OutputPin > outputPin=action->getResult();&#xA;&#x9;&#x9;&#x9;if(outputPin)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;this->putToken(action->getResult(), reference);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;throw &quot;invalid output pin&quot;;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;else&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;throw &quot;Invalid ExecutionContext&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;throw &quot;Unexpected invalid ReadSelfAction&quot;;&#xA;&#x9;}&#xA;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ReadStructuralFeatureActionActivation"
          eSuperTypes="#//Semantics/Actions/StructuralFeatureActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/FeatureValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/StructuredValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;uml/ReadStructuralFeatureAction.hpp&quot;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ReadStructuralFeatureAction> action = std::dynamic_pointer_cast&lt;uml::ReadStructuralFeatureAction>(m_node);&#xA;&#x9;std::shared_ptr&lt;uml::StructuralFeature> feature = action->getStructuralFeature();&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = takeTokens(action->getObject())->at(0);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::SimpleClassifiers::FeatureValue>> featureValues(new Bag&lt;fUML::Semantics::SimpleClassifiers::FeatureValue>());&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StructuredValue> structuredValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::StructuredValue>(value);&#xA;&#x9;if (structuredValue)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value>> values = structuredValue->getValues(feature, featureValues);&#xA;&#x9;&#x9;putTokens(action->getResult(), values);&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;throw &quot;unhandled fUML::Value instance&quot;;&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ReclassifyObjectActionActivation"
          eSuperTypes="#//Semantics/Actions/ActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="ReduceActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eStructuralFeatures xsi:type="ecore:EReference" name="currentExecution" ordered="false"
            eType="#//Semantics/CommonBehavior/Execution"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="RemoveStructuralFeatureValueActivation"
          eSuperTypes="#//Semantics/Actions/WriteStructuralFeatureActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/SimpleClassifiers/FeatureValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/SimpleClassifiers/StructuredValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;uml/RemoveStructuralFeatureValueAction.hpp&quot;&#xA;#include &quot;uml/StructuralFeature.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::RemoveStructuralFeatureValueAction> action = std::dynamic_pointer_cast&lt;uml::RemoveStructuralFeatureValueAction>(m_node);&#xA;&#x9;std::shared_ptr&lt;uml::StructuralFeature> feature = action->getStructuralFeature();&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> objectValue = takeTokens(action->getObject())->at(0);&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> inputValue = takeTokens(action->getValue())->at(0);&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::SimpleClassifiers::StructuredValue> structuredValue = std::dynamic_pointer_cast&lt;fUML::Semantics::SimpleClassifiers::StructuredValue>(objectValue);&#xA;&#x9;if (structuredValue)&#xA;&#x9;{&#xA;&#x9;&#x9;structuredValue->removeValue(feature, inputValue);&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;throw &quot;unhandled fUML::Value instance&quot;;&#xA;&#x9;}&#xA;&#x9;putToken(action->getResult(), objectValue);"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ReplyActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/ReplyAction.hpp&quot;&#xA;#include &quot;uml/CallEvent.hpp&quot;&#xA;#include &quot;uml/Trigger.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReturnInformation.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Reply to the call represented by the return information on&#xA;// the return information pin using the reply values given&#xA;// on the reply value pins.&#xA;&#xA;std::shared_ptr&lt;uml::ReplyAction> action = std::dynamic_pointer_cast&lt;uml::ReplyAction>(this->getNode());&#xA;std::shared_ptr&lt;uml::Trigger> replyToCall = action->getReplyToCall();&#xA;std::shared_ptr&lt;Bag&lt;uml::InputPin>> replyValuePins = action->getReplyValue();&#xA;std::shared_ptr&lt;uml::InputPin> returnInformationPin = action->getReturnInformation();&#xA;&#xA;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value>> values = this->takeTokens(returnInformationPin);&#xA;std::shared_ptr&lt;fUML::Semantics::Actions::ReturnInformation> returnInformation = std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::ReturnInformation>(values->at(0));&#xA;&#xA;if((std::dynamic_pointer_cast&lt;uml::CallEvent>(replyToCall->getEvent()) != nullptr) &amp;&amp; ((std::dynamic_pointer_cast&lt;uml::CallEvent>(replyToCall->getEvent()))->getOperation() == returnInformation->getOperation()))&#xA;{&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>> parameterValues(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#x9;unsigned int i = 1;&#xA;&#xA;&#x9;while(i &lt;= replyValuePins->size()){&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue = fUML::FUMLFactory::eInstance()->createParameterValue();&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value>> currentValues = this->takeTokens(replyValuePins->at(i-1)); &#xA;&#x9;&#x9;&#xA;&#x9;&#x9;for(unsigned int j = 0; j &lt; currentValues->size(); j++)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;parameterValue->getValues()->add(currentValues->at(j));&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;parameterValues->add(parameterValue);&#xA;&#x9;&#x9;i += 1;&#xA;&#x9;}&#xA;&#x9;returnInformation->reply(parameterValues);&#xA;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ReturnInformation" eSuperTypes="#//Semantics/Values/Value">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/Classifier.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getOperation" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Operation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return the operation associated with the call event occurrence of this&#xA;// return information.&#xA;&#xA;return this->getCallEventOccurrence()->getOperation();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="copy" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="doNotGenerate" value="true"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// One return information value equals another if they are for the&#xA;// same call event occurrence.&#xA;&#xA;bool isEqual = false;&#xA;&#xA;if(std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::ReturnInformation>(otherValue) != nullptr)&#xA;{&#xA;&#x9;isEqual = (std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::ReturnInformation>(otherValue))->getCallEventOccurrence() == this->getCallEventOccurrence();&#xA;}&#xA;&#xA;return isEqual;"/>
          </eAnnotations>
          <eParameters name="otherValue" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="getTypes" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return information is untyped.&#xA;&#xA;std::shared_ptr&lt;Bag&lt;uml::Classifier>> types(new Bag&lt;uml::Classifier>);&#xA;&#xA;return types;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="new_" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Create a new return information value, with an empty call event occurrence.&#xA;&#xA;return std::shared_ptr&lt;fUML::Semantics::Actions::ReturnInformation>(fUML::FUMLFactory::eInstance()->createReturnInformation());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="reply">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Reply to the call by setting the output parameters and&#xA;&#x9;// releasing the caller.&#xA;&#x9;this->getCallEventOccurrence()->setOutputParameterValues(outputParameterValues);&#xA;&#x9;this->getCallEventOccurrence()->releaseCaller();"/>
          </eAnnotations>
          <eParameters name="outputParameterValues" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="specify" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return information cannot be specified using a value specification.&#xA;&#x9;return nullptr;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="toString" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Return a string representation of the return information.&#xA;&#x9;std::string s = &quot;ReturnInformation&quot;;&#xA;&#x9;std::string name = this->getCallEventOccurrence()->getOperation()->getName();&#xA;&#x9;if(name != &quot;&quot;)&#xA;&#x9;{&#xA;&#x9;&#x9;s = s + &quot;(&quot; + name + &quot;)&quot;;&#xA;&#x9;}&#xA;&#x9;return s;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="callEventOccurrence"
            lowerBound="1" eType="#//Semantics/CommonBehavior/CallEventOccurrence"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="SendSignalActionActivation" eSuperTypes="#//Semantics/Actions/InvocationActionActivation">
        <eOperations name="doAction" ordered="false" lowerBound="1"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="StartClassifierBehaviorActionActivation"
          eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/StartClassifierBehaviorAction.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="// Get the value on the object input pin. If it is not a reference, then do nothing.&#xA;// Start the classifier behavior of the referent object for the classifier given as the type of the object input pin.&#xA;// If the object input pin has no type, then start the classifier behaviors of all types of the referent object. [The required behavior in this case is not clear from the spec.]&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::StartClassifierBehaviorAction> action = std::dynamic_pointer_cast&lt;uml::StartClassifierBehaviorAction>(this->getNode());&#xA;&#x9;if(action)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::InputPin > object= action->getObject();&#xA;&#x9;&#x9;if(object)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;//Todo Check: really only first Element?&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> valueObject=this->takeTokens(object)->at(0);&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Reference>(valueObject);&#xA;&#x9;&#x9;&#x9;if (reference)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Class> type=std::dynamic_pointer_cast&lt;uml::Class> (object->getType());&#xA;&#x9;&#x9;&#x9;&#x9;if (type)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > parameterValueList(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;reference->startBehavior(type, parameterValueList);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="StartObjectBehaviorActionActivation"
          eSuperTypes="#//Semantics/Actions/InvocationActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/StartObjectBehaviorAction.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/ParameterDirectionKind.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Reference.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;// Get the value on the object input pin. If it is not a reference, then do nothing.&#xA;&#x9;// Start the behavior of the referent object for the classifier given as the type of the object input pin, with parameter values taken from the argument input pins.&#xA;&#x9;// If the object input pin has no type, then start the classifier behaviors of all types of the referent object.&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::StartObjectBehaviorAction> action = std::dynamic_pointer_cast&lt;uml::StartObjectBehaviorAction>(this->getNode());&#xA;&#x9;if(action)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::InputPin > object= action->getObject();&#xA;&#x9;&#x9;if(object)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;//Todo Check: really only first Element?&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> valueObject=this->takeTokens(object)->at(0);&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Reference>(valueObject);&#xA;&#x9;&#x9;&#x9;if (reference)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Subset&lt;uml::InputPin, uml::InputPin>> argumentPins = action->getArgument();&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > inputs(new Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue>());&#xA;&#x9;&#x9;&#x9;&#x9;//Todo Check TypedElement? - fUML Spec: Class_ type = (Class_)(action.object.typedElement.type);&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Class> type=std::dynamic_pointer_cast&lt;uml::Class> (object->getType());&#xA;&#x9;&#x9;&#x9;&#x9;if (type)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::Behavior> behavior=std::dynamic_pointer_cast&lt;uml::Behavior> (object->getType());&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!behavior)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;behavior = type->getClassifierBehavior();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (behavior)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Subset&lt;uml::Parameter, uml::NamedElement>> parameters = behavior->getOwnedParameter();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;int pinNumber = 0;&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;for(std::shared_ptr&lt;uml::Parameter> parameter: *parameters)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;uml::ParameterDirectionKind direction=parameter->getDirection();&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (direction == uml::ParameterDirectionKind::IN || direction == uml::ParameterDirectionKind::INOUT)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue(fUML::FUMLFactory::eInstance()->createParameterValue());&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;parameterValue->setParameter(parameter);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;auto argumentPin=argumentPins->at(pinNumber);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > valueTokens=this->takeTokens(argumentPin);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;parameterValue->getValues()->insert(*valueTokens);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;inputs->add(parameterValue);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;pinNumber ++;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;throw &quot;Invalid Behavior for StartObjectBehaviorAction&quot;;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;reference->startBehavior(type, inputs);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="StructuralFeatureActionActivation"
          abstract="true" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eOperations name="getAssociation" ordered="false" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Association">
          <eParameters name="feature" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
        </eOperations>
        <eOperations name="getMatchingLinks" ordered="false" upperBound="-1" eType="#//Semantics/StructuredClassifiers/Link">
          <eParameters name="association" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Association"/>
          <eParameters name="end" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="oppositeValue" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="getOppositeEnd" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Property">
          <eParameters name="association" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Association"/>
          <eParameters name="end" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
        </eOperations>
        <eOperations name="getMatchingLinksForEndValue" upperBound="-1" eType="#//Semantics/StructuredClassifiers/Link">
          <eParameters name="association" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Association"/>
          <eParameters name="end" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//StructuralFeature"/>
          <eParameters name="oppositeValue" lowerBound="1" eType="#//Semantics/Values/Value"/>
          <eParameters name="endValue" eType="#//Semantics/Values/Value"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="StructuredActivityNodeActivation"
          eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;uml/StructuredActivityNode.hpp&quot;&#xA;#include &quot;uml/Action.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/OutputPin.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doStructuredActivity" ordered="false">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="//Remark: action is not used in the specification.&#xA;&#x9;std::shared_ptr&lt;uml::Action> action = std::dynamic_pointer_cast&lt;uml::Action>(this->getNode());&#xA;    assert(action != nullptr);&#xA;&#xA;    // *** Concurrently send offers from all input pins. ***&#xA;    std::shared_ptr&lt;Bag&lt;uml::InputPin> > inputPins = nullptr;//action->input;&#xA;    std::vector&lt;std::shared_ptr&lt;uml::InputPin>>::iterator i;&#xA;&#xA;    for (i = inputPins->begin(); i!= inputPins->end();++i)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::InputPin> inputPin = std::dynamic_pointer_cast&lt;uml::InputPin> (*i);&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation = this->retrievePinActivation(inputPin);&#xA;        pinActivation->sendUnofferedTokens();&#xA;    }&#xA;&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > nodes = this->getActivationGroup()->getNodeActivations();&#xA;    this->getActivationGroup()->run(nodes);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="makeActivityNodeList" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::ActivityNode> > activityNodes(new Bag&lt;uml::ActivityNode>());&#xA;&#xA;    for (unsigned int i = 0; i &lt; nodes->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::ActivityNode> node = nodes->at(i);&#xA;        activityNodes->push_back(node);&#xA;        std::shared_ptr&lt;uml::Action> action = std::dynamic_pointer_cast&lt;uml::Action>(node);&#xA;        if (action != nullptr) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;Bag&lt;uml::InputPin> > inputPins = action->getInput();//was: nullptr;&#xA;            for (unsigned int j = 0; j &lt; inputPins->size(); j++) &#xA;            {&#xA;            &#x9;std::shared_ptr&lt;uml::InputPin> inputPin = inputPins->at(j);&#xA;                activityNodes->push_back(inputPin);&#xA;            }&#xA;&#xA;            std::shared_ptr&lt;Bag&lt;uml::OutputPin> > outputPins = action->getOutput();//was: nullptr;&#xA;            for (unsigned int j = 0; j &lt; outputPins->size(); j++) &#xA;            {&#xA;            &#x9;std::shared_ptr&lt;uml::OutputPin> outputPin = outputPins->at(j);&#xA;                activityNodes->push_back(std::dynamic_pointer_cast&lt;uml::ActivityNode>(outputPin));&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    return activityNodes;"/>
          </eAnnotations>
          <eParameters name="nodes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ExecutableNode"/>
        </eOperations>
        <eOperations name="getPinValues" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation = std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::PinActivation>(this->getActivationGroup()->getNodeActivation(std::dynamic_pointer_cast&lt;uml::ActivityNode>(pin)));&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = pinActivation->getTokens();&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > values(new Bag&lt;fUML::Semantics::Values::Value>());&#xA;    for (unsigned int i = 0; i &lt; tokens->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = tokens->at(i);&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = (std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ObjectToken> (token))->getValue();&#xA;        if (value != nullptr) &#xA;        {&#xA;            values->push_back(value);&#xA;        }&#xA;    }&#xA;&#xA;    return values;"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//OutputPin"/>
        </eOperations>
        <eOperations name="putPinValues" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Actions::PinActivation> pinActivation = std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::PinActivation>(this->getActivationGroup()->getNodeActivation(std::dynamic_pointer_cast&lt;uml::ActivityNode>(pin)));&#xA;&#xA;    for (unsigned int i = 0; i &lt; values->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = values->at(i);&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> token = fUML::FUMLFactory::eInstance()->createObjectToken();&#xA;        token->setValue(value);&#xA;        pinActivation->addToken(token);&#xA;    }"/>
          </eAnnotations>
          <eParameters name="pin" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//OutputPin"/>
          <eParameters name="values" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="doAction" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if ((std::dynamic_pointer_cast&lt;uml::StructuredActivityNode>(this->getNode()))->getMustIsolate()) &#xD;&#xA;&#x9;{&#xD;&#xA;        _beginIsolation();&#xD;&#xA;        this->doStructuredActivity();&#xD;&#xA;        _endIsolation();&#xD;&#xA;    }&#xD;&#xA;&#x9;else &#xD;&#xA;&#x9;{&#xD;&#xA;        this->doStructuredActivity();&#xD;&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->terminateAll();&#xA;    fUML::Semantics::Actions::ActionActivationImpl::terminate();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getNodeActivation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> thisActivation = fUML::Semantics::Actions::ActionActivationImpl::getNodeActivation(node);&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = nullptr;&#xA;    if (thisActivation != nullptr) &#xA;    {&#xA;        activation = thisActivation;&#xA;    }&#xA;    else if (this->getActivationGroup() != nullptr)&#xA;    {&#xA;        activation = this->getActivationGroup()->getNodeActivation(node);&#xA;    }&#xA;&#xA;    return activation;"/>
          </eAnnotations>
          <eParameters name="node" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="createNodeActivations" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="fUML::Semantics::Actions::ActionActivationImpl::createNodeActivations();&#xA;&#xA;&#x9;this->setActivationGroup(std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivationGroup>(fUML::FUMLFactory::eInstance()->createActivityNodeActivationGroup()));&#xA;&#x9;this->getActivationGroup()->setContainingNodeActivation(getThisStructuredActivityNodeActivationPtr());&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::StructuredActivityNode> structuredActivityNode = std::dynamic_pointer_cast&lt;uml::StructuredActivityNode> (this->getNode());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ActivityNode> > nodes = structuredActivityNode->getNode();&#xA;&#x9;this->getActivationGroup()->createNodeActivations(nodes);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="createEdgeInstances" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::ActivityEdge> > edges = (std::dynamic_pointer_cast&lt;uml::StructuredActivityNode> (this->getNode()))->getEdge();&#xD;&#xA;&#x9;this->getActivationGroup()->createEdgeInstance(edges);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminateAll" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->getActivationGroup()->terminateAll();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isSourceFor" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    bool isSource = fUML::Semantics::Actions::ActionActivationImpl::isSourceFor(edgeInstance);&#xA;    if (!isSource) {&#xA;        isSource = this->getActivationGroup()->hasSourceFor(edgeInstance);&#xA;    }&#xA;    return isSource;"/>
          </eAnnotations>
          <eParameters name="edgeInstance" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eOperations name="isSuspended" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    return this->getActivationGroup()->isSuspended();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="completeAction" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > incomingTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;    if (!this->isSuspended()) &#xA;    {&#xA;        incomingTokens = fUML::Semantics::Actions::ActionActivationImpl::completeAction();&#xA;    }&#xA;    return incomingTokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="resume" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > incomingTokens = fUML::Semantics::Actions::ActionActivationImpl::completeAction();&#xA;    if (incomingTokens->size() > 0) &#xA;    {&#xA;        this->fire(incomingTokens);&#xA;    }&#xA;    if (!this->isSuspended()) &#xA;    {&#xA;        fUML::Semantics::Actions::ActionActivationImpl::resume();&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="activationGroup" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivationGroup"
            containment="true" eOpposite="#//Semantics/Activities/ActivityNodeActivationGroup/containingNodeActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="TestIdentityActionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="Values">
        <eStructuralFeatures xsi:type="ecore:EReference" name="values" ordered="false"
            upperBound="-1" eType="#//Semantics/Values/Value"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ValueSpecificationActionActivation"
          eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Executor.hpp&quot;&#xA;#include &quot;uml/ValueSpecification.hpp&quot;&#xA;#include &quot;uml/ValueSpecificationAction.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ValueSpecificationAction> action = std::dynamic_pointer_cast&lt;uml::ValueSpecificationAction>(m_node);&#xA;&#x9;if (action != nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::ValueSpecification> valueSpecificaton = action->getValue();&#xA;&#x9;&#x9;if (valueSpecificaton == nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;throw &quot;value of ValueSpecificationAction is null&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = getExecutionLocus()->getExecutor()->evaluate(valueSpecificaton);&#xA;&#x9;&#x9;putToken(action->getResult(), value);&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="WriteLinkActionActivation" abstract="true"
          eSuperTypes="#//Semantics/Actions/LinkActionActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="WriteStructuralFeatureActionActivation"
          abstract="true" eSuperTypes="#//Semantics/Actions/StructuralFeatureActionActivation">
        <eOperations name="position" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
          <eParameters name="list" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value"/>
          <eParameters name="startAt" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="AcceptCallActionActivations"/>
    </eSubpackages>
    <eSubpackages name="Activities" nsURI="http:///fUML_Semantics/Semantics/Activities.ecore"
        nsPrefix="fUML_Semantics.Semantics.Activities">
      <eClassifiers xsi:type="ecore:EClass" name="ActivityEdgeInstance">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;algorithm> &#xD;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="sendOffer" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Offer> offer(fUML::FUMLFactory::eInstance()->createOffer());&#xA;    offer->getOfferedTokens()->insert(offer->getOfferedTokens()->end(), tokens->begin(), tokens->end());&#xA;    this->getOffers()->push_back(offer);&#xA;    auto target = this->getTarget().lock();&#xA;    if(nullptr == target )&#xA;    {&#xA;        std::cout &lt;&lt; &quot;[sendOffer] The edge does not have a target&quot; &lt;&lt; std::endl;&#xA;    }&#xA;    else&#xA;    {&#xA;    &#x9;target->receiveOffer();&#xA;    }"/>
          </eAnnotations>
          <eParameters name="tokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="countOfferedValue" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="int count = 0;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Offer> > offerList = this->getOffers();&#xA;    for(std::shared_ptr&lt;fUML::Semantics::Activities::Offer> offer : *offerList)&#xA;    {&#xA;        count+=offer->countOfferedVales();&#xA;    }&#xA;    return count;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Offer> > offerList = this->getOffers();&#xA;&#x9;    for(std::shared_ptr&lt;fUML::Semantics::Activities::Offer> offer : *offerList)&#xA;    {&#xA;    &#x9;auto vec = offer->retrieveOfferedTokens();&#xA;        tokens->insert(tokens->end(), vec->begin(), vec->end());&#xA;    }&#xA;    this->getOffers()->clear();&#xA;&#xA;    return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;    int remainingCount = maxCount;&#xA;&#xA;    while (this->getOffers()->size() > 0 &amp;&amp; remainingCount > 0) {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Offer> offer = this->getOffers()->at(0);&#xA;    &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > offeredTokens = offer->retrieveOfferedTokens();&#xA;        int count = offer->countOfferedVales();&#xA;        if (count &lt;= remainingCount) {&#xA;            for (unsigned int i = 0; i &lt; offeredTokens->size(); i++) {&#xA;                tokens->push_back(offeredTokens->at(i));&#xA;            }&#xA;            remainingCount = remainingCount - count;&#xA;            this->getOffers()->erase(this->getOffers()->begin());&#xA;        } else {&#xA;            for (int i = 0; i &lt; remainingCount; i++) {&#xA;            &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = offeredTokens->at(i);&#xA;                if (token->getValue() != nullptr) {&#xA;                    tokens->push_back(token);&#xA;                }&#xA;            }&#xA;            offer->removeOfferedValues(remainingCount);&#xA;            remainingCount = 0;&#xA;        }&#xA;    }&#xA;&#xA;    return tokens;"/>
          </eAnnotations>
          <eParameters name="maxCount" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="getOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#xA;&#x9;Bag&lt;fUML::Semantics::Activities::Offer>* offerList = this->getOffers().get();&#xA;    const int size = offerList->size();&#xA;    Bag&lt;fUML::Semantics::Activities::Token>* vec;&#xA;    for(int i=0; i &lt; size; i++){&#xA;    {&#xA;        vec = (*offerList)[i]->retrieveOfferedTokens().get();&#xA;        if(vec->size()>0)&#xA;        {&#xA;            if (tokens->empty())&#xA;            {&#xA;                *tokens = *vec;&#xA;            } else {&#xA;                tokens->insert(tokens->end(), vec->begin(), vec->end());&#xA;            }&#xA;        }&#xA;        }&#xA;    }&#xA;&#xA;    return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="hasOffer" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::any_of(this->getOffers()->begin(),this->getOffers()->end(),[](std::shared_ptr&lt;fUML::Semantics::Activities::Offer> offer){return offer->hasTokens();});&#xA;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="edge" ordered="false"
            eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityEdge"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="source" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation"
            eOpposite="#//Semantics/Activities/ActivityNodeActivation/outgoingEdges">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="AggregationKind" value="shared"/>
          </eAnnotations>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EReference" name="target" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation"
            eOpposite="#//Semantics/Activities/ActivityNodeActivation/incomingEdges">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="AggregationKind" value="shared"/>
          </eAnnotations>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EReference" name="offers" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/Offer"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="group" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivationGroup"
            eOpposite="#//Semantics/Activities/ActivityNodeActivationGroup/edgeInstances"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ActivityExecution" eSuperTypes="#//Semantics/CommonBehavior/Execution">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/SubsetUnion.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityParameterNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/Execution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ForkedToken.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Object.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;&#xA;#include &quot;uml/Activity.hpp&quot;&#xA;#include &quot;uml/ActivityParameterNode.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;&#xA;#include &quot;uml/ParameterDirectionKind.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="execute" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::Activity> activity = std::dynamic_pointer_cast&lt;uml::Activity> (this->getTypes()->front());&#xA;&#xA;    if(activity != nullptr)&#xA;    {&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[execute] Activity &quot; &lt;&lt; activity->getName()&lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[event] Execute activity=&quot; + activity->getName()&lt;&lt;std::endl;)&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityExecution> thisPtr=getThisActivityExecutionPtr();&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivationGroup> newActivationGroup=fUML::FUMLFactory::eInstance()->createActivityNodeActivationGroup_in_ActivityExecution(thisPtr);&#xA;        std::shared_ptr&lt;Bag&lt;uml::ActivityNode> > nodes = activity->getNode();&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::ActivityEdge> > edges = activity->getEdge();&#xA;&#x9;&#x9;newActivationGroup->activate(nodes, edges);&#xA;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[execute] Getting output parameter node activations...&quot;&lt;&lt;std::endl;)&#xA;&#xA;        std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityParameterNodeActivation> > outputActivationList = this->getActivationGroup()->getOutputParameterNodeActivations();&#xA;        for(std::shared_ptr&lt;fUML::Semantics::Activities::ActivityParameterNodeActivation> outputActivation : *outputActivationList)&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue(fUML::FUMLFactory::eInstance()->createParameterValue());&#xA;        &#x9;std::shared_ptr&lt;uml::ActivityParameterNode> activityParameterNode = std::dynamic_pointer_cast&lt;uml::ActivityParameterNode> (outputActivation->getNode());&#xA;&#xA;            if(activityParameterNode != nullptr)&#xA;            {&#xA;                parameterValue->setParameter(activityParameterNode->getParameter());&#xA;&#xA;                std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokenList = outputActivation->getTokens();&#xA;                for(std::shared_ptr&lt;fUML::Semantics::Activities::Token> token : *tokenList)&#xA;                {&#xA;                &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = nullptr;&#xA;                &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> obTok = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ObjectToken>(token);&#xA;                    if(obTok != nullptr){&#xA;                        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Getting the value of a object token&quot;&lt;&lt;std::endl;)&#xA;                        value = obTok->getValue();&#xA;                    }&#xA;                    else&#xA;                    {&#xA;                    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ForkedToken> ft = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ForkedToken>(token);&#xA;                        if(ft != nullptr)&#xA;                        {&#xA;                            DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Getting the value of a forked token&quot;&lt;&lt;std::endl;)&#xA;                            value = ft->getBaseToken()->getValue();&#xA;                        }&#xA;                        else&#xA;                        {&#xA;                            std::cerr&lt;&lt;&quot;Unsupported token tpe.&quot;&lt;&lt;std::endl;&#xA;                            exit(EXIT_FAILURE);&#xA;                        }&#xA;                    }&#xA;&#xA;                    if (value != nullptr) {&#xA;                        parameterValue->getValues()->push_back(value);&#xA;                        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[event] Output activity=&quot; &lt;&lt; activity->getName() &lt;&lt; &quot; parameter=&quot; &lt;&lt; parameterValue->getParameter()->getName() &lt;&lt; &quot; value=&quot; &lt;&lt; value->toString()&lt;&lt;std::endl;)&#xA;                    }&#xA;                }&#xA;                this->setParameterValue(parameterValue);&#xA;&#xA;            }&#xA;        }&#xA;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[execute] Activity &quot; &lt;&lt; activity->getName()&lt;&lt; &quot; completed.&quot;&lt;&lt;std::endl;)&#xA;        //TODO: which elements connected to the activity can be safely cleaned up here?&#xA;    }&#xA;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->getActivationGroup()->terminateAll();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="new_" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return std::shared_ptr&lt;fUML::Semantics::Values::Value>(fUML::FUMLFactory::eInstance()->createActivityExecution());"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="activationGroup" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivationGroup"
            containment="true" eOpposite="#//Semantics/Activities/ActivityNodeActivationGroup/activityExecution"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ActivityFinalNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ActivityExecution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ExpansionActivationGroup.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ExpansionRegionActivation.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/StructuredActivityNodeActivation.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Activity final node &quot; &lt;&lt; this->getNode()->getName()&lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#xA;    if (incomingTokens->size() > 0 || this->getIncomingEdges()->size() == 0) &#xA;    {&#xA;&#x9;&#x9;auto this_group = this->getGroup().lock();&#xA;&#x9;&#x9;if(this_group )&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;auto activityExecution = this_group->getActivityExecution().lock();&#xA;&#x9;&#x9;&#x9;if (activityExecution)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;activityExecution->terminate();&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;else if (this_group->getContainingNodeActivation().lock())&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;auto activation= this_group->getContainingNodeActivation().lock();&#xA;&#x9;&#x9;&#x9;&#x9;if(activation)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;activation->terminateAll();&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ExpansionActivationGroup> group = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ExpansionActivationGroup>(this_group);&#xA;&#x9;&#x9;&#x9;&#x9;if (group != nullptr)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;group->getRegionActivation()->terminate();&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;    }&#xA;&#xA;"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ActivityNodeActivation" abstract="true"
          eSuperTypes="#//Semantics/Loci/SemanticVisitor">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;ecore/EClass.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityNodeActivation.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;&#xA;#include &quot;uml/ActivityEdge.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="run" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (this->getNode() != nullptr) {&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] node = &quot; &lt;&lt; this->getNode()->getName()&lt;&lt;std::endl;)&#xD;&#xA;    } else {&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] Anonymous activation of type &quot;&lt;&lt;std::endl;)&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    this->setRunning(true);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="receiveOffer" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[receiveOffer] &quot;&#xD;&#xA; &lt;&lt; (this->getNode() == nullptr ? &quot;...&quot; : (&quot;node = &quot; + this->getNode()->getName()))&lt;&lt;std::endl;)&#xD;&#xA;&#xD;&#xA;    _beginIsolation();&#xD;&#xA;&#xD;&#xA;    bool ready = this->isReady();&#xD;&#xA;&#xD;&#xA;    std::shared_ptr&lt;Bag&lt;Token> > tokens;&#xD;&#xA;    if (ready) &#xD;&#xA;    {&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[receiveOffer] Firing.&quot;&lt;&lt;std::endl;)&#xD;&#xA;        tokens = this->takeOfferedTokens();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    _endIsolation();&#xD;&#xA;&#xD;&#xA;    if (ready) &#xD;&#xA;    {&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt; &quot;Firing &quot;&lt;&lt;tokens->size()&lt;&lt;&quot; token(s)&quot;&lt;&lt;std::endl;)&#xD;&#xA;        this->fire(tokens);&#xD;&#xA;    }&#xD;&#xA;    else&#xD;&#xA;    {&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt; &quot;Node&quot;&lt;&lt;(this->getNode() == nullptr ? &quot;...&quot; : &quot;node = &quot; + this->getNode()->getName())&lt;&lt;&quot; is not ready to execute.&quot;&lt;&lt;std::endl;)&#xD;&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > allTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > incomingEdgeList = this->getIncomingEdges();&#xA;&#x9;for(std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> incomingEdge : *incomingEdgeList)&#xA;&#x9;{&#xA;&#x9;&#x9;auto vec = incomingEdge->takeOfferedTokens();&#xA;&#x9;&#x9;allTokens->insert(allTokens->end(), vec->begin(), vec->end());&#xA;&#x9;}&#xA;&#x9;return allTokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="sendOffers" ordered="false">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;&#x9;if (tokens->size() > 0) &#xA;&#x9;{&#xA;        // *** Send all outgoing offers concurrently. ***&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > outgoingEdgeList = this->getOutgoingEdges();&#xA;        for(std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> outgoingEdge : *outgoingEdgeList)&#xA;        {&#xA;&#x9;&#x9;&#x9;DEBUG_MESSAGE(&#xA;&#x9;&#x9;&#x9;&#x9;auto target=outgoingEdge->getTarget().lock();&#xA;&#x9;&#x9;&#x9;&#x9;if(!target){&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;[sendOffers] Target is NULL for edge: &quot; &lt;&lt; outgoingEdge->getEdge()->getName() &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if(! (target->getNode()))&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::cerr &lt;&lt; &quot;[sendOffers] Node is NULL for target on edge: &quot; &lt;&lt;  outgoingEdge->getEdge()->getName() &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;std::cout &lt;&lt; &quot;[sendOffers] Sending offer to &quot; &lt;&lt; target->getNode()->getName() &lt;&lt; &quot;.&quot;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;)&#xA;            outgoingEdge->sendOffer(tokens);&#xA;        }&#xA;    }"/>
          </eAnnotations>
          <eParameters name="tokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="/*    if (this->isRunning()) {&#xD;&#xA;        if (this->getNode() != nullptr) {&#xD;&#xA;            DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[terminate] node = &quot; &lt;&lt; this->getNode()->getName()&lt;&lt;std::endl;)&#xD;&#xA;        } else {&#xD;&#xA;            DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[terminate] Anonymous activation of type &quot; &lt;&lt; this->eClass()->getName()&lt;&lt;std::endl;)&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;*/&#xD;&#xA;this->setRunning(false);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getRunning();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getRunning" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->isRunning();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="addOutgoingEdge" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;if (edge->getSource().lock().get() != this)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;edge->setSource(getThisActivityNodeActivationPtr());&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;this->getOutgoingEdges()->push_back(edge);"/>
          </eAnnotations>
          <eParameters name="edge" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eOperations name="addIncomingEdge" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;if (edge->getTarget().lock().get() != this)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;edge->setTarget(getThisActivityNodeActivationPtr());&#xD;&#xA;&#x9;}&#xD;&#xA;    this->getIncomingEdges()->push_back(edge);"/>
          </eAnnotations>
          <eParameters name="edge" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eOperations name="createNodeActivations" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="createEdgeInstances" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isSourceFor" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return (edgeInstances->getSource().lock().get() ==this);"/>
          </eAnnotations>
          <eParameters name="edgeInstances" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eOperations name="getActivityExecution" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityExecution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#xA;&#x9;auto group=this->getGroup().lock();&#xA;&#x9;if(group)&#xA;&#x9;{&#xA;&#x9;&#x9;return group->retrieveActivityExecution();&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;std::cout &lt;&lt; __PRETTY_FUNCTION__  &lt;&lt; std::endl;&#xA;&#x9;&#x9;throw &quot;empty group!&quot;;&#xA;&#x9;}&#xA;&#xA;&#x9;return std::shared_ptr&lt;fUML::Semantics::Activities::ActivityExecution>();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getExecutionContext" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getActivityExecution()->getContext();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getExecutionLocus" ordered="false" lowerBound="1" eType="#//Semantics/Loci/Locus">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getActivityExecution()->getLocus();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getNodeActivation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (node == this->getNode())&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return getThisActivityNodeActivationPtr();&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return nullptr;&#xD;&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="node" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="addToken" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;&#x9;&#x9;DEBUG_MESSAGE(&#xD;&#xA;&#x9;&#x9;if (this->getNode()== nullptr)&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[addToken] ...&quot;&lt;&lt;std::endl;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;else&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[addToken] node = &quot; &lt;&lt; this->getNode()->getName()&lt;&lt;std::endl;&#xD;&#xA;            &#xD;&#xA;            std::shared_ptr&lt;uml::NamedElement> owner = std::dynamic_pointer_cast&lt;uml::NamedElement>(this->getNode()->getOwner().lock());&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;ACT_DEBUG(std::cout &lt;&lt; &quot;SET_TOKEN;NODE:&quot; &lt;&lt; (owner != nullptr ? owner->getName() : &quot;[NO_OWNER]&quot;) &lt;&lt; &quot;::&quot;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;&lt; this->getNode()->getName() &lt;&lt; &quot;;TOKEN:&quot; &lt;&lt; token->getValue()&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;&lt; &quot;;CURRENT_TOKENS:&quot; &lt;&lt; (this->getHeldTokens()->size() + 1) &lt;&lt; &quot;;DIRECTION:add&quot;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;&lt; std::endl;)&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;)&#xD;&#xA;&#xD;&#xA;&#x9;if (!token->isWithdrawn())&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;token->withdraw();&#xD;&#xA;&#x9;&#x9;token = std::dynamic_pointer_cast&lt;Token>(token->copy());&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;token->setHolder(getThisActivityNodeActivationPtr());&#xD;&#xA;&#x9;token->setWithdrawn(false);&#xD;&#xA;&#xD;&#xA;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[addToken] Adding token with value = &quot; &lt;&lt;token->getValue()&lt;&lt;std::endl;)&#xD;&#xA;&#xD;&#xA;&#x9;this->getHeldTokens()->push_back(token);"/>
          </eAnnotations>
          <eParameters name="token" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="removeToken" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > heldTokenList = this->getHeldTokens();&#xA;&#x9;std::vector&lt;std::shared_ptr&lt;fUML::Semantics::Activities::Token>>::iterator iter = heldTokenList->begin();&#xA;&#x9;std::vector&lt;std::shared_ptr&lt;fUML::Semantics::Activities::Token>>::iterator end = heldTokenList->end();&#xA;&#xA;&#x9;int i = 0;&#xA;&#x9;while (iter != end)&#xA;&#x9;{&#xA;&#x9;&#x9;i++;&#xA;&#x9;&#x9;if (*iter == token)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;DEBUG_MESSAGE(&#xA;&#x9;&#x9;&#x9;&#x9;if (this->getNode() == nullptr)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[removeToken] ...&quot;&lt;&lt;std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;} else&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[removeToken] node = &quot; + this->getNode()->getName()&lt;&lt;std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;)&#xA;&#xA;&#x9;&#x9;&#x9;ACT_DEBUG(&#xA;&#x9;&#x9;&#x9;&#x9;if (this->getNode() == nullptr)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;SET_TOKEN;NODE:[ANONYMOUS_ACTIVATION]&quot;&lt;&lt;&quot;;TOKEN:&quot;&lt;&lt;token->getValue() &lt;&lt; &quot;;CURRENT_TOKENS:&quot;&lt;&lt; (heldTokenList->size()-1) &lt;&lt;&quot;;DIRECTION:remove&quot;&lt;&lt;std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;} else&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;                    std::shared_ptr&lt;uml::NamedElement> owner = std::dynamic_pointer_cast&lt;uml::NamedElement>(this->getNode()->getOwner().lock());&#xA;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;SET_TOKEN;NODE:&quot; &lt;&lt; (owner != nullptr? owner->getName() : &quot;[NO_OWNER]&quot;) &lt;&lt; &quot;::&quot; &lt;&lt; this->getNode()->getName() &lt;&lt;&quot;;TOKEN:&quot;&lt;&lt;token->getValue() &lt;&lt; &quot;;CURRENT_TOKENS:&quot;&lt;&lt; (heldTokenList->size()-1) &lt;&lt;&quot;;DIRECTION:remove&quot;&lt;&lt;std::endl;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;)&#xA;&#x9;&#x9;&#x9;this->getHeldTokens()->erase(iter);&#xA;&#x9;&#x9;&#x9;return i;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#xA;&#x9;return 0;"/>
          </eAnnotations>
          <eParameters name="token" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="addTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="for(std::shared_ptr&lt;fUML::Semantics::Activities::Token> token: *tokens)&#xA;    {&#xA;        this->addToken(token);&#xA;    }"/>
          </eAnnotations>
          <eParameters name="tokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="takeTokens" ordered="false" lowerBound="1" upperBound="-1"
            eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = this->getTokens();&#xA;    this->clearTokens();&#xA;&#xA;    return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="clearTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    while (this->getHeldTokens()->size() > 0) {&#xD;&#xA;        this->getHeldTokens()->at(0)->withdraw();&#xD;&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > heldTokens = this->getHeldTokens();&#xA;    for (unsigned int i = 0; i &lt; heldTokens->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> heldToken = heldTokens->at(i);&#xA;        tokens->push_back(heldToken);&#xA;    }&#xA;&#xA;    return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="suspend" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;auto group=this->getGroup().lock();&#xD;&#xA;&#x9;if(group)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;group->suspend(getThisActivityNodeActivationPtr());&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;empty group&quot;&lt;&lt;std::endl;)&#xD;&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="resume" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;auto group=this->getGroup().lock();&#xD;&#xA;&#x9;if(group)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;group->resume(getThisActivityNodeActivationPtr());&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;empty group&quot;&lt;&lt;std::endl;)&#xD;&#xA;&#x9;}&#xD;&#xA;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="outgoingEdges" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/ActivityEdgeInstance" eOpposite="#//Semantics/Activities/ActivityEdgeInstance/source"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="incomingEdges" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/ActivityEdgeInstance" eOpposite="#//Semantics/Activities/ActivityEdgeInstance/target"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="heldTokens" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/Token" containment="true"
            eOpposite="#//Semantics/Activities/Token/holder"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="group" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivationGroup"
            eOpposite="#//Semantics/Activities/ActivityNodeActivationGroup/nodeActivations"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="node" ordered="false"
            eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="running" ordered="false"
            lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ActivityNodeActivationGroup">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/SubsetUnion.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityEdgeInstance.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityNodeActivationGroup.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityParameterNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ControlNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/FUMLPackage.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/PinActivation.hpp&quot;&#xA;#include &quot;uml/Action.hpp&quot;&#xA;#include &quot;uml/ActivityEdge.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;"/>
        </eAnnotations>
        <eOperations name="run" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="for (unsigned int i = 0; i &lt; activations->size(); i++)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = activations->at(i);&#xA;        activation->run();&#xA;    }&#xA;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] Checking for enabled nodes...&quot;&lt;&lt;std::endl;)&#xA;&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > enabledActivations(new Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation>());&#xA;&#xA;    for (unsigned int i = 0; i &lt; activations->size(); i++)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = activations->at(i);&#xA;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] Checking node &quot; &lt;&lt; activation->getNode()->getName()&lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#xA;        const int class_id = activation->eClass()->getClassifierID();&#xA;        if(!(class_id == fUML::FUMLPackage::INPUTPINACTIVATION_CLASS ||  class_id == fUML::FUMLPackage::OUTPUTPINACTIVATION_CLASS || class_id ==fUML::FUMLPackage::EXPANSIONNODEACTIVATION_CLASS))&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > edges = activation->getIncomingEdges();&#xA;            bool isEnabled = this->checkIncomingEdges(edges, activations);&#xA;&#xA;            // For an action activation, also consider incoming edges to&#xA;            // input pins&#xA;            if (isEnabled)&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;uml::Action> action = std::dynamic_pointer_cast&lt;uml::Action>(activation->getNode());&#xA;                if(action != nullptr)&#xA;                {&#xA;                &#x9;std::shared_ptr&lt;Bag&lt;uml::InputPin> > inputPins = action->getInput();&#xA;                    unsigned int j = 0;&#xA;                    while ((j &lt; inputPins->size()) &amp;&amp; isEnabled)&#xA;                    {&#xA;                    &#x9;std::shared_ptr&lt;uml::InputPin> inputPin = inputPins->at(j);&#xA;                        std::shared_ptr&lt;fUML::Semantics::Actions::ActionActivation> actionActivation = std::dynamic_pointer_cast&lt;fUML::Semantics::Actions::ActionActivation>(activation);&#xA;                    &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > inputEdges = actionActivation->retrievePinActivation(inputPin)->getIncomingEdges();&#xA;                        isEnabled = this->checkIncomingEdges(inputEdges, activations);&#xA;                        j = j + 1;&#xA;                    }&#xA;                }&#xA;            }&#xA;&#xA;            if (isEnabled) &#xA;            {&#xA;                DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] Node &quot; &lt;&lt; activation->getNode()->getName()&lt;&lt; &quot; is enabled.&quot;&lt;&lt;std::endl;)&#xA;                enabledActivations->push_back(activation);&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] &quot; &lt;&lt; enabledActivations->size() &lt;&lt; &quot; node(s) is/are enabled.&quot;&lt;&lt;std::endl;)&#xA;&#xA;    // *** Send offers to all enabled nodes concurrently. ***&#xA;    std::vector&lt;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation>>::iterator i;&#xA;    for (i = enabledActivations->begin(); i != enabledActivations->end(); ++i) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ActivityNodeActivation> (*i);&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[run] Sending offer to node &quot; &lt;&lt; activation->getNode()->getName()&lt;&lt;std::endl;)&#xA;        activation->receiveOffer();&#xA;    }"/>
          </eAnnotations>
          <eParameters name="activations" ordered="false" upperBound="-1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="checkIncomingEdges" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    unsigned int j = 0;&#xD;&#xA;    bool notFound = true;&#xD;&#xA;&#xD;&#xA;    while (j &lt; incomingEdges->size() &amp;&amp; notFound) {&#xD;&#xA;        unsigned int k = 0;&#xD;&#xA;        while (k &lt; activations->size() &amp;&amp; notFound) {&#xD;&#xA;            if (activations->at(k)->isSourceFor(&#xD;&#xA;                        incomingEdges->at(j))) {&#xD;&#xA;                notFound = false;&#xD;&#xA;            }&#xD;&#xA;            k = k + 1;&#xD;&#xA;        }&#xD;&#xA;        j = j + 1;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return notFound;"/>
          </eAnnotations>
          <eParameters name="incomingEdges" ordered="false" upperBound="-1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
          <eParameters name="activations" ordered="false" upperBound="-1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="activate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->createNodeActivations(nodes);&#xA;    this->createEdgeInstance(edges);    &#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > nodeActiviations = this->getNodeActivations();&#xA;    this->run(nodeActiviations);"/>
          </eAnnotations>
          <eParameters name="nodes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
          <eParameters name="edges" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityEdge"/>
        </eOperations>
        <eOperations name="runNodes" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > nodeActivations(new Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation>());&#xA;&#xA;    for (unsigned int i = 0; i &lt; nodes->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::ActivityNode> node = nodes->at(i);&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> nodeActivation = this->getNodeActivation(node);&#xA;        if (nodeActivation != nullptr) &#xA;        {&#xA;            nodeActivations->push_back(nodeActivation);&#xA;        }&#xA;    }&#xA;&#xA;    this->run(nodeActivations);"/>
          </eAnnotations>
          <eParameters name="nodes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="terminateAll" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="//DEBUG_MESSAGE(//TODO fix std::cout&lt;&lt;&quot;[terminateAll] Terminating activation group for &quot;&lt;&lt; (this->getActivityExecution() != nullptr ? &quot;activity &quot; + this->getActivityExecution()->getTypes()->at(0)->getName() : this->getContainingNodeActivation() != nullptr ? &quot;node &quot; &lt;&lt; this->getContainingNodeActivation()->getNode()->getName() : &quot;expansion region&quot;) &lt;&lt; &quot;.&quot;);)&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > nodeActivations = this->getNodeActivations();&#xA;    for (unsigned int i = 0; i &lt; nodeActivations->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> nodeActivation = nodeActivations->at(i);&#xA;        nodeActivation->terminate();&#xA;    }&#xA;&#xA;    this->getSuspendedActivations()->clear();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="createNodeActivations" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="for (unsigned int i = 0; i &lt; nodes->size(); i++) &#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::ActivityNode> node = nodes->at(i);&#xD;&#xA;        if(node != nullptr)&#xD;&#xA;        {&#xD;&#xA;        &#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[createNodeActivations] Creating a node activation for &quot;&#xD;&#xA;                   &lt;&lt; node->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xD;&#xA;        &#x9;this->createNodeActivation(node);&#xD;&#xA;        }&#xD;&#xA;        else&#xD;&#xA;        {&#xD;&#xA;            DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Warning! A node was null!&quot;&lt;&lt;std::endl;)&#xD;&#xA;        }&#xD;&#xA;    }"/>
          </eAnnotations>
          <eParameters name="nodes" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="createNodeActivation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation>  activation = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ActivityNodeActivation> (this->retrieveActivityExecution()->getLocus()->getFactory()->instantiateVisitor(node));&#xA;    if(activation!=nullptr)&#xA;    {&#xA;    &#x9;activation->setNode(node);&#xA;    &#x9;activation->setRunning(false);&#xA;    &#x9;this->addNodeActivation(activation);&#xA;    &#x9;activation->createNodeActivations();&#xA;    }&#xA;    else&#xA;    {&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;Null activation&quot;&lt;&lt;std::endl;)&#xA;    }&#xA;    return activation;"/>
          </eAnnotations>
          <eParameters name="node" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="addNodeActivation" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="activation->setGroup(getThisActivityNodeActivationGroupPtr());&#xD;&#xA;    this->getNodeActivations()->push_back(activation);"/>
          </eAnnotations>
          <eParameters name="activation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="getNodeActivation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = nullptr;&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::Pin> pin = std::dynamic_pointer_cast&lt;uml::Pin> (node);&#xA;&#x9;auto containingNodeActivation=this->getContainingNodeActivation().lock();&#xA;    if ((containingNodeActivation) &amp;&amp; (pin))&#xA;    {&#xA;        activation = containingNodeActivation->retrievePinActivation(pin);&#xA;    }&#xA;&#xA;    if (activation == nullptr) &#xA;    {&#xA;        unsigned int i = 0;&#xA;        std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation>> nodeActivations=this->getNodeActivations();&#xA;        unsigned int nodeActivationsSize= nodeActivations->size();&#xA;        while ((!activation) &amp;&amp; (i &lt; nodeActivationsSize))&#xA;        {&#xA;        &#x9;activation = nodeActivations->at(i)->getNodeActivation(node);&#xA;            i = i + 1;&#xA;        }&#xA;    }&#xA;&#xA;    return activation;"/>
          </eAnnotations>
          <eParameters name="node" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="createEdgeInstance" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="for (unsigned int i = 0; i &lt; edges->size(); i++) &#xA;&#x9;{&#xA;        std::shared_ptr&lt;uml::ActivityEdge> edge = edges->at(i);&#xA;        //DEBUG_MESSAGE(std::cout&lt;&lt;&quot;EDGE:&quot; &lt;&lt; edge &lt;&lt; edge->getName()&lt;&lt;std::endl;)&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[createEdgeInstances] Creating an edge instance from &quot;&#xA;                   &lt;&lt; edge->getSource()->getName()&#xA;                   &lt;&lt; &quot; to &quot;&#xA;                   &lt;&lt; edge->getTarget()->getName()&#xA;                   &lt;&lt; &quot;.&quot;&lt;&lt;std::endl;)&#xA;&#xA;        std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edgeInstance=fUML::FUMLFactory::eInstance()->createActivityEdgeInstance();&#xA;        edgeInstance->setEdge(edge);&#xA;&#xA;        this->addEdgeInstance(edgeInstance);&#xA;        //DEBUG_MESSAGE(std::cout&lt;&lt;&quot;SOURCE:&quot;&lt;&lt;edge->getSource()&lt;&lt;std::endl;)&#xA;        //DEBUG_MESSAGE(std::cout&lt;&lt;&quot;TARGET:&quot;&lt;&lt;edge->getTarget()&lt;&lt;std::endl;)&#xA;        this->getNodeActivation(edge->getSource())->addOutgoingEdge(edgeInstance);&#xA;        this->getNodeActivation(edge->getTarget())->addIncomingEdge(edgeInstance);&#xA;    }&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > nodeActivations = this->getNodeActivations();&#xA;    for (unsigned int i = 0; i &lt; nodeActivations->size(); i++) {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> nodeActivation = nodeActivations->at(i);&#xA;        nodeActivation->createEdgeInstances();&#xA;    }"/>
          </eAnnotations>
          <eParameters name="edges" ordered="false" upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityEdge"/>
        </eOperations>
        <eOperations name="addEdgeInstance" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="instance->setGroup(getThisActivityNodeActivationGroupPtr());&#xD;&#xA;    this->getEdgeInstances()->push_back(instance);"/>
          </eAnnotations>
          <eParameters name="instance" ordered="false" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eOperations name="retrieveActivityExecution" ordered="false" lowerBound="1"
            eType="#//Semantics/Activities/ActivityExecution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityExecution> activityExecution = this->getActivityExecution().lock();&#xA;    if (!activityExecution)&#xA;    {&#xA;    &#x9;auto activation=this->getContainingNodeActivation().lock();&#xA;    &#x9;if(activation)&#xA;    &#x9;{&#xA;    &#x9;&#x9;auto group=activation->getGroup().lock();&#xA;    &#x9;&#x9;if(group)&#xA;    &#x9;&#x9;{&#xA;    &#x9;&#x9;&#x9;activityExecution = group->retrieveActivityExecution();&#xA;    &#x9;&#x9;}&#xA;    &#x9;&#x9;else&#xA;    &#x9;&#x9;{&#xA;                DEBUG_MESSAGE(std::cout&lt;&lt;__PRETTY_FUNCTION__&lt;&lt;std::endl;)&#xA;                throw &quot;invalid group&quot;;&#xA;    &#x9;&#x9;}&#xA;    &#x9;}&#xA;&#x9;&#x9;else&#xA;&#x9;&#x9;{&#xA;            DEBUG_MESSAGE(std::cout&lt;&lt;__PRETTY_FUNCTION__&lt;&lt;std::endl;)&#xA;            throw &quot;invalid activation&quot;;&#xA;&#x9;&#x9;}&#xA;    }&#xA;    return activityExecution;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getOutputParameterNodeActivations" ordered="false" lowerBound="1"
            upperBound="-1" eType="#//Semantics/Activities/ActivityParameterNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityParameterNodeActivation> > parameterNodeActivations(new Bag&lt;fUML::Semantics::Activities::ActivityParameterNodeActivation>());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > nodeActivations = this->getNodeActivations();&#xA;&#x9;for (std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation : *nodeActivations)&#xA;&#x9;{&#xA;&#x9;&#x9;if (activation->eClass() == fUML::FUMLPackage::eInstance()->getActivityParameterNodeActivation_Class())&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;if (activation->getIncomingEdges()->size() > 0)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;parameterNodeActivations->push_back(std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ActivityParameterNodeActivation>(activation));&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;return parameterNodeActivations;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="resume" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[resume] node=&quot; &lt;&lt; (activation->getNode() == nullptr ? &quot;null&quot; : activation->getNode()->getName())&lt;&lt;std::endl;)&#xA;&#xA;    bool found = false;&#xA;    unsigned int i = 0;&#xA;    while (!found &amp;&amp; i &lt; this->getSuspendedActivations()->size()) {&#xA;        if (this->getSuspendedActivations()->at(i) == activation) {&#xA;            this->getSuspendedActivations()->erase(this->getSuspendedActivations()->begin() + i);&#xA;            found = true;&#xA;        }&#xA;        i = i + 1;&#xA;    }&#xA;    if (!this->isSuspended()) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Actions::StructuredActivityNodeActivation> containingNodeActivation = this->getContainingNodeActivation().lock();&#xA;        if (containingNodeActivation != nullptr) &#xA;        {&#xA;            containingNodeActivation->resume();&#xA;        }&#xA;    }"/>
          </eAnnotations>
          <eParameters name="activation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="suspend" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[suspend] node=&quot; &lt;&lt; (activation->getNode() == nullptr ? &quot;null&quot; : activation->getNode()->getName())&lt;&lt;std::endl;)&#xA;&#xA;    if (!this->isSuspended()) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Actions::StructuredActivityNodeActivation> containingNodeActivation = this->getContainingNodeActivation().lock();&#xA;        if (containingNodeActivation != nullptr)&#xA;        {&#xA;            containingNodeActivation->suspend();&#xA;        }&#xA;    }&#xA;    this->getSuspendedActivations()->push_back(activation);"/>
          </eAnnotations>
          <eParameters name="activation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="isSuspended" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    return this->getSuspendedActivations()->size() > 0;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="hasSourceFor" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool hasSource = false;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityNodeActivation> > activations = this->getNodeActivations();&#xA;    unsigned int i = 0;&#xA;    while (!hasSource &amp;&amp; i &lt; activations->size()) &#xA;    {&#xA;        hasSource = activations->at(i)->isSourceFor(edgeInstance);&#xA;        i = i + 1;&#xA;    }&#xA;    return hasSource;"/>
          </eAnnotations>
          <eParameters name="edgeInstance" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityEdgeInstance"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="edgeInstances" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/ActivityEdgeInstance" containment="true"
            eOpposite="#//Semantics/Activities/ActivityEdgeInstance/group"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="nodeActivations" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/ActivityNodeActivation"
            containment="true" eOpposite="#//Semantics/Activities/ActivityNodeActivation/group"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="activityExecution"
            eType="#//Semantics/Activities/ActivityExecution" eOpposite="#//Semantics/Activities/ActivityExecution/activationGroup"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="containingNodeActivation"
            ordered="false" eType="#//Semantics/Actions/StructuredActivityNodeActivation"
            eOpposite="#//Semantics/Actions/StructuredActivityNodeActivation/activationGroup"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="suspendedActivations"
            ordered="false" upperBound="-1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ActivityParameterNodeActivation"
          eSuperTypes="#//Semantics/Activities/ObjectNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ActivityExecution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ForkedToken.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;&#xA;#include &quot;uml/ActivityParameterNode.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (this->getNode()->getIncoming()->size() == 0) &#xA;&#x9;{&#xA;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt; &quot;[fire] Input activity parameter node &quot; &lt;&lt; this->getNode()->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::Parameter> parameter = (std::dynamic_pointer_cast&lt;uml::ActivityParameterNode>(this->getNode()))->getParameter();&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue = this->getActivityExecution()->getParameterValue(parameter);&#xA;&#xA;&#x9;&#x9;if (parameterValue != nullptr) &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt; &quot;[fire] Parameter has &quot;&lt;&lt; parameterValue->getValues()->size() &lt;&lt; &quot; value(s).&quot;&lt;&lt;std::endl;)&#xA;&#x9;&#x9;&#x9;Bag&lt;fUML::Semantics::Values::Value>* valueList = parameterValue->getValues().get();&#xA;&#x9;&#x9;&#x9;auto factory = fUML::FUMLFactory::eInstance();&#xA;            const auto size = valueList->size();&#xA;            std::shared_ptr&lt;fUML::Semantics::Values::Value> value;&#xA;&#x9;&#x9;&#x9;for (unsigned int i = 0; i&lt; size; i++)&#xA;&#x9;&#x9;&#x9;{&#xA;                value = (*valueList)[i];&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> token = factory->createObjectToken();&#xA;&#x9;&#x9;&#x9;&#x9;token->setValue(value);&#xA;&#x9;&#x9;&#x9;&#x9;this->addToken(token);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;this->sendUnofferedTokens();&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#xA;&#x9;else &#xA;&#x9;{&#xA;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt; &quot;[fire] Output activity parameter node &quot;&#xA;&#x9;&#x9;&#x9;&#x9;&lt;&lt; this->getNode()->getName() + &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#x9;&#x9;this->addTokens(incomingTokens);&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ForkedToken> forkToken = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ForkedToken>((*incomingTokens)[0]);&#xA;&#x9;&#x9;if (forkToken != nullptr) &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;forkToken->getBaseToken()->setHolder(getThisActivityParameterNodeActivationPtr());&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="clearTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (this->getNode()->getIncoming()->size() == 0) {&#xA;        fUML::Semantics::Activities::ObjectNodeActivationImpl::clearTokens();&#xA;    }"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="CentralBufferNodeActivation" eSuperTypes="#//Semantics/Activities/ObjectNodeActivation">
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;&#x9;//DEBUG_MESSAGE(std::cout &lt;&lt; &quot;[fire] &quot; &lt;&lt; this->getNode()->getClass()->getName() &lt;&lt; &quot; &quot; &lt;&lt; this->getNode()->getName();)&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;DEBUG_MESSAGE(std::cout &lt;&lt; &quot;Central Buffer Node Activation&quot; &lt;&lt; std::endl;)&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;this->addTokens(incomingTokens);&#xD;&#xA;&#x9;&#x9;this->sendUnofferedTokens();"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ControlNodeActivation" abstract="true"
          eSuperTypes="#//Semantics/Activities/ActivityNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value=" #include &quot;uml/ActivityNode.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (this->getNode() != nullptr) {&#xD;&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Control node &quot; &lt;&lt; this->getNode()->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    this->sendOffers(incomingTokens);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ControlToken" eSuperTypes="#//Semantics/Activities/Token">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return (std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ControlToken>(other) != nullptr);"/>
          </eAnnotations>
          <eParameters name="other" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="isControl" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;return true;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getValue" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return nullptr;"/>
            <details key="const"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="DataStoreNodeActivation" eSuperTypes="#//Semantics/Activities/CentralBufferNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Values/Value.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="removeToken" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="int i = fUML::Semantics::Activities::ObjectNodeActivationImpl::removeToken(token);&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;if (this->isRunning()) {&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> copied_token = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::Token>(token->copy());&#xA;&#x9;&#x9;&#x9;fUML::Semantics::Activities::ObjectNodeActivationImpl::addToken(copied_token);&#xA;&#x9;&#x9;&#x9;this->sendUnofferedTokens();&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;return i;"/>
          </eAnnotations>
          <eParameters name="token" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="addToken" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Values::Value>value = token->getValue();&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;bool isUnique = true;&#xA;&#x9;&#x9;if (value != nullptr) {&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > heldTokens = this->getTokens();&#xA;&#x9;&#x9;&#x9;unsigned int i = 0;&#xA;&#x9;&#x9;&#x9;while (isUnique &amp;&amp; i &lt; heldTokens->size()) {&#xA;&#x9;&#x9;&#x9;&#x9;isUnique = !(heldTokens->at(i)->getValue()->equals(value));&#xA;&#x9;&#x9;&#x9;&#x9;i++;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#xA;&#x9;&#x9;if (isUnique) {&#xA;&#x9;&#x9;&#x9;fUML::Semantics::Activities::ObjectNodeActivationImpl::addToken(token);&#xA;&#x9;&#x9;}"/>
          </eAnnotations>
          <eParameters name="token" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="DecisionNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;abstractDataTypes/Subset.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Executor.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/ParameterValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/Token.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;uml/ActivityEdge.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/DecisionNode.hpp&quot;&#xA;#include &quot;uml/ObjectFlow.hpp&quot;&#xA;#include &quot;uml/Parameter.hpp&quot;&#xA;#include &quot;uml/ParameterDirectionKind.hpp&quot;&#xA;#include &quot;uml/UmlFactory.hpp&quot;&#xA;#include &quot;uml/ValueSpecification.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getDecisionValues" ordered="false" upperBound="-1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Values::Value> decisionInputValue = this->getDecisionInputFlowValue();&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > decisionValues(new Bag&lt;fUML::Semantics::Values::Value>());&#xA;&#xA;    for (unsigned int i = 0; i &lt; incomingTokens->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> incomingToken = incomingTokens->at(i);&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = this->executeDecisionInputBehavior(incomingToken->getValue(), decisionInputValue);&#xA;        decisionValues->push_back(value);&#xA;    }&#xA;&#xA;    DEBUG_MESSAGE(&#xA;&#x9;&#x9;for (unsigned int i = 0; i &lt; decisionValues->size(); i++)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> decisionValue = decisionValues->at(i);&#xA;&#x9;&#x9;&#x9;if (decisionValue)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[getDecisionValues] decisionValues[&quot; &lt;&lt; i &lt;&lt; &quot;] = &quot;&#xA;&#x9;&#x9;&#x9;&#x9;   &lt;&lt; decisionValue->toString()&lt;&lt;std::endl;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[getDecisionValues] decisionValues[&quot; &lt;&lt; i &lt;&lt; &quot;] = nullptr&quot; &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;    )&#xA;&#xA;    return decisionValues;"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="executeDecisionInputBehavior" ordered="false" lowerBound="1"
            eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::DecisionNode> decisionNode = std::dynamic_pointer_cast&lt;uml::DecisionNode>(this->getNode());&#xA;&#x9;std::shared_ptr&lt;uml::Behavior> decisionInputBehavior = nullptr;&#xA;&#xA;    if(decisionNode != nullptr)&#xA;    {&#xA;        decisionInputBehavior = decisionNode->getDecisionInput();&#xA;    }&#xA;&#xA;    std::shared_ptr&lt;fUML::Semantics::Values::Value> decisionInputResult = nullptr;&#xA;&#xA;    if (decisionInputBehavior == nullptr)&#xA;    {&#xA;        if (decisionInputValue != nullptr)&#xA;        {&#xA;            decisionInputResult = decisionInputValue;&#xA;        }&#xA;        else&#xA;        {&#xA;            decisionInputResult = inputValue;&#xA;        }&#xA;    }&#xA;    else&#xA;    {&#xA;        this->setDecisionInputExecution(this->getExecutionLocus()->getFactory()->createExecution(decisionInputBehavior,this->getExecutionContext()));&#xA;&#xA;        unsigned int i = 0;&#xA;        unsigned int j = 0;&#xA;        while (((j == 0) || ((j == 1) &amp;&amp; (decisionInputValue != nullptr)))&#xA;               &amp;&amp; (i &lt; decisionInputBehavior->getOwnedParameter()->size()))&#xA;        {&#xA;        &#x9;std::shared_ptr&lt;uml::Parameter> parameter = decisionInputBehavior->getOwnedParameter()->at(i);&#xA;            if (parameter->getDirection() == uml::ParameterDirectionKind::IN&#xA;                    || parameter->getDirection() == uml::ParameterDirectionKind::INOUT)&#xA;            {&#xA;            &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> inputParameterValue(fUML::FUMLFactory::eInstance()->createParameterValue());&#xA;                inputParameterValue->setParameter(parameter);&#xA;&#xA;                j = j + 1;&#xA;                if (j == 1 &amp;&amp; inputValue != nullptr)&#xA;                {&#xA;                    inputParameterValue->getValues()->push_back(inputValue);&#xA;                }&#xA;                else&#xA;                {&#xA;                    inputParameterValue->getValues()->push_back(decisionInputValue);&#xA;                }&#xA;&#xA;                this->getDecisionInputExecution()->setParameterValue(inputParameterValue);&#xA;            }&#xA;            i = i + 1;&#xA;        }&#xA;        this->getDecisionInputExecution()->execute();&#xA;&#xA;        std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > outputParameterValues = this->getDecisionInputExecution()->getOutputParameterValues();&#xA;        this->getDecisionInputExecution()->destroy();&#xA;&#xA;        decisionInputResult = outputParameterValues->at(0)->getValues()->at(0);&#xA;    }&#xA;&#xA;    return decisionInputResult;"/>
          </eAnnotations>
          <eParameters name="inputValue" ordered="false" eType="#//Semantics/Values/Value"/>
          <eParameters name="decisionInputValue" ordered="false" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="getDecisionInputFlowValue" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> decisionInputFlowInstance = this->getDecisionInputFlowInstance();&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> value = nullptr;&#xA;    if (decisionInputFlowInstance != nullptr) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = decisionInputFlowInstance->takeOfferedTokens();&#xA;        if (tokens->size() > 0) &#xA;        {&#xA;            value = tokens->at(0)->getValue();&#xA;        }&#xA;    }&#xA;&#xA;    return value;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getDecisionInputFlowInstance" ordered="false" eType="#//Semantics/Activities/ActivityEdgeInstance">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::ActivityEdge>  decisionInputFlow = (std::dynamic_pointer_cast&lt;uml::DecisionNode> (this->getNode()))->getDecisionInputFlow();&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edgeInstance = nullptr;&#xA;    if (decisionInputFlow != nullptr) &#xA;    {&#xA;        unsigned int i = 0;&#xA;        while ((edgeInstance == nullptr) &amp;&amp; (i &lt; this->getIncomingEdges()->size())) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> incomingEdge = this->getIncomingEdges()->at(i);&#xA;            if (incomingEdge->getEdge() == decisionInputFlow) &#xA;            {&#xA;                edgeInstance = incomingEdge;&#xA;            }&#xA;            i = i + 1;&#xA;        }&#xA;    }&#xA;&#xA;    return edgeInstance;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="test" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="bool guardResult = true;&#xA;    if (gaurd != nullptr) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> guardValue = this->getExecutionLocus()->getExecutor()->evaluate(gaurd);&#xA;        guardResult = guardValue->equals(value);&#xA;    }&#xA;    return guardResult;"/>
          </eAnnotations>
          <eParameters name="gaurd" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification"/>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value"/>
        </eOperations>
        <eOperations name="removeJoinedControlTokens" ordered="false" upperBound="-1"
            eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > removedControlTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#xA;    if (this->hasObjectFlowInput()) &#xA;    {&#xA;        unsigned int i = 0;&#xA;        while (i &lt; incomingTokens->size()) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = incomingTokens->at(i);&#xA;            if (token->isControl()) &#xA;            {&#xA;                removedControlTokens->push_back(token);&#xA;                incomingTokens->erase(incomingTokens->begin()+i);&#xA;                i = i - 1;&#xA;            }&#xA;            i = i + 1;&#xA;        }&#xA;    }&#xA;&#xA;    return removedControlTokens;"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="hasObjectFlowInput" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::ActivityEdge> decisionInputFlow = (std::dynamic_pointer_cast&lt;uml::DecisionNode> (this->getNode()))->getDecisionInputFlow();&#xD;&#xA;&#xD;&#xA;    bool isObjectFlow = false;&#xD;&#xA;    unsigned int i = 0;&#xD;&#xA;    while (!isObjectFlow &amp;&amp; i &lt; this->getIncomingEdges()->size()) &#xD;&#xA;    {&#xD;&#xA;    &#x9;std::shared_ptr&lt;uml::ActivityEdge> edge = this->getIncomingEdges()->at(i)->getEdge();&#xD;&#xA;        isObjectFlow = (edge != decisionInputFlow) &amp;&amp; (std::dynamic_pointer_cast&lt;uml::ObjectFlow>(edge) != nullptr);&#xD;&#xA;        i = i + 1;&#xD;&#xA;    }&#xD;&#xA;    return isObjectFlow;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ObjectFlow> decisionInputFlow = (std::dynamic_pointer_cast&lt;uml::DecisionNode> (this->getNode()))->getDecisionInputFlow();&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > allTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > incomingEdges = this->getIncomingEdges();&#xA;    for (unsigned int i = 0; i &lt; incomingEdges->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edgeInstance = incomingEdges->at(i);&#xA;        if (edgeInstance->getEdge() != decisionInputFlow) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = edgeInstance->takeOfferedTokens();&#xA;            for (unsigned int j = 0; j &lt; tokens->size(); j++)&#xA;            {&#xA;                allTokens->push_back(tokens->at(j));&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    return allTokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Decision node &quot; &lt;&lt; this->getNode()->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > removedControlTokens = this->removeJoinedControlTokens(incomingTokens);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Values::Value> > decisionValues = this->getDecisionValues(incomingTokens);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > outgoingEdges = this->getOutgoingEdges();&#xA;&#xA;    for (unsigned int i = 0; i &lt; outgoingEdges->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityEdgeInstance> edgeInstance = outgoingEdges->at(i);&#xA;    &#x9;std::shared_ptr&lt;uml::ValueSpecification> guard = edgeInstance->getEdge()->getGuard();&#xA;&#xA;    &#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > offeredTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;        for (unsigned int j = 0; j &lt; incomingTokens->size(); j++) &#xA;        {&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> incomingToken = incomingTokens->at(j);&#xA;        &#x9;std::shared_ptr&lt;fUML::Semantics::Values::Value> decisionValue = decisionValues->at(j);&#xA;            if (this->test(guard, decisionValue)) &#xA;            {&#xA;                offeredTokens->push_back(incomingToken);&#xA;            }&#xA;        }&#xA;&#xA;        if (offeredTokens->size() > 0) &#xA;        {&#xA;            for (unsigned int j = 0; j &lt; removedControlTokens->size(); j++) &#xA;            {&#xA;            &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> removedControlToken = removedControlTokens->at(j);&#xA;                offeredTokens->push_back(removedControlToken);&#xA;            }&#xA;            edgeInstance->sendOffer(offeredTokens);&#xA;        }&#xA;    }"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (this->getDecisionInputExecution() != nullptr) {&#xA;        this->getDecisionInputExecution()->terminate();&#xA;    }&#xA;&#xA;    fUML::Semantics::Activities::ControlNodeActivationImpl::terminate();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="unsigned int i = 0;&#xD;&#xA;    bool ready = true;&#xD;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt; &quot;INCOMING EDGE SIZE:&quot;&lt;&lt; this->getIncomingEdges()->size()&lt;&lt;std::endl;)&#xD;&#xA;    while (ready &amp;&amp; (i &lt; this->getIncomingEdges()->size())) {&#xD;&#xA;        ready = this->getIncomingEdges()->at(i)->hasOffer();&#xD;&#xA;        i = i + 1;&#xD;&#xA;    }&#xD;&#xA;    DEBUG_MESSAGE(std::cout&lt;&lt; &quot;READY:&quot;&lt;&lt; ready&lt;&lt;std::endl;)&#xD;&#xA;    return ready;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="decisionInputExecution"
            ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution"
            containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="FlowFinalNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="ForkedToken" eSuperTypes="#//Semantics/Activities/Token">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value=" "/>
        </eAnnotations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return (this == otherToken.get());"/>
          </eAnnotations>
          <eParameters name="otherToken" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="withdraw" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (!this->isBaseTokenIsWithdrawn() &amp; !this->getBaseToken()->isWithdrawn()) {&#xA;        this->getBaseToken()->withdraw();&#xA;        this->setBaseTokenIsWithdrawn(true);&#xA;    }&#xA;&#xA;    if (this->getRemainingOffersCount() > 0) {&#xA;        this->setRemainingOffersCount(this->getRemainingOffersCount() - 1);&#xA;    }&#xA;&#xA;    if (this->getRemainingOffersCount() == 0) {&#xA;        fUML::Semantics::Activities::TokenImpl::withdraw();&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isControl" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getBaseToken()->isControl();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getValue" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return this->getBaseToken()->getValue();"/>
            <details key="const"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="baseToken" ordered="false"
            eType="#//Semantics/Activities/Token"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="remainingOffersCount"
            ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="baseTokenIsWithdrawn"
            ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ForkNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ForkedToken.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include&quot;uml/ActivityNode.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (this->getNode() == nullptr) &#xA;&#x9;{&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Anonymous fork node.&quot;&lt;&lt;std::endl;)&#xA;    } &#xA;&#x9;else &#xA;&#x9;{&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[fire] Fork node &quot; &lt;&lt; this->getNode()->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;)&#xA;    }&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ActivityEdgeInstance> > outgoingEdges = this->getOutgoingEdges();&#xA;    int outgoingEdgeCount = outgoingEdges->size();&#xA;&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > forkedTokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;    for (unsigned int i = 0; i &lt; incomingTokens->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = incomingTokens->at(i);&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ForkedToken> forkedToken(fUML::FUMLFactory::eInstance()->createForkedToken());&#xA;        forkedToken->setBaseToken(token);&#xA;        forkedToken->setRemainingOffersCount(outgoingEdgeCount);&#xA;        forkedToken->setBaseTokenIsWithdrawn(false);&#xA;        forkedTokens->push_back(forkedToken);&#xA;    }&#xA;&#xA;    this->addTokens(forkedTokens);&#xA;    this->sendOffers(forkedTokens);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->clearTokens();&#xA;    fUML::Semantics::Activities::ControlNodeActivationImpl::terminate();"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="InitialNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ControlToken.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;//struct null_deleter{void operator()(void const *) const { } };&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ControlToken> controlToken(fUML::FUMLFactory::eInstance()->createControlToken());&#xA;    tokens->push_back(controlToken);&#xA;    this->addTokens(tokens);&#xA;    this->sendOffers(tokens);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="JoinNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ControlToken.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;DEBUG_MESSAGE(&#xA;&#x9;&#x9;if (this->getNode() != nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::cout&lt;&lt;&quot;[fire] Control node &quot; &lt;&lt; this->getNode()->getName() &lt;&lt; &quot;...&quot;&lt;&lt;std::endl;&#xA;&#x9;&#x9;}&#xA;&#x9;)&#xA;&#xA;&#x9;int controlTokenID = fUML::FUMLPackage::CONTROLTOKEN_CLASS;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::ControlToken>> controlTokenList(new Bag&lt;fUML::Semantics::Activities::ControlToken>());&#xA;&#xA;&#x9;Bag&lt;fUML::Semantics::Activities::Token>::iterator tokenIter = incomingTokens->begin();&#xA;&#x9;Bag&lt;fUML::Semantics::Activities::Token>::iterator tokenEnd = incomingTokens->end();&#xA;&#x9;while (tokenIter != tokenEnd)&#xA;&#x9;{&#xA;&#x9;&#x9;if ((*tokenIter)->getMetaElementID() == controlTokenID)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;controlTokenList->push_back(std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ControlToken>(*tokenIter));&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;tokenIter++;&#xA;&#x9;}&#xA;&#xA;&#x9;DEBUG_MESSAGE(std::cout &lt;&lt; &quot;found &quot; &lt;&lt; std::to_string(controlTokenList->size()) &lt;&lt; &quot; control tokens inside list with &quot; &lt;&lt; std::to_string(incomingTokens->size()) &lt;&lt; std::endl;)&#xA;&#x9;if (controlTokenList->size() == incomingTokens->size()) // all incoming tokens are ControlToken -> only one token should be offered&#xA;&#x9;{&#xA;&#x9;&#x9;incomingTokens.reset(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;&#x9;incomingTokens->push_back(controlTokenList->front());&#xA;&#x9;}&#xA;&#x9;else // remove all ControlToken and offer only ObjectToken&#xA;&#x9;{&#xA;&#x9;&#x9;Bag&lt;fUML::Semantics::Activities::Token>::iterator controlIter = incomingTokens->begin();&#xA;&#x9;&#x9;Bag&lt;fUML::Semantics::Activities::Token>::iterator controlEnd = incomingTokens->end();&#xA;&#x9;&#x9;while (controlIter != controlEnd)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;incomingTokens->erase(*controlIter);&#xA;&#x9;&#x9;&#x9;controlIter++;&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#xA;&#x9;this->sendOffers(incomingTokens);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool ready = true;&#xD;&#xA;&#x9;unsigned int i = 0;&#xD;&#xA;&#x9;while (ready &amp;&amp; i &lt; this->getIncomingEdges()->size()) {&#xD;&#xA;&#x9;&#x9;ready = this->getIncomingEdges()->at(i)->hasOffer();&#xD;&#xA;&#x9;&#x9;i = i + 1;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;return ready;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="MergeNodeActivation" eSuperTypes="#//Semantics/Activities/ControlNodeActivation"/>
      <eClassifiers xsi:type="ecore:EClass" name="ObjectNodeActivation" abstract="true"
          eSuperTypes="#//Semantics/Activities/ActivityNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/Token.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="countOfferedValues" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;int totalValueCount = 0;&#xD;&#xA;    unsigned int i = 0;&#xD;&#xA;    while (i &lt; this->getIncomingEdges()->size()) {&#xD;&#xA;        totalValueCount = totalValueCount&#xD;&#xA;                + this->getIncomingEdges()->at(i)->countOfferedValue();&#xD;&#xA;        i = i + 1;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return totalValueCount;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="sendUnofferedTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = this->getUnofferedTokens();&#xA;    this->setOfferedTokenCount(this->getOfferedTokenCount() + tokens->size());&#xA;    this->sendOffers(tokens);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="countUnofferedTokens" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (this->getHeldTokens()->size() == 0) {&#xD;&#xA;        this->setOfferedTokenCount(0);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return (this->getHeldTokens()->size() - this->getOfferedTokenCount());"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getUnofferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#xA;  int i = 0; &#xA;  const int numberUnofferedTokens=this->countUnofferedTokens(); &#xA;  int offeredTokenCount=this->getOfferedTokenCount(); &#xA; &#xA;  Bag&lt;fUML::Semantics::Activities::Token>* heldTokenPtr = this->getHeldTokens().get(); &#xA;  if(nullptr!=heldTokenPtr) &#xA;  { &#xA;    while (i &lt; numberUnofferedTokens) &#xA;    { &#xA;      tokens->push_back((*heldTokenPtr)[offeredTokenCount + i]);&#xA;      i++; &#xA;    } &#xA;  } &#xA;  return tokens; "/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeUnofferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens = this->getUnofferedTokens();&#xA;    for (unsigned int i = 0; i &lt; tokens->size(); i++) &#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = tokens->at(i);&#xA;        token->withdraw();&#xA;    }&#xA;    return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="run" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    fUML::Semantics::Activities::ActivityNodeActivationImpl::run();&#xA;    this->setOfferedTokenCount(0);"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="sendOffers" ordered="false">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (tokens->size() == 0) &#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ObjectToken> token = fUML::FUMLFactory::eInstance()->createObjectToken();&#xA;&#x9;&#x9;token->setHolder(getThisObjectNodeActivationPtr());&#xA;&#x9;&#x9;token->setWithdrawn(false);&#xA;&#x9;&#x9;tokens->push_back(token);&#xA;&#x9;}&#xA;&#xA;&#x9;fUML::Semantics::Activities::ActivityNodeActivationImpl::sendOffers(tokens);"/>
          </eAnnotations>
          <eParameters name="tokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="terminate" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->clearTokens();&#xA;    fUML::Semantics::Activities::ActivityNodeActivationImpl::terminate();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="addToken" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    if (token->getValue() == nullptr) {&#xA;        token->withdraw();&#xA;    } else {&#xA;        fUML::Semantics::Activities::ActivityNodeActivationImpl::addToken(token);&#xA;    }"/>
          </eAnnotations>
          <eParameters name="token" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="removeToken" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    int i = fUML::Semantics::Activities::ActivityNodeActivationImpl::removeToken(token);&#xA;    if (i > 0 &amp;&amp; i &lt;= this->getOfferedTokenCount()) {&#xA;        this->setOfferedTokenCount(this->getOfferedTokenCount() - 1);&#xA;    }&#xA;&#xA;    return i;"/>
          </eAnnotations>
          <eParameters name="token" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="clearTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    fUML::Semantics::Activities::ActivityNodeActivationImpl::clearTokens();&#xA;    this->setOfferedTokenCount(0);"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="offeredTokenCount"
            ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"
            defaultValueLiteral="0"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ObjectToken" eSuperTypes="#//Semantics/Activities/Token">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value=" #include &quot;fUML/FUMLFactory.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return (this == other.get());"/>
          </eAnnotations>
          <eParameters name="other" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="isControl" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return false;"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="value" ordered="false"
            eType="#//Semantics/Values/Value" containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Offer">
        <eOperations name="countOfferedVales" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->removeWithdrawnTokens();&#xD;&#xA;&#xD;&#xA;    int count = 0;&#xD;&#xA;    for (unsigned int i = 0; i &lt; this->getOfferedTokens()->size(); i++) {&#xD;&#xA;        if (this->getOfferedTokens()->at(i)->getValue() != nullptr) {&#xD;&#xA;            count = count + 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return count;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="retrieveOfferedTokens" ordered="false" upperBound="-1"
            eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->removeWithdrawnTokens();&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > tokens(new Bag&lt;fUML::Semantics::Activities::Token>());&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Activities::Token> > offeredTokens = this->getOfferedTokens();&#xA;    for (unsigned int i = 0; i &lt; this->getOfferedTokens()->size(); i++)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::Activities::Token> offeredToken = offeredTokens->at(i);&#xA;        tokens->push_back(offeredToken);&#xA;    }&#xA;&#xA;    return tokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="removeOfferedValues" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    int n = count;&#xD;&#xA;    unsigned int i = 0;&#xD;&#xA;    while (n > 0) {&#xD;&#xA;        if (this->getOfferedTokens()->at(i)->getValue() != nullptr) {&#xD;&#xA;            this->getOfferedTokens()->erase(this->getOfferedTokens()->begin() + i);&#xD;&#xA;        } else {&#xD;&#xA;            i = i + 1;&#xD;&#xA;        }&#xD;&#xA;        n = n - 1;&#xD;&#xA;    }"/>
          </eAnnotations>
          <eParameters name="count" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="removeWithdrawnTokens" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=" std::shared_ptr&lt; Bag&lt;fUML::Semantics::Activities::Token> > offeredTokens= this->getOfferedTokens();&#xA;    Bag&lt;fUML::Semantics::Activities::Token> *offeredTokensPtr=offeredTokens.get();&#xA;&#xA;    const unsigned int numberTokens=offeredTokensPtr->size();&#xA;&#xA;    if(numberTokens==1)&#xA;    {&#xA;        if((*offeredTokensPtr)[0]->isWithdrawn())&#xA;        {&#xA;            offeredTokensPtr->clear();&#xA;        }&#xA;    }&#xA;    else&#xA;    {&#xA;        Bag&lt;fUML::Semantics::Activities::Token> *new_OfferedTokensPtr = new Bag&lt;fUML::Semantics::Activities::Token>();&#xA;        m_offeredTokens.reset(new_OfferedTokensPtr);&#xA;        //&#x9;m_offeredTokens.reserve(numberTokens);&#xA;        for(unsigned int i = 0; i &lt; numberTokens; i++)&#xA;        {&#xA;            if(!((*offeredTokensPtr)[i]->isWithdrawn()))&#xA;            {&#xA;                new_OfferedTokensPtr->push_back((*offeredTokensPtr)[i]);&#xA;            }&#xA;        }&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="hasTokens" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    this->removeWithdrawnTokens();&#xD;&#xA;    return (this->getOfferedTokens()->size() > 0);"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="offeredTokens" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/Token"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Token" abstract="true">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Activities/ControlToken.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Locus.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="transfer" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::Token> token = getThisTokenPtr();&#xA;    if (!this->isWithdrawn())&#xA;    {&#xA;        this->withdraw();&#xA;        token = std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::Token>(this->copy());&#xA;    }&#xA;&#xA;    token->setHolder(holder);&#xA;&#x9;token->setWithdrawn(false);&#xA;    return token;"/>
          </eAnnotations>
          <eParameters name="holder" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="withdraw" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (!this->isWithdrawn()) &#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> holder = this->getHolder().lock();&#xA;        this->setHolder(nullptr);&#xA;&#x9;&#x9;this->setWithdrawn(true);&#xA;&#x9;&#x9;if (holder)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;holder->removeToken(getThisTokenPtr());&#xA;&#x9;&#x9;}&#xA;    }"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="equals" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen"/>
          <eParameters name="other" ordered="false" lowerBound="1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="isControl" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return dynamic_cast&lt;fUML::Semantics::Activities::ControlToken*>(this) != nullptr;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getValue" ordered="false" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="const"/>
          </eAnnotations>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="holder" ordered="false"
            eType="#//Semantics/Activities/ActivityNodeActivation" eOpposite="#//Semantics/Activities/ActivityNodeActivation/heldTokens">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="no_back_reference" value="true"/>
          </eAnnotations>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="withdrawn" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"
            defaultValueLiteral="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ExpansionActivationGroup" eSuperTypes="#//Semantics/Activities/ActivityNodeActivationGroup">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/ExpansionNode.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getActivityExecution" lowerBound="1" eType="#//Semantics/Activities/ActivityExecution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return m_regionActivation->getActivityExecution();"/>
            <details key="const" value="1"/>
            <details key="weakptr" value="1"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getNodeActivation" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ActivityNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = nullptr;&#xA;&#x9;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>::iterator iter = m_regionInputs->begin();&#xA;&#x9;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>::iterator end = m_regionInputs->end();&#xA;&#x9;while ((!activation) and (iter != end))&#xA;&#x9;{&#xA;       &#x9;activation =(*iter)->getNodeActivation(node);&#xA;       &#x9;iter++;&#xA;&#x9;}&#xA;&#xA;&#x9;iter = m_groupInputs->begin();&#xA;&#x9;end = m_groupInputs->end();&#xA;&#x9;while ((!activation) and (iter != end))&#xA;&#x9;{&#xA;&#x9;&#x9;activation =(*iter)->getNodeActivation(node);&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#xA;&#x9;iter = m_groupOutputs->begin();&#xA;&#x9;end = m_groupOutputs->end();&#xA;&#x9;while ((!activation) and (iter != end))&#xA;&#x9;{&#xA;&#x9;&#x9;activation =(*iter)->getNodeActivation(node);&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#xA;&#x9;if (activation == nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;return ActivityNodeActivationGroupImpl::getNodeActivation(node);&#xA;&#x9;}&#xA;&#xA;&#x9;return activation;"/>
          </eAnnotations>
          <eParameters name="node" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ActivityNode"/>
        </eOperations>
        <eOperations name="resume">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="ActivityNodeActivationGroupImpl::resume(activation);&#xA;&#x9;if (isSuspended())&#xA;&#x9;{&#xA;&#x9;&#x9;m_regionActivation->resume(getThisExpansionActivationGroupPtr());&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="activation" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eOperations name="suspend">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (!isSuspended())&#xA;&#x9;{&#xA;&#x9;&#x9;m_regionActivation->suspend();&#xA;&#x9;}&#xA;&#x9;ActivityNodeActivationGroupImpl::suspend(activation);"/>
          </eAnnotations>
          <eParameters name="activation" eType="#//Semantics/Activities/ActivityNodeActivation"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="groupInputs" upperBound="-1"
            eType="#//Semantics/Actions/OutputPinActivation"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="groupOutputs" upperBound="-1"
            eType="#//Semantics/Actions/OutputPinActivation"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="index" lowerBound="1"
            eType="ecore:EDataType http://www.eclipse.org/uml2/5.0.0/Types#//Integer"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="regionActivation" ordered="false"
            lowerBound="1" eType="#//Semantics/Activities/ExpansionRegionActivation"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="regionInputs" upperBound="-1"
            eType="#//Semantics/Actions/OutputPinActivation"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ExpansionNodeActivation" eSuperTypes="#//Semantics/Activities/ObjectNodeActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;uml/ExpansionNode.hpp&quot;&#xA;#include &quot;uml/ExpansionRegion.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="getExpansionRegionActivation" ordered="false" lowerBound="1"
            eType="#//Semantics/Activities/ExpansionRegionActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ExpansionNode> node = std::dynamic_pointer_cast&lt;uml::ExpansionNode>(m_node);&#xA;&#x9;std::shared_ptr&lt;uml::ExpansionRegion> region = node->getRegionAsInput();&#xA;&#x9;if (region == nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;region = node->getRegionAsOutput();&#xA;&#x9;}&#xA;&#xA;&#x9;auto group = m_group.lock();&#xA;&#x9;if (group == nullptr)&#xA;&#x9;{&#xA;        DEBUG_MESSAGE(std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot;: unknown group&quot; &lt;&lt; std::endl;)&#xA;&#x9;&#x9;throw &quot;unknown group&quot;;&#xA;&#x9;}&#xA;&#xA;&#x9;return std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ExpansionRegionActivation>(group->getNodeActivation(region));"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="fire" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="addTokens(incomingTokens);"/>
          </eAnnotations>
          <eParameters name="incomingTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token"/>
        </eOperations>
        <eOperations name="receiveOffer" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="getExpansionRegionActivation()->receiveOffer();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="isReady" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return false;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ExpansionRegionActivation" eSuperTypes="#//Semantics/Actions/ActionActivation">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ObjectToken.hpp&quot;&#xA;#include &quot;uml/Action.hpp&quot;&#xA;#include &quot;uml/ActivityNode.hpp&quot;&#xA;#include &quot;uml/ExpansionRegion.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/OutputPin.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="doAction">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::StructuredActivityNode> node = std::dynamic_pointer_cast&lt;uml::StructuredActivityNode>(m_node);&#xA;&#x9;if (node->getMustIsolate())&#xA;&#x9;{&#xA;&#x9;&#x9;_beginIsolation();&#xA;&#x9;&#x9;doStructuredActivity();&#xA;&#x9;&#x9;_endIsolation();&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;doStructuredActivity();&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="doOutput">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ExpansionRegion> region = std::dynamic_pointer_cast&lt;uml::ExpansionRegion>(m_node);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ExpansionNode>> outputElements = region->getOutputElement();&#xA;&#x9;if (!isSuspended())&#xA;&#x9;{&#xA;&#x9;&#x9;unsigned int activationGroupsSize = m_activationGroups->size();&#xA;&#x9;&#x9;for (unsigned int i=0; i&lt;activationGroupsSize; i++)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;ExpansionActivationGroup> activationGroup = m_activationGroups->at(i);&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>> groupOutputs = activationGroup->getGroupOutputs();&#xA;&#x9;&#x9;&#x9;unsigned int groupOutputsSize = groupOutputs->size();&#xA;&#x9;&#x9;&#x9;for (unsigned j=0; j&lt;groupOutputsSize; j++)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> groupOutput = groupOutputs->at(j);&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;uml::ExpansionNode> outputElement = outputElements->at(j);&#xA;&#x9;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ExpansionNodeActivation> activation = getExpansionNodeActivation(outputElement);&#xA;&#x9;&#x9;&#x9;&#x9;if (activation == nullptr)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;        DEBUG_MESSAGE(std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot;: unknown activation&quot; &lt;&lt; std::endl;)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;throw &quot;unknown group&quot;;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;activation->addTokens(groupOutput->takeTokens());&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="doStructuredActivity" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ExpansionRegion> region = std::dynamic_pointer_cast&lt;uml::ExpansionRegion>(m_node);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::InputPin>> inputPins = region->getInput();&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ExpansionNode>> inputElements = region->getInputElement();&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ExpansionNode>> outputElements = region->getOutputElement();&#xA;&#x9;std::shared_ptr&lt;FUMLFactory> factory = FUMLFactory::eInstance();&#xA;&#xA;&#x9;m_activationGroups->clear();&#xA;&#xA;&#x9;int n = m_inputExpansionTokens->at(0)->getTokens()->size();&#xA;&#x9;int k = 0;&#xA;&#x9;while (k &lt; n)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;ExpansionActivationGroup> activationGroup = FUMLFactory::eInstance()->createExpansionActivationGroup();&#xA;&#x9;&#x9;activationGroup->setRegionActivation(getThisExpansionRegionActivationPtr());&#xA;&#x9;&#x9;activationGroup->setIndex(k);&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>> regionInputList = activationGroup->getRegionInputs();&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>> groupInputsList = activationGroup->getGroupInputs();&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>> groupOutputsList = activationGroup->getGroupOutputs();&#xA;&#xA;&#x9;&#x9;Bag&lt;uml::InputPin>::iterator inputPinsIter = inputPins->begin();&#xA;&#x9;&#x9;Bag&lt;uml::InputPin>::iterator inputPinsEnd = inputPins->end();&#xA;&#x9;&#x9;while (inputPinsIter != inputPinsEnd)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> regionInput = factory->createOutputPinActivation();&#xA;&#x9;&#x9;&#x9;regionInput->setNode(*inputPinsIter);&#xA;&#x9;&#x9;&#x9;regionInput->run();&#xA;&#x9;&#x9;&#x9;regionInputList->push_back(regionInput);&#xA;&#x9;&#x9;&#x9;inputPinsIter++;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;Bag&lt;uml::ExpansionNode>::iterator inputElementsIter = inputElements->begin();&#xA;&#x9;&#x9;Bag&lt;uml::ExpansionNode>::iterator intputElementsEnd = inputElements->end();&#xA;&#x9;&#x9;while (inputElementsIter != intputElementsEnd)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> groupInput = factory->createOutputPinActivation();&#xA;&#x9;&#x9;&#x9;groupInput->setNode(*inputElementsIter);&#xA;&#x9;&#x9;&#x9;groupInput->run();&#xA;&#x9;&#x9;&#x9;groupInputsList->push_back(groupInput);&#xA;&#x9;&#x9;&#x9;inputElementsIter++;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;Bag&lt;uml::ExpansionNode>::iterator outputElementsIter = outputElements->begin();&#xA;&#x9;&#x9;Bag&lt;uml::ExpansionNode>::iterator outputElementsEnd = outputElements->end();&#xA;&#x9;&#x9;while (outputElementsIter != outputElementsEnd)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> groupOutput = factory->createOutputPinActivation();&#xA;&#x9;&#x9;&#x9;groupOutput->setNode(*outputElementsIter);&#xA;&#x9;&#x9;&#x9;groupOutput->run();&#xA;&#x9;&#x9;&#x9;groupOutputsList->push_back(groupOutput);&#xA;&#x9;&#x9;&#x9;outputElementsIter++;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;activationGroup->createNodeActivations(region->getNode());&#xA;&#x9;&#x9;activationGroup->createEdgeInstance(region->getEdge());&#xA;&#x9;&#x9;m_activationGroups->push_back(activationGroup);&#xA;&#xA;&#x9;&#x9;k = k + 1;&#xA;&#x9;}&#xA;&#xA;&#x9;if (region->getMode() == uml::ExpansionKind::ITERATIVE)&#xA;&#x9;{&#xA;&#x9;&#x9;m_next = 0;&#xA;&#x9;&#x9;runIterative();&#xA;&#x9;}&#xA;&#x9;else if (region->getMode() == uml::ExpansionKind::PARALLEL)&#xA;&#x9;{&#xA;&#x9;&#x9;runParallel();&#xA;&#x9;}&#xA;&#xA;&#x9;doOutput();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="getExpansionNodeActivation" ordered="false" lowerBound="1"
            eType="#//Semantics/Activities/ExpansionNodeActivation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="auto group = m_group.lock();&#xA;&#x9;if (group != nullptr)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> nodeActivation = group->getNodeActivation(node);&#xA;&#x9;&#x9;return std::dynamic_pointer_cast&lt;fUML::Semantics::Activities::ExpansionNodeActivation>(nodeActivation);&#xA;&#x9;}&#xA;&#x9;return nullptr;"/>
          </eAnnotations>
          <eParameters name="node" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ExpansionNode"/>
        </eOperations>
        <eOperations name="isSuspended" eType="ecore:EDataType http://www.eclipse.org/uml2/5.0.0/Types#//Boolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="bool suspended = false;&#xA;&#x9;Bag&lt;ExpansionActivationGroup>::iterator iter = m_activationGroups->begin();&#xA;&#x9;Bag&lt;ExpansionActivationGroup>::iterator end = m_activationGroups->end();&#xA;&#x9;while (!suspended and iter != end)&#xA;&#x9;{&#xA;&#x9;&#x9;suspended = (*iter)->isSuspended();&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#x9;return suspended;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="numberOfValues" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ExpansionRegion> region = std::dynamic_pointer_cast&lt;uml::ExpansionRegion>(m_node);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ExpansionNode>> inputElements = region->getInputElement();&#xA;&#x9;int n = 0;&#xA;&#x9;Bag&lt;uml::ExpansionNode>::iterator iter = inputElements->begin();&#xA;&#x9;Bag&lt;uml::ExpansionNode>::iterator end = inputElements->end();&#xA;&#x9;while (iter != end)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ExpansionNodeActivation> activation = getExpansionNodeActivation(*iter);&#xA;&#x9;&#x9;if (activation == nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;        DEBUG_MESSAGE(std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot;: unknown activation&quot; &lt;&lt; std::endl;)&#xA;&#x9;&#x9;&#x9;throw &quot;unknown group&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;int count = activation->countOfferedValues();&#xA;&#x9;&#x9;if (count > n)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;n = count;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#x9;return n;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="resume">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ExpansionRegion> region = std::dynamic_pointer_cast&lt;uml::ExpansionRegion>(m_node);&#xA;&#xA;&#x9;ActivityNodeActivationImpl::resume();&#xA;&#x9;terminateGroup(activationGroup);&#xA;&#x9;if (region->getMode() == uml::ExpansionKind::ITERATIVE)&#xA;&#x9;{&#xA;&#x9;&#x9;runIterative();&#xA;&#x9;}&#xA;&#xA;&#x9;doOutput();"/>
          </eAnnotations>
          <eParameters name="activationGroup" eType="#//Semantics/Activities/ExpansionActivationGroup"/>
        </eOperations>
        <eOperations name="runGroup" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (isRunning())&#xA;&#x9;{&#xA;&#x9;&#x9;unsigned int size = m_inputTokens->size();&#xA;&#x9;&#x9;for (unsigned int i=0; i&lt;size; i++)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;TokenSet> tokenSet = m_inputTokens->at(i);&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> regionInput = activationGroup->getRegionInputs()->at(i);&#xA;&#x9;&#x9;&#x9;regionInput->clearTokens();&#xA;&#x9;&#x9;&#x9;regionInput->addTokens(tokenSet->getTokens());&#xA;&#x9;&#x9;&#x9;regionInput->sendUnofferedTokens();&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;size = m_inputExpansionTokens->size();&#xA;&#x9;&#x9;for (unsigned int i=0; i&lt;size; i++)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;TokenSet> tokenSet = m_inputExpansionTokens->at(i);&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> groupInput = activationGroup->getGroupInputs()->at(i);&#xA;&#x9;&#x9;&#x9;groupInput->clearTokens();&#xA;&#x9;&#x9;&#x9;unsigned int index = activationGroup->getIndex();&#xA;&#x9;&#x9;&#x9;if (tokenSet->getTokens()->size() > index)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;groupInput->addToken(tokenSet->getTokens()->at(index));&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;groupInput->sendUnofferedTokens();&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;activationGroup->run(activationGroup->getNodeActivations());&#xA;&#xA;&#x9;&#x9;terminateGroup(activationGroup);&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="activationGroup" ordered="false" lowerBound="1" eType="#//Semantics/Activities/ExpansionActivationGroup"/>
        </eOperations>
        <eOperations name="runIterative">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="int size = m_activationGroups->size();&#xA;&#x9;while (m_next &lt; size and !isSuspended())&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;ExpansionActivationGroup> activationGroup = m_activationGroups->at(m_next);&#xA;&#x9;&#x9;runGroup(activationGroup);&#xA;&#x9;&#x9;m_next++;&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="runParallel">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="Bag&lt;ExpansionActivationGroup>::iterator iter = m_activationGroups->begin();&#xA;&#x9;Bag&lt;ExpansionActivationGroup>::iterator end = m_activationGroups->end();&#xA;&#x9;while (iter != end)&#xA;&#x9;{&#xA;&#x9;&#x9;runGroup(*iter);&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="sendOffers">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;uml::ExpansionRegion> region = std::dynamic_pointer_cast&lt;uml::ExpansionRegion>(m_node);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ExpansionNode>> outputElement = region->getOutputElement();&#xA;&#xA;&#x9;Bag&lt;uml::ExpansionNode>::iterator iter = outputElement->begin();&#xA;&#x9;Bag&lt;uml::ExpansionNode>::iterator end = outputElement->end();&#xA;&#xA;&#x9;while (iter != end)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ExpansionNodeActivation> activation = getExpansionNodeActivation(*iter);&#xA;&#x9;&#x9;if (activation == nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot;: unknown activation&quot; &lt;&lt; std::endl;)&#xA;&#x9;&#x9;&#x9;throw &quot;unknown group&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;activation->sendUnofferedTokens();&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#xA;&#x9;ActionActivationImpl::sendOffers();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="takeOfferedTokens" ordered="false" upperBound="-1" eType="#//Semantics/Activities/Token">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="ActionActivationImpl::takeOfferedTokens();&#xA;&#xA;&#x9;std::shared_ptr&lt;uml::ExpansionRegion> region = std::dynamic_pointer_cast&lt;uml::ExpansionRegion>(m_node);&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::InputPin>> inputPinList = region->getInput();&#xA;&#x9;std::shared_ptr&lt;Bag&lt;uml::ExpansionNode>> inputElementList = region->getInputElement();&#xA;&#xA;&#x9;m_inputTokens->clear();&#xA;&#x9;m_inputExpansionTokens->clear();&#xA;&#xA;&#x9;Bag&lt;uml::InputPin>::iterator inputPinIter = inputPinList->begin();&#xA;&#x9;Bag&lt;uml::InputPin>::iterator inputPinEnd = inputPinList->end();&#xA;&#x9;while (inputPinIter != inputPinEnd)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::InputPin> inputPin = *inputPinIter;&#xA;&#x9;&#x9;std::shared_ptr&lt;TokenSet> tokenSet = FUMLFactory::eInstance()->createTokenSet();&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ActivityNodeActivation> activation = getNodeActivation(inputPin);&#xA;&#x9;&#x9;if (activation == nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot;: unknown activation&quot; &lt;&lt; std::endl;)&#xA;&#x9;&#x9;&#x9;throw &quot;unknown group&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;tokenSet->getTokens()->insert(*(activation->takeTokens()));&#xA;&#x9;&#x9;m_inputTokens->push_back(tokenSet);&#xA;&#xA;&#x9;&#x9;inputPinIter++;&#xA;&#x9;}&#xA;&#xA;&#x9;int n = numberOfValues();&#xA;&#xA;&#x9;Bag&lt;uml::ExpansionNode>::iterator inputElementIter = inputElementList->begin();&#xA;&#x9;Bag&lt;uml::ExpansionNode>::iterator inputElementEnd = inputElementList->end();&#xA;&#x9;while (inputElementIter != inputElementEnd)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;uml::ExpansionNode> inputElement = *inputElementIter;&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Activities::ExpansionNodeActivation> expansionNodeActivation = getExpansionNodeActivation(inputElement);&#xA;&#x9;&#x9;if (expansionNodeActivation == nullptr)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;DEBUG_MESSAGE(std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot;: unknown activation&quot; &lt;&lt; std::endl;)&#xA;&#x9;&#x9;&#x9;throw &quot;unknown group&quot;;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;expansionNodeActivation->fire(expansionNodeActivation->takeOfferedTokens());&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;Token>> tokens = expansionNodeActivation->takeTokens();&#xA;&#x9;&#x9;std::shared_ptr&lt;TokenSet> tokenSet = FUMLFactory::eInstance()->createTokenSet();&#xA;&#x9;&#x9;int j = 0;&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;Token>> tokenSetTokens = tokenSet->getTokens();&#xA;&#x9;&#x9;while (j &lt; n)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;tokenSetTokens->push_back(tokens->at(j));&#xA;&#x9;&#x9;&#x9;j++;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;m_inputExpansionTokens->push_back(tokenSet);&#xA;&#xA;&#x9;&#x9;inputElementIter++;&#xA;&#x9;}&#xA;&#xA;&#x9;std::shared_ptr&lt;Bag&lt;Token>> offeredTokens(new Bag&lt;Token>());&#xA;&#x9;return offeredTokens;"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminate">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="Bag&lt;ExpansionActivationGroup>::iterator iter = m_activationGroups->begin();&#xA;&#x9;Bag&lt;ExpansionActivationGroup>::iterator end = m_activationGroups->end();&#xA;&#xA;&#x9;while (iter != end)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;ExpansionActivationGroup> activationGroup = *iter;&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>> groupOutputs = activationGroup->getGroupOutputs();&#xA;&#x9;&#x9;_beginIsolation();&#xA;&#xA;&#x9;&#x9;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>::iterator outputIter = groupOutputs->begin();&#xA;&#x9;&#x9;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>::iterator outputEnd = groupOutputs->end();&#xA;&#x9;&#x9;while(outputIter != outputEnd)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> output = *outputIter;&#xA;&#x9;&#x9;&#x9;output->fire(output->takeOfferedTokens());&#xA;&#x9;&#x9;&#x9;outputIter++;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;activationGroup->terminateAll();&#xA;&#x9;&#x9;_endIsolation();&#xA;&#x9;&#x9;iter++;&#xA;&#x9;}&#xA;&#xA;&#x9;ActionActivationImpl::terminate();"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="terminateGroup">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (isRunning() and !isSuspended())&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>> groupOutputs = activationGroup->getGroupOutputs();&#xA;&#x9;&#x9;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>::iterator outputIter = groupOutputs->begin();&#xA;&#x9;&#x9;Bag&lt;fUML::Semantics::Actions::OutputPinActivation>::iterator outputEnd = groupOutputs->end();&#xA;&#x9;&#x9;while(outputIter != outputEnd)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::Actions::OutputPinActivation> output = *outputIter;&#xA;&#x9;&#x9;&#x9;output->fire(output->takeOfferedTokens());&#xA;&#x9;&#x9;&#x9;outputIter++;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;activationGroup->terminateAll();&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="activationGroup" lowerBound="1" eType="#//Semantics/Activities/ExpansionActivationGroup"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="inputTokens" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/TokenSet"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="inputExpansionTokens"
            ordered="false" lowerBound="1" upperBound="-1" eType="#//Semantics/Activities/TokenSet"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="activationGroups" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/ExpansionActivationGroup"/>
        <eStructuralFeatures xsi:type="ecore:EAttribute" name="next" eType="ecore:EDataType http://www.eclipse.org/uml2/5.0.0/Types#//Integer"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="TokenSet">
        <eStructuralFeatures xsi:type="ecore:EReference" name="tokens" ordered="false"
            upperBound="-1" eType="#//Semantics/Activities/Token"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ClassifierBehaviorExecutionActivity"/>
      <eClassifiers xsi:type="ecore:EClass" name="ClassifierBehaviorExecutionActivity_OwnedBehaviorActivity1"/>
    </eSubpackages>
    <eSubpackages name="Loci" nsURI="http:///fUML_Semantics/Semantics/Loci.ecore"
        nsPrefix="fUML_Semantics.Semantics.Loci">
      <eClassifiers xsi:type="ecore:EClass" name="ChoiceStrategy" abstract="true"
          eSuperTypes="#//Semantics/Loci/SemanticStrategy">
        <eOperations name="choose" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eParameters name="size" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
        <eOperations name="getName" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return &quot;choice&quot;;"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="ExecutionFactory">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/FUMLPackage.hpp&quot;&#xA;#include &quot;uml/OpaqueBehavior.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/OpaqueBehaviorExecution.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/CallEventBehavior.hpp&quot;&#xA;#include &quot;uml/CentralBufferNode.hpp&quot;&#xA;#include &quot;uml/StructuredActivityNode.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Value.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/Evaluation.hpp&quot;&#xA;#include &quot;uml/Element.hpp&quot;&#xA;#include &quot;uml/ValueSpecification.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/LiteralBooleanEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/LiteralStringEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/LiteralNullEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Classification/InstanceValueEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/LiteralUnlimitedNaturalEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/LiteralIntegerEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Values/LiteralRealEvaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/CallEventExecution.hpp&quot;&#xA;#include &quot;uml/UmlPackage.hpp&quot;&#xA;#include &quot;uml/InstanceValue.hpp&quot;&#xA;#include &quot;uml/LiteralBoolean.hpp&quot;&#xA;#include &quot;uml/LiteralInteger.hpp&quot;&#xA;#include &quot;uml/LiteralNull.hpp&quot;&#xA;#include &quot;uml/LiteralReal.hpp&quot;&#xA;#include &quot;uml/LiteralString.hpp&quot;&#xA;#include &quot;uml/LiteralUnlimitedNatural.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityExecution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityFinalNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/CentralBufferNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ActivityParameterNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/AddStructuralFeatureValueActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/CallBehaviorActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/CallOperationActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ClearAssociationActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/CreateLinkActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ClearStructuralFeatureActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/CreateObjectActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/DecisionNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/DestroyLinkActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/DestroyObjectActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/FlowFinalNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ForkNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/InitialNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/InputPinActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/JoinNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/MergeNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/OutputPinActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReadLinkActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReadSelfActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReadStructuralFeatureActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/RemoveStructuralFeatureValueActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/SendSignalActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/TestIdentityActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ValueSpecificationActionActivation.hpp&quot;&#xA;#include &quot;uml/Activity.hpp&quot;&#xA;#include &quot;uml/ActivityFinalNode.hpp&quot;&#xA;#include &quot;uml/ActivityParameterNode.hpp&quot;&#xA;#include &quot;uml/AddStructuralFeatureValueAction.hpp&quot;&#xA;#include &quot;uml/CallBehaviorAction.hpp&quot;&#xA;#include &quot;uml/CallOperationAction.hpp&quot;&#xA;#include &quot;uml/ClearAssociationAction.hpp&quot;&#xA;#include &quot;uml/ClearStructuralFeatureAction.hpp&quot;&#xA;#include &quot;uml/CreateLinkAction.hpp&quot;&#xA;#include &quot;uml/CreateObjectAction.hpp&quot;&#xA;#include &quot;uml/DecisionNode.hpp&quot;&#xA;#include &quot;uml/DestroyLinkAction.hpp&quot;&#xA;#include &quot;uml/DestroyObjectAction.hpp&quot;&#xA;#include &quot;uml/FlowFinalNode.hpp&quot;&#xA;#include &quot;uml/ForkNode.hpp&quot;&#xA;#include &quot;uml/InitialNode.hpp&quot;&#xA;#include &quot;uml/InputPin.hpp&quot;&#xA;#include &quot;uml/JoinNode.hpp&quot;&#xA;#include &quot;uml/MergeNode.hpp&quot;&#xA;#include &quot;uml/OutputPin.hpp&quot;&#xA;#include &quot;uml/ReadLinkAction.hpp&quot;&#xA;#include &quot;uml/ReadSelfAction.hpp&quot;&#xA;#include &quot;uml/ReadStructuralFeatureAction.hpp&quot;&#xA;#include &quot;uml/RemoveStructuralFeatureValueAction.hpp&quot;&#xA;#include &quot;uml/SendSignalAction.hpp&quot;&#xA;#include &quot;uml/TestIdentityAction.hpp&quot;&#xA;#include &quot;uml/ValueSpecificationAction.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/AcceptEventActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ConditionalNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/DataStoreNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ExpansionNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Activities/ExpansionRegionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/LoopNodeActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReadExtentActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReadIsClassifiedObjectActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReclassifyObjectActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/ReduceActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/StartClassifierBehaviorActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/StartObjectBehaviorActionActivation.hpp&quot;&#xA;#include &quot;fUML/Semantics/Actions/StructuredActivityNodeActivation.hpp&quot;&#xA;#include &quot;uml/AcceptEventAction.hpp&quot;&#xA;#include &quot;uml/ConditionalNode.hpp&quot;&#xA;#include &quot;uml/DataStoreNode.hpp&quot;&#xA;#include &quot;uml/ExpansionNode.hpp&quot;&#xA;#include &quot;uml/ExpansionRegion.hpp&quot;&#xA;#include &quot;uml/LoopNode.hpp&quot;&#xA;#include &quot;uml/ReadExtentAction.hpp&quot;&#xA;#include &quot;uml/ReadIsClassifiedObjectAction.hpp&quot;&#xA;#include &quot;uml/ReclassifyObjectAction.hpp&quot;&#xA;#include &quot;uml/ReduceAction.hpp&quot;&#xA;#include &quot;uml/StartClassifierBehaviorAction.hpp&quot;&#xA;#include &quot;uml/StartObjectBehaviorAction.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="createExecution" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/Execution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value=" std::shared_ptr &lt;fUML::Semantics::CommonBehavior::Execution> execution;&#xA;&#xA;    std::shared_ptr &lt;uml::OpaqueBehavior> opaqueBehavior = std::dynamic_pointer_cast&lt;uml::OpaqueBehavior>(behavior);&#xA;    if(opaqueBehavior != nullptr)&#xA;    {&#xA;        execution = this->instantiateOpaqueBehaviorExecution(opaqueBehavior);&#xA;    }&#xA;    else&#xA;    {&#xA;        execution = std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::Execution>(this->instantiateVisitor(behavior));&#xA;        if(execution != nullptr)&#xA;        {&#xA;            execution->getTypes()->push_back(behavior);&#xA;            execution->createFeatureValues();&#xA;        }&#xA;    }&#xA;&#xA;    if(nullptr == execution)&#xA;    {&#xA;        std::cerr &lt;&lt; &quot;[createExecution] Execution is null&quot; &lt;&lt; std::endl;&#xA;        return nullptr;&#xA;    }&#xA;    this->getLocus().lock()->add(execution);&#xA;&#xA;&#xA;    if(context == nullptr)&#xA;    {&#xA;        if(execution != nullptr)&#xA;        {&#xA;            execution->setContext(execution);&#xA;        }&#xA;    }&#xA;    else&#xA;    {&#xA;        if(execution != nullptr)&#xA;        {&#xA;            execution->setContext(context);&#xA;        }&#xA;    }&#xA;&#xA;    return execution;"/>
          </eAnnotations>
          <eParameters name="behavior" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Behavior"/>
          <eParameters name="context" ordered="false" eType="#//Semantics/StructuredClassifiers/Object"/>
        </eOperations>
        <eOperations name="createEvaluation" ordered="false" lowerBound="1" eType="#//Semantics/Values/Evaluation">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::Values::Evaluation> evaluation = std::dynamic_pointer_cast&lt;fUML::Semantics::Values::Evaluation>(this->instantiateVisitor(specification));&#xA;&#xA;    evaluation->setSpecification(specification);&#xA;    evaluation->setLocus(this->getLocus().lock()) /*TODO: it can be dangerous to use the weak pointer!*/;&#xA;&#xA;    return evaluation;"/>
          </eAnnotations>
          <eParameters name="specification" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification"/>
        </eOperations>
        <eOperations name="instantiateVisitor" ordered="false" lowerBound="1" eType="#//Semantics/Loci/SemanticVisitor">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor> visitor = nullptr;&#xA;&#xA;&#x9;if(std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::CallEventBehavior>(element) != nullptr) {&#xA;&#x9;&#x9;return FUMLFactory::eInstance()->createCallEventExecution();&#xA;&#x9;}&#xA;&#xA;&#x9;switch (element->eClass()->getClassifierID()) &#xA;&#x9;{&#xA;&#x9;&#x9;case uml::UmlPackage::LITERALBOOLEAN_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = FUMLFactory::eInstance()->createLiteralBooleanEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::LITERALSTRING_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = FUMLFactory::eInstance()->createLiteralStringEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::LITERALNULL_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor =  FUMLFactory::eInstance()->createLiteralNullEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::INSTANCEVALUE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = FUMLFactory::eInstance()->createInstanceValueEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::LITERALUNLIMITEDNATURAL_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = FUMLFactory::eInstance()->createLiteralUnlimitedNaturalEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::LITERALINTEGER_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = FUMLFactory::eInstance()->createLiteralIntegerEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::LITERALREAL_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = FUMLFactory::eInstance()->createLiteralRealEvaluation();&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::ACTIVITY_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createActivityExecution());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::ACTIVITYPARAMETERNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createActivityParameterNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::INITIALNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createInitialNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::ACTIVITYFINALNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createActivityFinalNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::FLOWFINALNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createFlowFinalNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::JOINNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createJoinNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::MERGENODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createMergeNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::FORKNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createForkNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::DECISIONNODE_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createDecisionNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::INPUTPIN_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createInputPinActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::OUTPUTPIN_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createOutputPinActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CALLBEHAVIORACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createCallBehaviorActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CALLOPERATIONACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createCallOperationActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::SENDSIGNALACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createSendSignalActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::READSELFACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReadSelfActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage:: TESTIDENTITYACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createTestIdentityActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::VALUESPECIFICATIONACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createValueSpecificationActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CREATEOBJECTACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createCreateObjectActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::DESTROYOBJECTACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createDestroyObjectActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::READSTRUCTURALFEATUREACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReadStructuralFeatureActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CLEARSTRUCTURALFEATUREACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createClearStructuralFeatureActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::ADDSTRUCTURALFEATUREVALUEACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createAddStructuralFeatureValueActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::REMOVESTRUCTURALFEATUREVALUEACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createRemoveStructuralFeatureValueActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::READLINKACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReadLinkActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CLEARASSOCIATIONACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createClearAssociationActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CREATELINKACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createCreateLinkActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::DESTROYLINKACTION_CLASS:&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createDestroyLinkActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CONDITIONALNODE_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createConditionalNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::LOOPNODE_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createLoopNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::EXPANSIONREGION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createExpansionRegionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::STRUCTUREDACTIVITYNODE_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createStructuredActivityNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::EXPANSIONNODE_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createExpansionNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::READEXTENTACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReadExtentActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::READISCLASSIFIEDOBJECTACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReadIsClassifiedObjectActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::RECLASSIFYOBJECTACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReclassifyObjectActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::STARTOBJECTBEHAVIORACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createStartObjectBehaviorActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::STARTCLASSIFIERBEHAVIORACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createStartClassifierBehaviorActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::ACCEPTEVENTACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createAcceptEventActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::REDUCEACTION_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createReduceActionActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::DATASTORENODE_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createDataStoreNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;case uml::UmlPackage::CENTRALBUFFERNODE_CLASS: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;visitor = std::shared_ptr&lt;fUML::Semantics::Loci::SemanticVisitor>(FUMLFactory::eInstance()->createCentralBufferNodeActivation());&#xA;&#x9;&#x9;&#x9;break;&#xA;&#x9;&#x9;}&#x9;&#x9;&#xA;&#x9;&#x9;default: &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::cerr &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; &quot; - Unknown visitor type&quot; &lt;&lt; std::endl;&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;&#xA;&#x9;return visitor;"/>
          </eAnnotations>
          <eParameters name="element" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Element"/>
        </eOperations>
        <eOperations name="instantiateOpaqueBehaviorExecution" ordered="false" lowerBound="1"
            eType="#//Semantics/CommonBehavior/OpaqueBehaviorExecution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::CommonBehavior::OpaqueBehaviorExecution> execution = nullptr;&#xA;    unsigned int i = 0;&#xA;    //DEBUG_MESSAGE(std::cout&lt;&lt;&quot;SIZE PROTOTYPES &quot;&lt;&lt; this->getPrimitiveBehaviorPrototypes()->size()&lt;&lt;std::endl;)&#xA;    auto primitiveBehaviorPrototypes = this->getPrimitiveBehaviorPrototypes();&#xA;    while(execution == nullptr &amp;&amp; (i &lt; this->getPrimitiveBehaviorPrototypes()->size()))&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::CommonBehavior::OpaqueBehaviorExecution> prototype = primitiveBehaviorPrototypes->at(i);&#xA;        //DEBUG_MESSAGE(std::cout&lt;&lt;&quot;BEHAVIOUR NAME:&quot;&lt;&lt;prototype->getBehavior()->getName()&lt;&lt;&quot;AND&quot;&lt;&lt;behavior->getName()&lt;&lt;std::endl;)&#xA;        if( prototype->getTypes()->front() == behavior)&#xA;        {&#xA;            execution = std::dynamic_pointer_cast&lt;fUML::Semantics::CommonBehavior::OpaqueBehaviorExecution>(prototype->copy());&#xA;        }&#xA;        i++;&#xA;    }&#xA;&#xA;    if(execution == nullptr)&#xA;    {&#xA;        DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[instantiateOpaqueExecution] No prototype execution found for &quot; &lt;&lt; behavior->getName() &lt;&lt;std::endl;)&#xA;    }&#xA;&#xA;    return execution;"/>
          </eAnnotations>
          <eParameters name="behavior" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//OpaqueBehavior"/>
        </eOperations>
        <eOperations name="addPrimitiveBehaviorPrototype" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::OpaqueBehaviorExecution> > primBehaviorExecution = this->getPrimitiveBehaviorPrototypes();&#xA;    primBehaviorExecution->push_back(execution);"/>
          </eAnnotations>
          <eParameters name="execution" ordered="false" lowerBound="1" eType="#//Semantics/CommonBehavior/OpaqueBehaviorExecution"/>
        </eOperations>
        <eOperations name="addBuiltInType" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;Bag&lt;uml::PrimitiveType> > builtInTypes = this->getBuiltInTypes();&#xD;&#xA;    builtInTypes->push_back(type);"/>
          </eAnnotations>
          <eParameters name="type" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//PrimitiveType"/>
        </eOperations>
        <eOperations name="getBuiltInType" ordered="false" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//PrimitiveType">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;uml::PrimitiveType> type = nullptr;&#xA;    unsigned int i = 0;&#xA;    while (nullptr == type &amp;&amp; i &lt; this->getBuiltInTypes()->size())&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;uml::PrimitiveType> primitiveType = this->getBuiltInTypes()->at(i);&#xA;        if (typeid(primitiveType).name() == name) &#xA;        {&#xA;            type = primitiveType;&#xA;        }&#xA;        i = i + 1;&#xA;    }&#xA;&#xA;    return type;"/>
          </eAnnotations>
          <eParameters name="name" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
        </eOperations>
        <eOperations name="assignStrategy" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="    unsigned int i = this->getStrategyIndex(strategy->getName());&#xA;&#xA;    if(i &lt; this->getStrategies()->size())&#xA;    {&#xA;        this->getStrategies()->erase(this->getStrategies()->begin() + i);&#xA;    }&#xA;&#xA;    this->getStrategies()->push_back(strategy);"/>
          </eAnnotations>
          <eParameters name="strategy" ordered="false" lowerBound="1" eType="#//Semantics/Loci/SemanticStrategy"/>
        </eOperations>
        <eOperations name="getStrategy" ordered="false" eType="#//Semantics/Loci/SemanticStrategy">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;unsigned int i = this->getStrategyIndex(name);&#xA;&#xA;&#x9;std::shared_ptr&lt;fUML::Semantics::Loci::SemanticStrategy> strategy = nullptr;&#xA;    if(i &lt; this->getStrategies()->size())&#xA;    {&#xA;        strategy = this->getStrategies()->at(i);&#xA;    }&#xA;&#xA;    return strategy;"/>
          </eAnnotations>
          <eParameters name="name" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
        </eOperations>
        <eOperations name="getStrategyIndex" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;Bag&lt;fUML::Semantics::Loci::SemanticStrategy>* strategies = this->getStrategies().get();&#xA;&#xA;    unsigned int i = 0;&#xA;    bool unmatched = true;&#xA;    const unsigned int s_size = strategies->size();&#xA;    while(unmatched &amp;&amp; (i &lt; s_size))&#xA;    {&#xA;        if((*strategies)[i]->getName()==name)&#xA;        {&#xA;            unmatched = false;&#xA;        }&#xA;        else&#xA;        {&#xA;            i = i + 1;&#xA;        }&#xA;    }&#xA;    return i;"/>
          </eAnnotations>
          <eParameters name="name" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="locus" ordered="false"
            eType="#//Semantics/Loci/Locus" eOpposite="#//Semantics/Loci/Locus/factory"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="strategies" ordered="false"
            upperBound="-1" eType="#//Semantics/Loci/SemanticStrategy"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="primitiveBehaviorPrototypes"
            upperBound="-1" eType="#//Semantics/CommonBehavior/OpaqueBehaviorExecution">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="map_key" value="Behavior"/>
          </eAnnotations>
        </eStructuralFeatures>
        <eStructuralFeatures xsi:type="ecore:EReference" name="builtInTypes" ordered="false"
            upperBound="-1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//PrimitiveType"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Executor">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &quot;fUML/Semantics/Values/Evaluation.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/Execution.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Object.hpp&quot;"/>
        </eAnnotations>
        <eOperations name="evaluate" ordered="false" lowerBound="1" eType="#//Semantics/Values/Value">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="if (auto locus = this->getLocus().lock())&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return locus->getFactory()->createEvaluation(specification)->evaluate();&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return nullptr;&#xD;&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="specification" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//ValueSpecification"/>
        </eOperations>
        <eOperations name="start" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Reference">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[start] Starting &quot; &lt;&lt; typeid(type).name() &lt;&lt;&quot;...&quot;&lt;&lt;std::endl;)&#xA;&#xA;&#x9;if (auto locus = this->getLocus().lock())&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> object = locus->instantiate(type);&#xA;&#xA;&#x9;&#x9;DEBUG_MESSAGE(std::cout&lt;&lt;&quot;[start] Object = &quot; &lt;&lt; object&lt;&lt;std::endl;)&#xA;&#x9;&#x9;object->startBehavior(type,inputs);&#xA;&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Reference> reference(fUML::FUMLFactory::eInstance()->createReference());&#xA;&#x9;&#x9;reference->setReferent(object);&#xA;&#x9;&#x9;return reference;&#xA;&#x9;}&#xA;&#x9;else&#xA;&#x9;{&#xA;&#x9;&#x9;return nullptr;&#xA;&#x9;}"/>
          </eAnnotations>
          <eParameters name="type" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
          <eParameters name="inputs" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eOperations name="execute" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::CommonBehavior::Execution> execution = nullptr;&#xA;&#x9;if (auto locus = this->getLocus().lock())&#xA;&#x9;{&#xA;&#x9;&#x9;execution = locus->getFactory()->createExecution(behavior, context);&#xA;&#x9;}&#xA;&#xA;    if(nullptr == execution)&#xA;    {&#xA;        std::cerr &lt;&lt; &quot;[execute] Execution is null&quot; &lt;&lt; std::endl;&#xA;        return nullptr;&#xA;    }&#xA;&#xA;    for(std::shared_ptr&lt;fUML::Semantics::CommonBehavior::ParameterValue> parameterValue : *inputs )&#xA;    {&#xA;        execution->setParameterValue(parameterValue);&#xA;    }&#xA;&#xA;    execution->execute();&#xA;    std::shared_ptr&lt;Bag&lt;fUML::Semantics::CommonBehavior::ParameterValue> > outputValues = execution->getOutputParameterValues();&#xA;    execution->destroy();&#xA;&#xA;    return outputValues;"/>
          </eAnnotations>
          <eParameters name="behavior" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Behavior"/>
          <eParameters name="context" ordered="false" eType="#//Semantics/StructuredClassifiers/Object"/>
          <eParameters name="inputs" ordered="false" upperBound="-1" eType="#//Semantics/CommonBehavior/ParameterValue"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="locus" ordered="false"
            eType="#//Semantics/Loci/Locus" eOpposite="#//Semantics/Loci/Locus/executor"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="FirstChoiceStrategy" eSuperTypes="#//Semantics/Loci/ChoiceStrategy">
        <eOperations name="choose" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="return 1;"/>
          </eAnnotations>
          <eParameters name="size" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
        </eOperations>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="Locus">
        <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
          <details key="includes" value="#include &lt;algorithm>&#xA;#include &quot;uml/Classifier.hpp&quot;&#xA;#include &quot;uml/Behavior.hpp&quot;&#xA;#include &quot;uml/Class.hpp&quot;&#xA;#include &quot;fUML/FUMLFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/ExecutionFactory.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/ExtensionalValue.hpp&quot;&#xA;#include &quot;fUML/Semantics/Loci/Executor.hpp&quot;&#xA;#include &quot;fUML/Semantics/StructuredClassifiers/Object.hpp&quot;&#xA;#include &quot;fUML/Semantics/CommonBehavior/Execution.hpp&quot;&#xA;"/>
        </eAnnotations>
        <eOperations name="conforms" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;bool doesConform = false;&#xD;&#xA;    if(type == classifier)&#xD;&#xA;    {&#xD;&#xA;        doesConform = true;&#xD;&#xA;    }&#xD;&#xA;    else&#xD;&#xA;    {&#xD;&#xA;        unsigned int i = 0;&#xD;&#xA;        while(!doesConform &amp;&amp; (i &lt; type->getGeneral()->size()))&#xD;&#xA;        {&#xD;&#xA;            doesConform = this->conforms(type->getGeneral()->at(i), classifier);&#xD;&#xA;            i = i + 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return doesConform;"/>
          </eAnnotations>
          <eParameters name="type" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
          <eParameters name="classifier" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
        </eOperations>
        <eOperations name="assignExecutor" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->setExecutor(executor);&#xD;&#xA;&#x9;this->getExecutor()->setLocus(getThisLocusPtr());"/>
          </eAnnotations>
          <eParameters name="executor" ordered="false" lowerBound="1" eType="#//Semantics/Loci/Executor"/>
        </eOperations>
        <eOperations name="assignFactory" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="this->setFactory(factory);&#xD;&#xA;&#x9;this->getFactory()->setLocus(getThisLocusPtr());"/>
          </eAnnotations>
          <eParameters name="factory" ordered="false" lowerBound="1" eType="#//Semantics/Loci/ExecutionFactory"/>
        </eOperations>
        <eOperations name="retrieveExtent" ordered="false" upperBound="-1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::StructuredClassifiers::ExtensionalValue> > extent =this->getExtensionalValues();&#xA;&#x9;std::shared_ptr&lt;Bag&lt;fUML::Semantics::StructuredClassifiers::ExtensionalValue> > extensionalValues = this->getExtensionalValues();&#xA;&#xA;&#x9;for (unsigned int i=0; i &lt; extensionalValues->size();i++)&#xA;&#x9;{&#xA;&#x9;&#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::ExtensionalValue> value = extensionalValues->at(i);&#xA;&#x9;&#x9;std::shared_ptr&lt;Bag&lt;uml::Classifier> > types = value->getTypes();&#xA;&#x9;&#x9;bool conforms = false;&#xA;&#x9;&#x9;unsigned int j = 0;&#xA;&#x9;&#x9;while(!conforms &amp;&amp; j &lt; types->size())&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;conforms = this->conforms(types->at(j), classifier);&#xA;&#x9;&#x9;&#x9;j = j + 1;&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;if(conforms)&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;extent->push_back(value);&#xA;&#x9;&#x9;}&#xA;&#x9;}&#xA;&#x9;return extent;"/>
          </eAnnotations>
          <eParameters name="classifier" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Classifier"/>
        </eOperations>
        <eOperations name="add" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="value->setLocus(getThisLocusPtr());&#xA;&#x9;this->getExtensionalValues()->push_back(value);"/>
          </eAnnotations>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
        </eOperations>
        <eOperations name="remove" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="value->setLocus(nullptr);&#xD;&#xA;&#x9;this->getExtensionalValues()->erase(value);"/>
          </eAnnotations>
          <eParameters name="value" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"/>
        </eOperations>
        <eOperations name="instantiate" ordered="false" lowerBound="1" eType="#//Semantics/StructuredClassifiers/Object">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object> object = nullptr;&#xA;&#x9;std::shared_ptr&lt;uml::Behavior> behavior = std::dynamic_pointer_cast&lt;uml::Behavior>(type);&#xA;    if(behavior != nullptr)&#xA;    {&#xA;    &#x9;std::shared_ptr&lt;fUML::Semantics::StructuredClassifiers::Object>  context = nullptr;&#xA;        object = std::dynamic_pointer_cast&lt;fUML::Semantics::StructuredClassifiers::Object>(this->getFactory()->createExecution(behavior, nullptr));&#xA;    }&#xA;    else&#xA;    {&#xA;        object = FUMLFactory::eInstance()->createObject();&#xA;        object->getTypes()->push_back(type);&#xA;        object->createFeatureValues();&#xA;        this->add(object);&#xA;    }&#xA;    &#xA;    return object;"/>
          </eAnnotations>
          <eParameters name="type" ordered="false" lowerBound="1" eType="ecore:EClass http://www.eclipse.org/uml2/5.0.0/UML#//Class"/>
        </eOperations>
        <eStructuralFeatures xsi:type="ecore:EReference" name="executor" ordered="false"
            eType="#//Semantics/Loci/Executor" containment="true" eOpposite="#//Semantics/Loci/Executor/locus"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="factory" lowerBound="1"
            eType="#//Semantics/Loci/ExecutionFactory" containment="true" eOpposite="#//Semantics/Loci/ExecutionFactory/locus"/>
        <eStructuralFeatures xsi:type="ecore:EReference" name="extensionalValues"
            ordered="false" upperBound="-1" eType="#//Semantics/StructuredClassifiers/ExtensionalValue"
            containment="true"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="SemanticStrategy" abstract="true">
        <eOperations name="getName" ordered="false" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eClassifiers>
      <eClassifiers xsi:type="ecore:EClass" name="SemanticVisitor" abstract="true">
        <eOperations name="_endIsolation" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt; &quot;[_endIsolation] End isolation.&quot;&lt;&lt;std::endl;)"/>
          </eAnnotations>
        </eOperations>
        <eOperations name="_beginIsolation" ordered="false" lowerBound="1">
          <eAnnotations source="http://sse.tu-ilmenau.de/codegen">
            <details key="body" value="DEBUG_MESSAGE(std::cout&lt;&lt; &quot;[_beginIsolation] Begin isolation.&quot;&lt;&lt;std::endl;)"/>
          </eAnnotations>
        </eOperations>
      </eClassifiers>
    </eSubpackages>
  </eSubpackages>
</ecore:EPackage>

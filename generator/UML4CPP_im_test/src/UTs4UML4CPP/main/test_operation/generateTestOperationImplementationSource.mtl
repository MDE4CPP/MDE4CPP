[comment encoding = UTF-8 /]
[module generateTestOperationImplementationSource('http://www.eclipse.org/uml2/5.0.0/UML','http://www.eclipse.org/emf/2002/Ecore')]

[import UTs4UML4CPP::main::helper::helper/]
[import UTs4UML4CPP::main::helper::classHelper/]
[import UTs4UML4CPP::main::helper::operationHelper/]
[import UTs4UML4CPP::main::helper::packageHelper/]

[template public generateTestOperationImplementationSource( anOperation : Operation ) { 
	operationName : String = anOperation.getOperationName();
	testOperationName : String = operationName.buildTestSuiteName();
	className : String = anOperation.ancestors()->filter(Class)->first().getClassName();
	packageName : String = anOperation.ancestors()->filter(Package)->first().getPackageName();}]
[file( packageName.concat('/').concat(className).concat('/').concat(testOperationName).buildSourcePath(), false, 'UTF-8')]
#include "cute.h"
#include "[packageName/]/[className/]/[testOperationName/].hpp"
#include "[packageName/]/impl/[className/]Impl.hpp"

//testCodeGen.includes
[anOperation.eAnnotations.generateIncludes()/]

[anOperation.eAnnotations.generateTestOperations( operationName )/]
[generateMakeSuite( anOperation.eAnnotations, operationName )/]
[/file]
[/template]
